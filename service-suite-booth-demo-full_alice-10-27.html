<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Service Studio - Demo</title>
    <!-- Updated: 2025-01-16 to force GitHub Pages rebuild -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'nav-dark': '#1e1b4b', // Very dark navy blue
                        'nav-medium': '#312e81', // Medium navy
                        'nav-light': '#4338ca', // Lighter purple-blue
                    }
                }
            }
        }
    </script>
    <style>
        body { margin: 0; padding: 0; }
        .nav-icon {
            width: 20px;
            height: 20px;
        }
        .nav-active {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
        }
        #rotating-text {
            min-width: 140px;
            text-align: left;
            position: relative;
        }
        #rotating-text::after {
            content: '|';
            animation: blink 1s infinite;
            margin-left: 2px;
        }
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }
        #animated-placeholder {
            transition: opacity 0.3s ease-in-out;
        }
        .sidebar-collapsed {
            width: 60px !important;
        }
        .sidebar-collapsed .nav-text {
            display: none !important;
        }
        .sidebar-collapsed a {
            justify-content: center !important;
            padding-left: 0.75rem !important;
            padding-right: 0.75rem !important;
        }
        .sidebar-collapsed .space-y-1 {
            padding-left: 0 !important;
            padding-right: 0 !important;
        }
        .sidebar-collapsed .flex-1.overflow-y-auto {
            padding-left: 8px !important;
            padding-right: 8px !important;
        }
        .sidebar-collapsed ~ #main-content {
            margin-left: 116px !important;
        }
        #expanded-nav {
            transition: width 0.3s ease-in-out;
        }

        /* Ensure profile dropdown appears above all content */
        #profile-dropdown {
            z-index: 9999 !important;
        }

        /* FEATURE FLAG: Pierre AI Response System - Set to 'none' to disable */
        .pierre-ai-feature {
            display: block; /* Change to 'none' to completely disable Pierre's AI response feature */
        }

        /* Navigation alignment - ensure icon and text are vertically centered */
        #expanded-nav a {
            align-items: center !important;
            display: flex !important;
        }

        #expanded-nav a svg {
            flex-shrink: 0;
        }

        #expanded-nav a .nav-text {
            line-height: 1;
        }

        .chat-interface-layout {
            height: calc(100vh - 70px);
            width: calc(100vw - 116px);
            position: fixed;
            top: 70px;
            left: 116px; /* Position after dark strip (56px) + collapsed sidebar (60px) */
            z-index: 5;
        }
        .chat-interface-layout .w-1\/4 {
            height: 100%;
        }
        .chat-interface-layout .flex-1 {
            height: 100%;
        }

        /* Custom scrollbar for AI Thought Process */
        .overflow-y-auto::-webkit-scrollbar {
            width: 6px;
        }
        .overflow-y-auto::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 3px;
        }
        .overflow-y-auto::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 3px;
        }
        .overflow-y-auto::-webkit-scrollbar-thumb:hover {
            background: #a1a1a1;
        }
    </style>
</head>
<body class="bg-gray-50">
    <div class="flex h-screen">
        <!-- Level 1: Fixed Dark Sidebar with Icons -->
        <div class="w-14 text-white h-screen fixed left-0 top-0 flex flex-col z-20" style="background: linear-gradient(180deg, #141023 0%, #2E41A6 100%)">
            <!-- Logo Section -->
            <div class="pt-5 pb-3 px-3 flex items-center justify-center">
                <svg width="31" height="21" viewBox="0 0 31 21" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-8 h-auto">
                    <g clip-path="url(#clip0_12637_19232)">
                        <path d="M16.3172 20.5608L30.1146 6.52144C30.3912 6.23992 30.5465 5.85816 30.5465 5.4601C30.5465 5.06204 30.3912 4.68027 30.1146 4.39876L26.4913 0.710614C26.2698 0.485271 26.0068 0.306532 25.7174 0.184603C25.428 0.0626741 25.1179 -5.76524e-05 24.8046 -7.59947e-06H5.74369C5.43046 -5.76524e-05 5.12029 0.0626741 4.83089 0.184603C4.54149 0.306532 4.27853 0.485271 4.05702 0.710614L0.43373 4.39876C0.157157 4.68027 0.001791 5.06204 0.001791 5.4601C0.001791 5.85816 0.157157 6.23992 0.43373 6.52144L14.2311 20.5608C14.5078 20.8422 14.883 21.0003 15.2742 21.0003C15.6654 21.0003 16.0405 20.8422 16.3172 20.5608Z" fill="url(#paint0_linear_12637_19232)"/>
                        <path opacity="0.4" d="M3.95572 0.81288C4.20159 0.563066 4.50441 0.379051 4.83715 0.277248C5.16989 0.175446 5.52222 0.15902 5.86272 0.229436L29.8213 5.18411C29.928 5.2064 30.0286 5.25261 30.1155 5.31939C30.2025 5.38617 30.2738 5.47184 30.3241 5.57017C30.3745 5.6685 30.4027 5.77701 30.4066 5.88781C30.4106 5.99861 30.3902 6.10892 30.347 6.21071C30.5097 5.92473 30.5751 5.59207 30.5329 5.26442C30.4907 4.93677 30.3434 4.63246 30.1138 4.39876L26.4905 0.710614C26.269 0.485271 26.006 0.306532 25.7166 0.184603C25.4272 0.0626741 25.1171 -5.76525e-05 24.8038 -7.59947e-06H5.74289C5.42967 -5.76525e-05 5.1195 0.0626741 4.8301 0.184603C4.5407 0.306532 4.27774 0.485271 4.05623 0.710614L3.95572 0.81288Z" fill="url(#paint1_linear_12637_19232)"/>
                        <path opacity="0.4" d="M25.2782 1.06978L23.8763 3.95421L29.828 5.18534C29.9347 5.20763 30.0352 5.25384 30.1222 5.32062C30.2092 5.3874 30.2804 5.47307 30.3308 5.5714C30.3811 5.66973 30.4093 5.77824 30.4133 5.88904C30.4172 5.99984 30.3969 6.11015 30.3537 6.21194C30.5164 5.92596 30.5817 5.5933 30.5396 5.26565C30.4974 4.938 30.3501 4.63369 30.1204 4.39999L26.4907 0.710534C26.2692 0.485191 26.0062 0.306452 25.7168 0.184523C25.4274 0.0625943 25.1173 -0.000137481 24.804 -8.74283e-05H24.6198C24.7442 -0.00116846 24.8668 0.0302137 24.9759 0.0910635C25.085 0.151913 25.177 0.240201 25.243 0.347499C25.3091 0.454797 25.347 0.577525 25.3531 0.70397C25.3593 0.830415 25.3335 0.956357 25.2782 1.06978V1.06978Z" fill="url(#paint2_linear_12637_19232)"/>
                        <path d="M30.3469 6.21076C30.3902 6.10897 30.4105 5.99867 30.4066 5.88786C30.4026 5.77706 30.3744 5.66855 30.3241 5.57022C30.2737 5.4719 30.2025 5.38623 30.1155 5.31944C30.0285 5.25266 29.928 5.20645 29.8212 5.18416L23.8696 3.95304L15.8808 20.3746C15.7778 20.5876 15.6036 20.7563 15.3894 20.8505C15.1753 20.9447 14.9352 20.9582 14.7121 20.8886C14.9815 21.0022 15.278 21.0319 15.564 20.9741C15.85 20.9162 16.1127 20.7733 16.3189 20.5634L30.1137 6.52149C30.2046 6.42886 30.2831 6.32438 30.3469 6.21076V6.21076Z" fill="url(#paint3_linear_12637_19232)"/>
                    </g>
                    <defs>
                        <linearGradient id="paint0_linear_12637_19232" x1="9.54538" y1="14.7954" x2="18.3355" y2="1.56416" gradientUnits="userSpaceOnUse">
                            <stop stop-color="#EFECFF"/>
                            <stop offset="1" stop-color="#A4C9EB"/>
                        </linearGradient>
                        <linearGradient id="paint1_linear_12637_19232" x1="18.1359" y1="1.90908" x2="19.2014" y2="-4.73774" gradientUnits="userSpaceOnUse">
                            <stop offset="0.07" stop-color="white"/>
                            <stop offset="0.89" stop-color="#009FFF"/>
                        </linearGradient>
                        <linearGradient id="paint2_linear_12637_19232" x1="3743.52" y1="1482.75" x2="4101.12" y2="1154.22" gradientUnits="userSpaceOnUse">
                            <stop offset="0.07" stop-color="white"/>
                            <stop offset="0.89" stop-color="#009FFF"/>
                        </linearGradient>
                        <linearGradient id="paint3_linear_12637_19232" x1="19.5678" y1="10.4999" x2="27.7267" y2="14.7077" gradientUnits="userSpaceOnUse">
                            <stop stop-color="#EAF0FF"/>
                            <stop offset="0.98" stop-color="#7BA2CB"/>
                        </linearGradient>
                        <clipPath id="clip0_12637_19232">
                            <rect width="30.5455" height="21" fill="white"/>
                        </clipPath>
                    </defs>
                </svg>
            </div>

            <!-- Navigation Icons -->
            <nav class="flex-1 py-6">
                <ul class="space-y-2 px-2">
                    <li>
                        <div class="w-10 h-10 flex items-center justify-center rounded-lg text-white">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
                            </svg>
                        </div>
                    </li>
                    <li>
                        <div class="w-10 h-10 flex items-center justify-center rounded-lg text-white">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-6 h-6">
                                <path d="M9.7668 5.68674C9.97222 5.13161 10.7574 5.1316 10.9628 5.68674L12.3376 9.40205C12.7251 10.4492 13.5508 11.2749 14.598 11.6624L18.3133 13.0372C18.8684 13.2426 18.8684 14.0278 18.3133 14.2332L14.598 15.608C13.5508 15.9955 12.7251 16.8211 12.3376 17.8683L10.9628 21.5836C10.7574 22.1388 9.97222 22.1388 9.7668 21.5836L8.39201 17.8683C8.00451 16.8211 7.17886 15.9955 6.13166 15.608L2.41635 14.2332C1.86122 14.0278 1.86122 13.2426 2.41635 13.0372L6.13166 11.6624C7.17886 11.2749 8.00451 10.4492 8.39201 9.40205L9.7668 5.68674Z" fill="currentColor"/>
                                <path d="M18.4149 2.16654C18.497 1.94449 18.8111 1.94449 18.8933 2.16654L19.4432 3.65266C19.5982 4.07154 19.9285 4.4018 20.3473 4.5568L21.8335 5.10672C22.0555 5.18889 22.0555 5.50296 21.8335 5.58513L20.3473 6.13504C19.9285 6.29004 19.5982 6.6203 19.4432 7.03918L18.8933 8.5253C18.8111 8.74736 18.497 8.74736 18.4149 8.5253L17.865 7.03918C17.71 6.6203 17.3797 6.29004 16.9608 6.13504L15.4747 5.58513C15.2526 5.50296 15.2526 5.18889 15.4747 5.10672L16.9608 4.5568C17.3797 4.4018 17.71 4.07154 17.865 3.65266L18.4149 2.16654Z" fill="currentColor"/>
                            </svg>
                        </div>
                    </li>
                    <li>
                        <div class="w-10 h-10 flex items-center justify-center rounded-lg text-white" style="background-color: #824BFB">
                            <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-6 h-6">
                                <path d="M1.5 13.1111H4.66667C5.22657 13.1111 5.76354 13.3335 6.15945 13.7294C6.55536 14.1254 6.77778 14.6623 6.77778 15.2222V18.3889C6.77778 18.9488 6.55536 19.4858 6.15945 19.8817C5.76354 20.2776 5.22657 20.5 4.66667 20.5H3.61111C3.05121 20.5 2.51424 20.2776 2.11833 19.8817C1.72242 19.4858 1.5 18.9488 1.5 18.3889V11C1.5 8.48044 2.50089 6.06408 4.28249 4.28249C6.06408 2.50089 8.48044 1.5 11 1.5C13.5196 1.5 15.9359 2.50089 17.7175 4.28249C19.4991 6.06408 20.5 8.48044 20.5 11V18.3889C20.5 18.9488 20.2776 19.4858 19.8817 19.8817C19.4858 20.2776 18.9488 20.5 18.3889 20.5H17.3333C16.7734 20.5 16.2365 20.2776 15.8406 19.8817C15.4446 19.4858 15.2222 18.9488 15.2222 18.3889V15.2222C15.2222 14.6623 15.4446 14.1254 15.8406 13.7294C16.2365 13.3335 16.7734 13.1111 17.3333 13.1111H20.5" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                    </li>
                </ul>
            </nav>

            <!-- Bottom Icons -->
            <div class="p-3 space-y-2 flex flex-col items-center">
                <div class="w-10 h-10 flex items-center justify-center rounded-lg text-white hover:bg-gray-700 hover:text-white transition-colors cursor-pointer">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                    </svg>
                </div>
                <div class="w-10 h-10 flex items-center justify-center">
                    <span class="text-base font-medium text-white">A</span>
                </div>
            </div>
        </div>

        <!-- Level 2: Expanded Navigation Panel -->
        <div id="expanded-nav" class="w-64 bg-white h-screen fixed left-14 flex flex-col z-10 transition-all duration-300 border-r border-gray-200" style="top: 70px;">

            <!-- Navigation Content -->
            <div class="flex-1 overflow-y-auto p-4 pt-6">
                <div class="space-y-1">
                    <!-- Home -->
                    <a id="nav-home" href="#" onclick="showPage('home')" class="flex items-center space-x-3 px-3 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors" style="height: 48px;">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/>
                            <polyline stroke-linecap="round" stroke-linejoin="round" stroke-width="2" points="9,22 9,12 15,12 15,22"/>
                        </svg>
                        <span class="nav-text">Home</span>
                    </a>

                    <!-- Outreach -->
                    <a id="nav-outreach" href="#" onclick="showPage('customers')" class="flex items-center space-x-3 px-3 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors" style="height: 48px;">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/>
                        </svg>
                        <span class="nav-text">Outreach</span>
                    </a>

                    <!-- Conversations -->
                    <a id="nav-conversations" href="#" onclick="showPage('conversations')" class="flex items-center space-x-3 px-3 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors" style="height: 48px;">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"/>
                        </svg>
                        <span class="nav-text">Conversations</span>
                    </a>

                    <!-- AI Agent Settings -->
                    <a id="nav-ai-settings" href="#" onclick="showPage('ai-settings')" class="flex items-center space-x-3 px-3 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors" style="height: 48px;">
                        <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M9.7668 5.68674C9.97222 5.13161 10.7574 5.1316 10.9628 5.68674L12.3376 9.40205C12.7251 10.4492 13.5508 11.2749 14.598 11.6624L18.3133 13.0372C18.8684 13.2426 18.8684 14.0278 18.3133 14.2332L14.598 15.608C13.5508 15.9955 12.7251 16.8211 12.3376 17.8683L10.9628 21.5836C10.7574 22.1388 9.97222 22.1388 9.7668 21.5836L8.39201 17.8683C8.00451 16.8211 7.17886 15.9955 6.13166 15.608L2.41635 14.2332C1.86122 14.0278 1.86122 13.2426 2.41635 13.0372L6.13166 11.6624C7.17886 11.2749 8.00451 10.4492 8.39201 9.40205L9.7668 5.68674Z" fill="currentColor"/>
                            <path d="M18.4149 2.16654C18.497 1.94449 18.8111 1.94449 18.8933 2.16654L19.4432 3.65266C19.5982 4.07154 19.9285 4.4018 20.3473 4.5568L21.8335 5.10672C22.0555 5.18889 22.0555 5.50296 21.8335 5.58513L20.3473 6.13504C19.9285 6.29004 19.5982 6.6203 19.4432 7.03918L18.8933 8.5253C18.8111 8.74736 18.497 8.74736 18.4149 8.5253L17.865 7.03918C17.71 6.6203 17.3797 6.29004 16.9608 6.13504L15.4747 5.58513C15.2526 5.50296 15.2526 5.18889 15.4747 5.10672L16.9608 4.5568C17.3797 4.4018 17.71 4.07154 17.865 3.65266L18.4149 2.16654Z" fill="currentColor"/>
                        </svg>
                        <span class="nav-text">AI Agent Settings</span>
                    </a>

                    <!-- Integrations -->
                    <a id="nav-integrations" href="#" onclick="showPage('integrations')" class="flex items-center space-x-3 px-3 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors" style="height: 48px;">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>
                        </svg>
                        <span class="nav-text">Integrations</span>
                    </a>
                </div>
            </div>
        </div>

        <!-- Top Masthead - 70px height, spans across entire top -->
        <div class="bg-white fixed top-0 left-14 right-0 z-40 border-b border-gray-200" style="height: 70px;">
            <div class="px-6 flex items-center justify-between h-full">
                <h1 class="text-2xl font-bold text-gray-900">Service Studio</h1>

                <!-- Profile Selector -->
                <div class="relative">
                    <button id="profile-selector" onclick="toggleProfileDropdown()" class="flex items-center space-x-3 px-4 py-2 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors">
                        <img id="current-user-avatar"
                             src="https://images.unsplash.com/photo-1560250097-0b93528c311a?w=150&h=150&fit=crop&crop=face&auto=format"
                             alt="Pierre"
                             class="w-8 h-8 rounded-full object-cover border-2 border-gray-200">
                        <div class="text-left">
                            <div id="current-user-name" class="text-sm font-medium text-gray-900">Pierre</div>
                            <div id="current-user-role" class="text-xs text-gray-500">Customer Service Agent</div>
                        </div>
                        <svg class="w-4 h-4 text-gray-400 transition-transform duration-200" id="dropdown-chevron" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                        </svg>
                    </button>

                    <!-- Dropdown Menu -->
                    <div id="profile-dropdown" class="hidden absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 z-50">
                        <div class="py-2">
                            <!-- Pierre - Customer Service Agent -->
                            <button onclick="switchPersona('customer-service')" class="w-full flex items-center space-x-3 px-4 py-3 text-left hover:bg-gray-50 transition-colors">
                                <img src="https://images.unsplash.com/photo-1560250097-0b93528c311a?w=150&h=150&fit=crop&crop=face&auto=format"
                                     alt="Pierre"
                                     class="w-10 h-10 rounded-full object-cover border-2 border-blue-200">
                                <div>
                                    <div class="text-sm font-medium text-gray-900">Pierre</div>
                                    <div class="text-xs text-gray-500">Customer Service Agent</div>
                                </div>
                            </button>

                            <!-- Leslie - In-Store Agent -->
                            <button onclick="switchPersona('in-store')" class="w-full flex items-center space-x-3 px-4 py-3 text-left hover:bg-gray-50 transition-colors">
                                <img src="https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?w=150&h=150&fit=crop&crop=face&auto=format"
                                     alt="Leslie"
                                     class="w-10 h-10 rounded-full object-cover border-2 border-green-200">
                                <div>
                                    <div class="text-sm font-medium text-gray-900">Leslie</div>
                                    <div class="text-xs text-gray-500">In-Store Agent</div>
                                </div>
                            </button>

                            <!-- Admin Option -->
                            <button onclick="switchPersona('admin')" class="w-full flex items-center space-x-3 px-4 py-3 text-left hover:bg-gray-50 transition-colors">
                                <img src="https://images.unsplash.com/photo-1519085360753-af0119f7cbe7?w=150&h=150&fit=crop&crop=face&auto=format"
                                     alt="Steve"
                                     class="w-10 h-10 rounded-full object-cover border-2 border-orange-200">
                                <div>
                                    <div class="text-sm font-medium text-gray-900">Steve</div>
                                    <div class="text-xs text-gray-500">Admin</div>
                                </div>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content Area -->
        <main id="main-content" class="ml-80 flex-1 overflow-auto bg-gray-50 transition-all duration-300" style="margin-top: 70px;">

            <div class="p-6 pt-8">
                <!-- Home Page -->
                <div id="home-page" class="page-content">
                    <div class="space-y-8">

                        <!-- Hero Section -->
                        <div id="hero-section" class="text-center mb-12">
                            <h1 class="text-4xl font-bold text-gray-900 mb-4">What are we solving today?</h1>
                            <p class="text-lg text-gray-600 mb-8">Helping and empowering customers with Treasure Data Service AI</p>

                            <!-- AI Chat Interface -->
                            <div class="max-w-4xl mx-auto">
                                <div class="relative">
                                    <textarea
                                        id="ai-textarea"
                                        class="w-full p-6 text-lg border-2 border-blue-300 rounded-2xl resize-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400 bg-white shadow-sm"
                                        rows="4"
                                    ></textarea>
                                    <!-- Animated placeholder overlay -->
                                    <div id="animated-placeholder" class="absolute top-6 left-6 text-lg text-gray-400 pointer-events-none">
                                        Ask Service AI about <span id="rotating-text" class="inline-block">customers</span>
                                    </div>
                                    <!-- Dictation Button (no background) -->
                                    <button class="absolute bottom-6 right-20 text-gray-600 hover:text-gray-800 p-3 transition-colors">
                                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"/>
                                            <path d="M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"/>
                                        </svg>
                                    </button>
                                    <!-- Voice Command / Submit Button (with lighter gray background) -->
                                    <button id="voice-submit-btn" class="absolute bottom-6 right-6 bg-gray-200 hover:bg-gray-300 text-gray-700 p-3 rounded-full transition-colors">
                                        <!-- Voice Mode Icon (default) -->
                                        <svg id="voice-icon" class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                            <rect x="11" y="6" width="2" height="12" rx="1"/>
                                            <rect x="7" y="8" width="2" height="8" rx="1"/>
                                            <rect x="15" y="8" width="2" height="8" rx="1"/>
                                            <rect x="3" y="10" width="2" height="4" rx="1"/>
                                            <rect x="19" y="10" width="2" height="4" rx="1"/>
                                        </svg>
                                        <!-- Submit Icon (hidden by default) -->
                                        <svg id="submit-icon" class="w-5 h-5 hidden" fill="currentColor" viewBox="0 0 16 16">
                                            <path d="M13.4636 7.15162C13.6587 7.34616 13.6587 7.65374 13.4636 7.84828C13.2684 8.04285 12.9596 8.04287 12.7644 7.84828L8.60234 3.69644V12.2C8.60234 12.4761 8.37686 12.7 8.10006 12.7C7.82328 12.7 7.59778 12.4761 7.59778 12.2L7.59778 3.69644L3.43574 7.84828L3.39869 7.88141C3.19813 8.03361 2.89702 8.02367 2.70851 7.84828C2.51979 7.67273 2.50979 7.37254 2.68695 7.18487L2.70851 7.15162L7.57423 2.30982C7.59993 2.28463 7.62776 2.2618 7.65657 2.24207C7.68599 2.22083 7.71788 2.20317 7.75128 2.18931C7.78467 2.17545 7.81825 2.16608 7.85098 2.16094C7.87691 2.15651 7.90419 2.15326 7.93206 2.15326C7.96044 2.15325 7.98821 2.1564 8.01471 2.16094C8.04554 2.16564 8.07581 2.17404 8.10469 2.18594L8.11054 2.18797C8.12855 2.1946 8.1447 2.20277 8.16128 2.21047C8.19093 2.22563 8.21893 2.24397 8.24389 2.26673L13.4636 7.15162Z"/>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Pierre's AI Response Area (new implementation) -->
                        <div id="pierre-ai-response" class="pierre-ai-feature hidden w-full mt-8">
                            <div class="max-w-4xl mx-auto">
                                <div class="bg-white rounded-lg shadow-sm border border-gray-200" style="max-height: 600px;">
                                    <!-- Thinking Animation -->
                                    <div id="ai-thinking" class="hidden p-6 border-b border-gray-200">
                                        <div class="flex items-center space-x-3">
                                            <div class="flex space-x-1">
                                                <div class="w-2 h-2 bg-blue-500 rounded-full animate-bounce" style="animation-delay: 0ms;"></div>
                                                <div class="w-2 h-2 bg-blue-500 rounded-full animate-bounce" style="animation-delay: 150ms;"></div>
                                                <div class="w-2 h-2 bg-blue-500 rounded-full animate-bounce" style="animation-delay: 300ms;"></div>
                                            </div>
                                            <span class="text-gray-600 text-sm">AI is thinking...</span>
                                        </div>
                                    </div>

                                    <!-- Response Content -->
                                    <div id="ai-response-content" class="hidden overflow-y-auto" style="max-height: 500px;">
                                        <div class="p-6">
                                            <div id="ai-response-text" class="text-gray-800 leading-relaxed"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Home Page Response Area (hidden by default) -->
                        <div id="home-response-area" class="hidden w-full mt-8 px-6">
                            <div class="bg-white rounded-lg shadow-sm border border-gray-200">
                                <div class="p-4 border-b border-gray-200">
                                    <h3 class="text-lg font-semibold text-gray-900">Query Results</h3>
                                </div>
                                <div class="flex" style="height: 600px;">
                                    <!-- Customer Lens Panel (70% width) -->
                                    <div style="width: 70%;" class="border-r border-gray-200 p-6 overflow-y-auto" id="home-customer-lens-content">
                                        <!-- Customer content will be loaded here -->
                                    </div>

                                    <!-- AI Signals Panel (30% width) -->
                                    <div style="width: 30%;" class="p-4 bg-gray-50 overflow-y-auto" id="home-ai-signals-content">
                                        <!-- AI signals content will be loaded here -->
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Two Column Layout -->
                        <div id="home-content-sections" class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                            <!-- Left Column (2/3 width) -->
                            <div class="lg:col-span-2 space-y-8">
                                <!-- Section 1: Active Tickets - Requiring Attention -->
                                <div class="bg-white rounded-lg shadow-sm border border-gray-200">
                                    <div class="px-6 py-4 border-b border-gray-200">
                                        <h2 class="text-xl font-semibold text-gray-900">Requiring Attention</h2>
                                    </div>

                                    <div class="divide-y divide-gray-200">
                                        <!-- Emma Parker - Approval Needed -->
                                        <div class="p-6 border-l-4" style="border-left-color: #FFE689;">
                                            <div class="flex items-start justify-between mb-4">
                                                <div class="flex items-center space-x-3">
                                                    <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face&auto=format"
                                                         alt="Emma Parker"
                                                         class="w-10 h-10 rounded-full object-cover border-2 border-gray-200">
                                                    <div>
                                                        <h3 class="font-semibold text-gray-900">Emma Parker</h3>
                                                        <p class="text-sm text-gray-500">Gold Member ‚Ä¢ Treasure Apparel</p>
                                                    </div>
                                                </div>
                                                <div class="text-right">
                                                    <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium" style="background-color: #FFF7DB; color: #826E25;">
                                                        APPROVAL NEEDED
                                                    </span>
                                                    <p class="text-sm text-gray-500 mt-1">3 min ago</p>
                                                </div>
                                            </div>

                                            <div class="mb-4">
                                                <p class="font-medium text-gray-900 mb-2">Issue: Coupon code 'FALL20' failed at checkout</p>
                                            </div>

                                            <!-- AI Agent Analysis -->
                                            <div class="bg-gray-50 rounded-lg p-4 mb-4">
                                                <div class="mb-3">
                                                    <h4 class="font-medium text-gray-900">AI Agent Analysis</h4>
                                                </div>
                                                <div class="grid grid-cols-2 gap-4">
                                                    <div class="flex items-center space-x-3">
                                                        <span class="text-sm">üè∑Ô∏è</span>
                                                        <span class="text-sm text-gray-600">Coupon expired yesterday</span>
                                                    </div>
                                                    <div class="flex items-center space-x-3">
                                                        <span class="text-sm">üíé</span>
                                                        <span class="text-sm text-gray-600">Gold member tier with excellent history</span>
                                                    </div>
                                                    <div class="flex items-center space-x-3">
                                                        <span class="text-sm">üí∞</span>
                                                        <span class="text-sm text-gray-600">High LTV customer (3+ years, $2,400 total)</span>
                                                    </div>
                                                    <div class="flex items-center space-x-3">
                                                        <span class="text-sm">üòî</span>
                                                        <span class="text-sm text-gray-600">Sentiment recovering from frustrated</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- AI Recommendation -->
                                            <div class="bg-green-50 rounded-lg p-4 mb-4">
                                                <div class="mb-3">
                                                    <h4 class="font-medium text-gray-900">AI Recommendation for Emma</h4>
                                                </div>
                                                <ol class="space-y-2">
                                                    <li class="flex items-start space-x-3">
                                                        <span class="font-medium text-black">1.</span>
                                                        <span class="text-sm"><strong>Expired coupon reissued</strong> - TREASURE25 <span class="text-gray-500">(automatically completed)</span></span>
                                                    </li>
                                                    <li class="flex items-start space-x-3">
                                                        <span class="font-medium text-black">2.</span>
                                                        <span class="text-sm"><strong>Issue $15 goodwill credit</strong> - based on loyalty tier & LTV <span class="text-gray-500">(requesting approval)</span></span>
                                                    </li>
                                                </ol>
                                            </div>

                                            <!-- Action Buttons -->
                                            <div class="flex space-x-3">
                                                <button class="flex-1 px-4 py-2 text-white text-sm font-medium rounded-lg flex items-center justify-center space-x-3" style="background-color: #047857; hover:background-color: #065f46;">
                                                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                                    </svg>
                                                    <span>Approve</span>
                                                </button>
                                                <button class="flex-1 px-4 py-2 text-white text-sm font-medium rounded-lg flex items-center justify-center space-x-3" style="background-color: #b91c1c;">
                                                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
                                                    </svg>
                                                    <span>Take Over</span>
                                                </button>
                                                <button id="emma-check-details-btn" class="flex-1 px-4 py-2 text-white text-sm font-medium rounded-lg flex items-center justify-center space-x-3" style="background-color: #1e40af; color: white;">
                                                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                        <path fill-rule="evenodd" d="M4 4a2 2 0 012-2h8a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 0v12h8V4H6z" clip-rule="evenodd"/>
                                                        <path fill-rule="evenodd" d="M8 7a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" clip-rule="evenodd"/>
                                                        <path fill-rule="evenodd" d="M8 10a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" clip-rule="evenodd"/>
                                                        <path fill-rule="evenodd" d="M8 13a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" clip-rule="evenodd"/>
                                                    </svg>
                                                    <span>Check Details</span>
                                                </button>
                                            </div>
                                        </div>

                                        <!-- Marcus Chen - Approval Needed -->
                                        <div class="p-6 border-l-4" style="border-left-color: #FFE689;">
                                            <div class="flex items-start justify-between mb-4">
                                                <div class="flex items-center space-x-3">
                                                    <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face&auto=format"
                                                         alt="Marcus Chen"
                                                         class="w-10 h-10 rounded-full object-cover border-2 border-gray-200">
                                                    <div>
                                                        <h3 class="font-semibold text-gray-900">Marcus Chen</h3>
                                                        <p class="text-sm text-gray-500">Silver Member ‚Ä¢ Treasure Apparel</p>
                                                    </div>
                                                </div>
                                                <div class="text-right">
                                                    <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium" style="background-color: #FFF7DB; color: #826E25;">
                                                        APPROVAL NEEDED
                                                    </span>
                                                    <p class="text-sm text-gray-500 mt-1">2 min ago</p>
                                                </div>
                                            </div>

                                            <div class="mb-4">
                                                <p class="font-medium text-gray-900 mb-2">Issue: Refund request for damaged item exceeds policy limit</p>
                                            </div>

                                            <!-- AI Agent Analysis -->
                                            <div class="bg-gray-50 rounded-lg p-4 mb-4">
                                                <div class="mb-3">
                                                    <h4 class="font-medium text-gray-900">AI Agent Analysis</h4>
                                                </div>
                                                <div class="grid grid-cols-2 gap-4">
                                                    <div class="flex items-center space-x-3">
                                                        <span class="text-sm">üì¶</span>
                                                        <span class="text-sm text-gray-600">Package damaged in transit</span>
                                                    </div>
                                                    <div class="flex items-center space-x-3">
                                                        <span class="text-sm">üí∞</span>
                                                        <span class="text-sm text-gray-600">Refund: $185 (limit: $150)</span>
                                                    </div>
                                                    <div class="flex items-center space-x-3">
                                                        <span class="text-sm">üïí</span>
                                                        <span class="text-sm text-gray-600">Purchased 3 days ago</span>
                                                    </div>
                                                    <div class="flex items-center space-x-3">
                                                        <span class="text-sm">üèÜ</span>
                                                        <span class="text-sm text-gray-600">3rd order this month</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- AI Recommendation -->
                                            <div class="bg-green-50 rounded-lg p-4 mb-4">
                                                <div class="mb-3">
                                                    <h4 class="font-medium text-gray-900">AI Recommendation for Marcus</h4>
                                                </div>
                                                <ol class="space-y-2">
                                                    <li class="flex items-start space-x-3">
                                                        <span class="font-medium text-black">1.</span>
                                                        <span class="text-sm"><strong>Approve full refund</strong> - shipping carrier confirmed damage</span>
                                                    </li>
                                                    <li class="flex items-start space-x-3">
                                                        <span class="font-medium text-black">2.</span>
                                                        <span class="text-sm"><strong>Update policy exception</strong> - add note for future carrier claims</span>
                                                    </li>
                                                </ol>
                                            </div>

                                            <!-- Action Buttons -->
                                            <div class="flex space-x-3">
                                                <button class="flex-1 px-4 py-2 text-white text-sm font-medium rounded-lg flex items-center justify-center space-x-3" style="background-color: #047857; hover:background-color: #065f46;">
                                                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                                    </svg>
                                                    <span>Approve</span>
                                                </button>
                                                <button class="flex-1 px-4 py-2 text-white text-sm font-medium rounded-lg flex items-center justify-center space-x-3" style="background-color: #b91c1c;">
                                                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
                                                    </svg>
                                                    <span>Take Over</span>
                                                </button>
                                                <button class="flex-1 px-4 py-2 text-white text-sm font-medium rounded-lg flex items-center justify-center space-x-3" style="background-color: #1e40af; color: white;">
                                                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                        <path fill-rule="evenodd" d="M4 4a2 2 0 012-2h8a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 0v12h8V4H6z" clip-rule="evenodd"/>
                                                        <path fill-rule="evenodd" d="M8 7a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" clip-rule="evenodd"/>
                                                        <path fill-rule="evenodd" d="M8 10a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" clip-rule="evenodd"/>
                                                        <path fill-rule="evenodd" d="M8 13a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" clip-rule="evenodd"/>
                                                    </svg>
                                                    <span>Check Details</span>
                                                </button>
                                            </div>
                                        </div>

                                        <!-- Sarah Johnson - Approval Needed -->
                                        <div class="p-6 border-l-4" style="border-left-color: #FCD3D6;">
                                            <div class="flex items-start justify-between mb-4">
                                                <div class="flex items-center space-x-3">
                                                    <img src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face&auto=format"
                                                         alt="Sarah Johnson"
                                                         class="w-10 h-10 rounded-full object-cover border-2 border-gray-200">
                                                    <div>
                                                        <h3 class="font-semibold text-gray-900">Sarah Johnson</h3>
                                                        <p class="text-sm text-gray-500">Bronze Member ‚Ä¢ Treasure Apparel</p>
                                                    </div>
                                                </div>
                                                <div class="text-right">
                                                    <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium" style="background-color: #FEF4F5; color: #7A121A;">
                                                        URGENT APPROVAL
                                                    </span>
                                                    <p class="text-sm text-gray-500 mt-1">1 min ago</p>
                                                </div>
                                            </div>

                                            <div class="mb-4">
                                                <p class="font-medium text-gray-900 mb-2">Issue: Multiple failed payment attempts triggering fraud alert</p>
                                            </div>

                                            <!-- AI Agent Analysis -->
                                            <div class="bg-gray-50 rounded-lg p-4 mb-4">
                                                <div class="mb-3">
                                                    <h4 class="font-medium text-gray-900">AI Agent Analysis</h4>
                                                </div>
                                                <div class="grid grid-cols-2 gap-4">
                                                    <div class="flex items-center space-x-3">
                                                        <span class="text-sm">‚ö†Ô∏è</span>
                                                        <span class="text-sm text-gray-600">5 failed payments (30 min)</span>
                                                    </div>
                                                    <div class="flex items-center space-x-3">
                                                        <span class="text-sm">üè†</span>
                                                        <span class="text-sm text-gray-600">Same billing address</span>
                                                    </div>
                                                    <div class="flex items-center space-x-3">
                                                        <span class="text-sm">üì±</span>
                                                        <span class="text-sm text-gray-600">Same device & IP</span>
                                                    </div>
                                                    <div class="flex items-center space-x-3">
                                                        <span class="text-sm">üí≥</span>
                                                        <span class="text-sm text-gray-600">Different card numbers</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- AI Recommendation -->
                                            <div class="bg-orange-50 rounded-lg p-4 mb-4">
                                                <div class="mb-3">
                                                    <h4 class="font-medium text-gray-900">AI Risk Assessment for Sarah</h4>
                                                </div>
                                                <ol class="space-y-2">
                                                    <li class="flex items-start space-x-3">
                                                        <span class="font-medium text-black">1.</span>
                                                        <span class="text-sm"><strong>Low fraud risk</strong> - customer behavior matches previous patterns</span>
                                                    </li>
                                                    <li class="flex items-start space-x-3">
                                                        <span class="font-medium text-black">2.</span>
                                                        <span class="text-sm"><strong>Contact customer</strong> - verify payment method and offer assistance</span>
                                                    </li>
                                                </ol>
                                            </div>

                                            <!-- Action Buttons -->
                                            <div class="flex space-x-3">
                                                <button class="flex-1 px-4 py-2 text-white text-sm font-medium rounded-lg flex items-center justify-center space-x-3" style="background-color: #047857; hover:background-color: #065f46;">
                                                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                                    </svg>
                                                    <span>Approve</span>
                                                </button>
                                                <button class="flex-1 px-4 py-2 text-white text-sm font-medium rounded-lg flex items-center justify-center space-x-3" style="background-color: #b91c1c;">
                                                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
                                                    </svg>
                                                    <span>Take Over</span>
                                                </button>
                                                <button class="flex-1 px-4 py-2 text-white text-sm font-medium rounded-lg flex items-center justify-center space-x-3" style="background-color: #1e40af; color: white;">
                                                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                        <path fill-rule="evenodd" d="M4 4a2 2 0 012-2h8a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 0v12h8V4H6z" clip-rule="evenodd"/>
                                                        <path fill-rule="evenodd" d="M8 7a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" clip-rule="evenodd"/>
                                                        <path fill-rule="evenodd" d="M8 10a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" clip-rule="evenodd"/>
                                                        <path fill-rule="evenodd" d="M8 13a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" clip-rule="evenodd"/>
                                                    </svg>
                                                    <span>Check Details</span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Section 2: AI Insights & Recommendations -->
                                <div class="bg-white rounded-lg shadow-sm border border-gray-200">
                                    <div class="px-6 py-4 border-b border-gray-200">
                                        <div class="flex items-center justify-between">
                                            <h3 class="text-lg font-semibold text-gray-900">
                                                <span>AI Insights & Recommendations</span>
                                            </h3>
                                            <span class="text-xs text-gray-500">Updated 5 minutes ago</span>
                                        </div>
                                    </div>

                                    <div class="p-6 space-y-5">
                                        <!-- Trending Issue Detected -->
                                        <div class="flex items-start justify-between pt-0 pb-5 border-b border-gray-100 last:border-b-0">
                                            <div class="flex items-start space-x-3 flex-1">
                                                <div class="w-2 h-2 bg-red-500 rounded-full mt-2 flex-shrink-0"></div>
                                                <div class="flex-1 min-w-0">
                                                    <div class="flex items-center justify-between mb-2">
                                                        <h4 class="font-semibold text-gray-900 text-base">Trending Issue Detected</h4>
                                                        <span class="inline-flex items-center justify-center text-xs font-normal ml-3" style="padding-left: 12px; padding-right: 12px; padding-top: 4px; padding-bottom: 4px; background: #FCD3D3; border-radius: 10150.83px; color: #991B1B; font-size: 11px; line-height: 18px;">
                                                            High Priority
                                                        </span>
                                                    </div>
                                                    <p class="text-sm text-gray-600 mb-3">8 new tickets about the checkout page error after latest deployment</p>
                                                    <button class="inline-flex items-center text-sm font-medium" style="color: #1957DB;">
                                                        <span>View Related Tickets</span>
                                                        <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                                                        </svg>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Auto-Resolution Opportunity -->
                                        <div class="flex items-start justify-between pt-0 pb-5 border-b border-gray-100 last:border-b-0">
                                            <div class="flex items-start space-x-3 flex-1">
                                                <div class="w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"></div>
                                                <div class="flex-1 min-w-0">
                                                    <div class="flex items-center justify-between mb-2">
                                                        <h4 class="font-semibold text-gray-900 text-base">Auto-Resolution Opportunity</h4>
                                                        <span class="inline-flex items-center justify-center text-xs font-normal ml-3" style="padding-left: 12px; padding-right: 12px; padding-top: 4px; padding-bottom: 4px; background: #D3DBF6; border-radius: 10150.83px; color: #3730A3; font-size: 11px; line-height: 18px;">
                                                            Medium Priority
                                                        </span>
                                                    </div>
                                                    <p class="text-sm text-gray-600 mb-3">72% of password reset tickets can be automated with current AI model</p>
                                                    <button class="inline-flex items-center text-sm font-medium" style="color: #1957DB;">
                                                        <span>Enable Automation</span>
                                                        <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                                                        </svg>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Customer Satisfaction Alert -->
                                        <div class="flex items-start justify-between pt-0 pb-5 border-b border-gray-100 last:border-b-0">
                                            <div class="flex items-start space-x-3 flex-1">
                                                <div class="w-2 h-2 bg-orange-500 rounded-full mt-2 flex-shrink-0"></div>
                                                <div class="flex-1 min-w-0">
                                                    <div class="flex items-center justify-between mb-2">
                                                        <h4 class="font-semibold text-gray-900 text-base">Customer Satisfaction Alert</h4>
                                                        <span class="inline-flex items-center justify-center text-xs font-normal ml-3" style="padding-left: 12px; padding-right: 12px; padding-top: 4px; padding-bottom: 4px; background: #FCD3D3; border-radius: 10150.83px; color: #991B1B; font-size: 11px; line-height: 18px;">
                                                            High Priority
                                                        </span>
                                                    </div>
                                                    <p class="text-sm text-gray-600 mb-3">Enterprise segment satisfaction dropped 6% this week</p>
                                                    <button class="inline-flex items-center text-sm font-medium" style="color: #1957DB;">
                                                        <span>View Analytics</span>
                                                        <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                                                        </svg>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Right Column (1/3 width) -->
                            <div class="space-y-6">
                                <!-- Active AI Agent -->
                                <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-4">
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center space-x-3">
                                            <span class="text-3xl font-bold text-green-600">9</span>
                                            <span class="text-sm text-gray-500">active AI agents</span>
                                        </div>
                                        <div class="text-right">
                                            <div class="flex items-center space-x-3">
                                                <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
                                                <span class="text-sm text-green-600 font-medium">All operational</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- AI Performance -->
                                <div class="bg-white rounded-lg shadow-sm border border-gray-200">
                                    <div class="px-6 py-4 border-b border-gray-200">
                                        <div class="flex items-center justify-between">
                                            <h3 class="text-lg font-semibold text-gray-900">
                                                <span>AI Performance</span>
                                            </h3>
                                            <span class="text-xs text-gray-500">Last 24 hours</span>
                                        </div>
                                    </div>

                                    <div class="p-6">
                                        <div class="grid grid-cols-2 gap-4">
                                            <!-- Issues Resolved -->
                                            <div class="rounded-lg p-4" style="background-color: #F9FBFF;">
                                                <h4 class="text-sm text-gray-600 mb-1">Issues resolved</h4>
                                                <div class="text-2xl font-bold text-gray-900 mb-1">142</div>
                                                <div class="flex items-center text-sm">
                                                    <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20" style="color: #4AAF5C;">
                                                        <path fill-rule="evenodd" d="M5.293 7.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L6.707 7.707a1 1 0 01-1.414 0z" clip-rule="evenodd"/>
                                                    </svg>
                                                    <span class="font-medium" style="color: #4AAF5C;">+18%</span>
                                                </div>
                                            </div>

                                            <!-- Avg Time to Resolve -->
                                            <div class="rounded-lg p-4" style="background-color: #F9FBFF;">
                                                <h4 class="text-sm text-gray-600 mb-1">Avg. time to resolve</h4>
                                                <div class="text-2xl font-bold text-gray-900 mb-1">4.2m</div>
                                                <div class="flex items-center text-sm">
                                                    <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20" style="color: #4AAF5C;">
                                                        <path fill-rule="evenodd" d="M14.707 12.293a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 111.414-1.414L9 14.586V3a1 1 0 012 0v11.586l2.293-2.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                                    </svg>
                                                    <span class="font-medium" style="color: #4AAF5C;">-12%</span>
                                                </div>
                                            </div>

                                            <!-- Resolution Rate -->
                                            <div class="rounded-lg p-4" style="background-color: #F9FBFF;">
                                                <h4 class="text-sm text-gray-600 mb-1">Resolution rate</h4>
                                                <div class="text-2xl font-bold text-gray-900 mb-1">77%</div>
                                                <div class="flex items-center text-sm">
                                                    <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20" style="color: #4AAF5C;">
                                                        <path fill-rule="evenodd" d="M5.293 7.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L6.707 7.707a1 1 0 01-1.414 0z" clip-rule="evenodd"/>
                                                    </svg>
                                                    <span class="font-medium" style="color: #4AAF5C;">+5%</span>
                                                </div>
                                            </div>

                                            <!-- Customer Satisfaction -->
                                            <div class="rounded-lg p-4" style="background-color: #F9FBFF;">
                                                <h4 class="text-sm text-gray-600 mb-1">Customer satisfaction</h4>
                                                <div class="text-2xl font-bold text-gray-900 mb-1">4.7</div>
                                                <div class="flex items-center text-sm">
                                                    <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20" style="color: #4AAF5C;">
                                                        <path fill-rule="evenodd" d="M5.293 7.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L6.707 7.707a1 1 0 01-1.414 0z" clip-rule="evenodd"/>
                                                    </svg>
                                                    <span class="font-medium" style="color: #4AAF5C;">+0.3</span>
                                                </div>
                                            </div>

                                            <!-- Upsells Made -->
                                            <div class="rounded-lg p-4" style="background-color: #F9FBFF;">
                                                <h4 class="text-sm text-gray-600 mb-1">Upsells made</h4>
                                                <div class="text-2xl font-bold text-gray-900 mb-1">21</div>
                                                <div class="flex items-center text-sm">
                                                    <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20" style="color: #4AAF5C;">
                                                        <path fill-rule="evenodd" d="M5.293 7.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L6.707 7.707a1 1 0 01-1.414 0z" clip-rule="evenodd"/>
                                                    </svg>
                                                    <span class="font-medium" style="color: #4AAF5C;">+7%</span>
                                                </div>
                                            </div>

                                            <!-- Upsells Amount -->
                                            <div class="rounded-lg p-4" style="background-color: #F9FBFF;">
                                                <h4 class="text-sm text-gray-600 mb-1">Upsells amount ($)</h4>
                                                <div class="text-2xl font-bold text-gray-900 mb-1">$7,890</div>
                                                <div class="flex items-center text-sm">
                                                    <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20" style="color: #4AAF5C;">
                                                        <path fill-rule="evenodd" d="M5.293 7.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L6.707 7.707a1 1 0 01-1.414 0z" clip-rule="evenodd"/>
                                                    </svg>
                                                    <span class="font-medium" style="color: #4AAF5C;">+$1,734</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Customer Sentiment -->
                                <div class="bg-white rounded-lg shadow-sm border border-gray-200">
                                    <div class="px-6 py-4 border-b border-gray-200">
                                        <div class="flex items-center justify-between">
                                            <h3 class="text-lg font-semibold text-gray-900">Customer Sentiment</h3>
                                            <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800">
                                                <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd" d="M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                                </svg>
                                                AI Powered
                                            </span>
                                        </div>
                                    </div>

                                    <div class="p-6">
                                        <div class="space-y-4">
                                            <!-- Positive -->
                                            <div class="flex items-center justify-between">
                                                <div class="flex items-center space-x-3">
                                                    <div class="w-6 h-6 rounded-full flex items-center justify-center" style="background-color: #E7FAEA;">
                                                        <span class="text-sm" style="color: #4AAF5C;">üòä</span>
                                                    </div>
                                                    <span class="text-sm font-medium text-gray-900">Positive</span>
                                                </div>
                                                <div class="flex items-center space-x-3">
                                                    <span class="text-lg font-bold text-gray-900">62%</span>
                                                    <div class="flex items-center text-sm">
                                                        <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20" style="color: #4AAF5C;">
                                                            <path fill-rule="evenodd" d="M5.293 7.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L6.707 7.707a1 1 0 01-1.414 0z" clip-rule="evenodd"/>
                                                        </svg>
                                                        <span class="font-medium" style="color: #4AAF5C;">+5%</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Neutral -->
                                            <div class="flex items-center justify-between">
                                                <div class="flex items-center space-x-3">
                                                    <div class="w-6 h-6 rounded-full flex items-center justify-center" style="background-color: #EDF2FC;">
                                                        <span class="text-sm" style="color: #1E428E;">üòê</span>
                                                    </div>
                                                    <span class="text-sm font-medium text-gray-900">Neutral</span>
                                                </div>
                                                <div class="flex items-center space-x-3">
                                                    <span class="text-lg font-bold text-gray-900">28%</span>
                                                    <div class="flex items-center text-sm">
                                                        <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20" style="color: #4AAF5C;">
                                                            <path fill-rule="evenodd" d="M14.707 12.293a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 111.414-1.414L9 14.586V3a1 1 0 012 0v11.586l2.293-2.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                                        </svg>
                                                        <span class="font-medium" style="color: #4AAF5C;">-2%</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Negative -->
                                            <div class="flex items-center justify-between">
                                                <div class="flex items-center space-x-3">
                                                    <div class="w-6 h-6 rounded-full flex items-center justify-center" style="background-color: #FEF4F5;">
                                                        <span class="text-sm" style="color: #7A121A;">üòû</span>
                                                    </div>
                                                    <span class="text-sm font-medium text-gray-900">Negative</span>
                                                </div>
                                                <div class="flex items-center space-x-3">
                                                    <span class="text-lg font-bold text-gray-900">10%</span>
                                                    <div class="flex items-center text-sm">
                                                        <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20" style="color: #4AAF5C;">
                                                            <path fill-rule="evenodd" d="M14.707 12.293a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 111.414-1.414L9 14.586V3a1 1 0 012 0v11.586l2.293-2.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                                        </svg>
                                                        <span class="font-medium" style="color: #4AAF5C;">-3%</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Progress Bar -->
                                            <div class="mt-4">
                                                <div class="w-full bg-gray-200 rounded-full h-3">
                                                    <div class="flex h-3 rounded-full overflow-hidden">
                                                        <div class="flex-1" style="flex-basis: 62%; background-color: #5CD873;"></div>
                                                        <div class="flex-1" style="flex-basis: 28%; background-color: #3068DF;"></div>
                                                        <div class="flex-1" style="flex-basis: 10%; background-color: #EE2233;"></div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="mt-4 pt-4 border-t border-gray-200">
                                                <p class="text-sm text-gray-600 mb-3">Customer sentiment is trending positively this week. Negative sentiment has decreased by 3%.</p>
                                                <button class="text-sm font-medium" style="color: #1957DB;">
                                                    View detailed report ‚Üí
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Customers Page -->
                <div id="customers-page" class="page-content hidden">
                    <div class="space-y-8">
                        <div>
                            <h1 class="text-3xl font-bold text-gray-900">Outreach</h1>
                            <p class="text-gray-600 mt-2">AI-powered customer success and proactive engagement</p>
                        </div>

                        <!-- Customer Lookup -->
                        <div class="mb-8">
                            <div class="relative">
                                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                    <svg class="h-5 w-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                                    </svg>
                                </div>
                                <input
                                    type="text"
                                    class="block w-full pl-10 pr-3 py-4 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 text-lg"
                                    placeholder="Search customers for outreach opportunities..."
                                />
                            </div>
                        </div>

                        <!-- AI-Recommended Customer Actions -->
                        <div>
                            <h2 class="text-2xl font-bold text-gray-900 mb-6">Proactive Customer Outreach</h2>

                            <div class="space-y-6">
                                <!-- Customer Card 1: Alex Johnson -->
                                <div class="bg-white rounded-lg shadow-sm border border-gray-200 px-6 pt-6 pb-8 hover:shadow-md transition-all duration-200 relative">
                                    <!-- Top Row: Customer Info on left, Status Badge on right -->
                                    <div class="flex justify-between items-start mb-4">
                                        <!-- Left: Customer Info -->
                                        <div class="flex items-center space-x-4">
                                            <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face&auto=format"
                                                 alt="Alex Johnson"
                                                 class="w-16 h-16 rounded-full object-cover border-2 border-gray-200">
                                            <div>
                                                <h3 class="text-lg font-bold text-gray-900">Alex Johnson</h3>
                                                <p class="text-sm text-gray-600">Bronze Member ‚Ä¢ Treasure Apparel</p>
                                            </div>
                                        </div>

                                        <!-- Right: Status Badge (pinned to top-right) -->
                                        <div class="flex flex-col items-end text-right">
                                            <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800">
                                                High Upsell Potential
                                            </span>
                                            <span class="text-xs text-green-600 mt-1">95% Success Rate</span>
                                        </div>
                                    </div>

                                    <!-- Bottom Row: AI Recommendation on left, Key Insights on right -->
                                    <div class="flex gap-6">
                                        <!-- Left: AI Recommendation (1/3 width) -->
                                        <div class="w-1/3">
                                            <div class="bg-gray-50 rounded-lg p-4 border border-gray-200">
                                                <h4 class="text-sm font-bold mb-2 flex items-center" style="color: #6F2EFF;">
                                                    <svg class="w-4 h-4 mr-2" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                        <path d="M8.13908 4.73954C8.31026 4.27693 8.96458 4.27692 9.13575 4.73954L10.2814 7.83563C10.6043 8.70825 11.2924 9.39634 12.1651 9.71925L15.2612 10.8649C15.7237 11.0361 15.7237 11.6904 15.2612 11.8616L12.1651 13.0073C11.2924 13.3302 10.6043 14.0182 10.2814 14.8908L9.13575 17.9869C8.96458 18.4496 8.31026 18.4496 8.13908 17.9869L6.99342 14.8908C6.6705 14.0182 5.98246 13.3302 5.1098 13.0073L2.0137 11.8616C1.5511 11.6904 1.5511 11.0361 2.0137 10.8649L5.1098 9.71925C5.98246 9.39634 6.6705 8.70825 6.99342 7.83563L8.13908 4.73954Z" fill="#6F2EFF"/>
                                                        <path d="M15.3458 1.80577C15.4142 1.62073 15.676 1.62073 15.7445 1.80577L16.2027 3.04421C16.3319 3.39327 16.6071 3.66849 16.9561 3.79766L18.1946 4.25592C18.3796 4.3244 18.3796 4.58612 18.1946 4.6546L16.9561 5.11286C16.6071 5.24202 16.3319 5.51724 16.2027 5.86631L15.7445 7.10474C15.676 7.28979 15.4142 7.28979 15.3458 7.10474L14.8876 5.86631C14.7584 5.51724 14.4831 5.24202 14.1341 5.11286L12.8956 4.6546C12.7106 4.58612 12.7106 4.3244 12.8956 4.25592L14.1341 3.79766C14.4831 3.66849 14.7584 3.39327 14.8876 3.04421L15.3458 1.80577Z" fill="#6F2EFF"/>
                                                    </svg>
                                                    AI RECOMMENDED ACTION
                                                </h4>
                                                <p class="text-sm text-gray-800">Offer premium subscription upgrade with 20% discount</p>
                                            </div>
                                        </div>

                                        <!-- Right: Key Insights (2/3 width) -->
                                        <div class="flex-1">
                                            <h4 class="text-sm font-bold text-gray-800 mb-3 flex items-center">
                                                <svg class="w-4 h-4 mr-2 text-green-600" fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                                </svg>
                                                KEY INSIGHTS
                                            </h4>
                                            <ul class="text-sm text-gray-700 space-y-2">
                                                <li class="flex items-start">
                                                    <span class="w-2 h-2 bg-green-500 rounded-full mt-2 mr-3 flex-shrink-0"></span>
                                                    <span><strong>85% feature utilization</strong> - consistently using advanced features</span>
                                                </li>
                                                <li class="flex items-start">
                                                    <span class="w-2 h-2 bg-green-500 rounded-full mt-2 mr-3 flex-shrink-0"></span>
                                                    <span><strong>40% activity increase</strong> - engagement trending upward</span>
                                                </li>
                                                <li class="flex items-start">
                                                    <span class="w-2 h-2 bg-green-500 rounded-full mt-2 mr-3 flex-shrink-0"></span>
                                                    <span><strong>Premium trial engagement</strong> - actively exploring paid features</span>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>

                                    <!-- Action Button (pinned to bottom-right) -->
                                    <div class="absolute bottom-6 right-6">
                                        <button class="bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition-colors duration-200">
                                            Launch Upsell Campaign
                                        </button>
                                    </div>
                                </div>

                                <!-- Customer Card 2: Maria Garcia -->
                                <div class="bg-white rounded-lg shadow-sm border border-gray-200 px-6 pt-6 pb-8 hover:shadow-md transition-all duration-200 relative">
                                    <!-- Top Row: Customer Info on left, Status Badge on right -->
                                    <div class="flex justify-between items-start mb-4">
                                        <!-- Left: Customer Info -->
                                        <div class="flex items-center space-x-4">
                                            <img src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=150&h=150&fit=crop&crop=face&auto=format"
                                                 alt="Maria Garcia"
                                                 class="w-16 h-16 rounded-full object-cover border-2 border-gray-200">
                                            <div>
                                                <h3 class="text-lg font-bold text-gray-900">Maria Garcia</h3>
                                                <p class="text-sm text-gray-600">Standard Member ‚Ä¢ Tech Solutions</p>
                                            </div>
                                        </div>

                                        <!-- Right: Status Badge (pinned to top-right) -->
                                        <div class="flex flex-col items-end text-right">
                                            <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-yellow-100 text-yellow-800">
                                                Low Sentiment Score
                                            </span>
                                            <span class="text-xs text-yellow-600 mt-1">Needs Attention</span>
                                        </div>
                                    </div>

                                    <!-- Bottom Row: AI Recommendation on left, Key Insights on right -->
                                    <div class="flex gap-6">
                                        <!-- Left: AI Recommendation (1/3 width) -->
                                        <div class="w-1/3">
                                            <div class="bg-gray-50 rounded-lg p-4 border border-gray-200">
                                                <h4 class="text-sm font-bold mb-2 flex items-center" style="color: #6F2EFF;">
                                                    <svg class="w-4 h-4 mr-2" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                        <path d="M8.13908 4.73954C8.31026 4.27693 8.96458 4.27692 9.13575 4.73954L10.2814 7.83563C10.6043 8.70825 11.2924 9.39634 12.1651 9.71925L15.2612 10.8649C15.7237 11.0361 15.7237 11.6904 15.2612 11.8616L12.1651 13.0073C11.2924 13.3302 10.6043 14.0182 10.2814 14.8908L9.13575 17.9869C8.96458 18.4496 8.31026 18.4496 8.13908 17.9869L6.99342 14.8908C6.6705 14.0182 5.98246 13.3302 5.1098 13.0073L2.0137 11.8616C1.5511 11.6904 1.5511 11.0361 2.0137 10.8649L5.1098 9.71925C5.98246 9.39634 6.6705 8.70825 6.99342 7.83563L8.13908 4.73954Z" fill="#6F2EFF"/>
                                                        <path d="M15.3458 1.80577C15.4142 1.62073 15.676 1.62073 15.7445 1.80577L16.2027 3.04421C16.3319 3.39327 16.6071 3.66849 16.9561 3.79766L18.1946 4.25592C18.3796 4.3244 18.3796 4.58612 18.1946 4.6546L16.9561 5.11286C16.6071 5.24202 16.3319 5.51724 16.2027 5.86631L15.7445 7.10474C15.676 7.28979 15.4142 7.28979 15.3458 7.10474L14.8876 5.86631C14.7584 5.51724 14.4831 5.24202 14.1341 5.11286L12.8956 4.6546C12.7106 4.58612 12.7106 4.3244 12.8956 4.25592L14.1341 3.79766C14.4831 3.66849 14.7584 3.39327 14.8876 3.04421L15.3458 1.80577Z" fill="#6F2EFF"/>
                                                    </svg>
                                                    AI RECOMMENDED ACTION
                                                </h4>
                                                <p class="text-sm text-gray-800">Send personalized apology and offer dedicated support session</p>
                                            </div>
                                        </div>

                                        <!-- Right: Key Insights (2/3 width) -->
                                        <div class="flex-1">
                                            <h4 class="text-sm font-bold text-gray-800 mb-3 flex items-center">
                                                <svg class="w-4 h-4 mr-2 text-yellow-600" fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"/>
                                                </svg>
                                                KEY INSIGHTS
                                            </h4>
                                            <ul class="text-sm text-gray-700 space-y-2">
                                                <li class="flex items-start">
                                                    <span class="w-2 h-2 bg-yellow-500 rounded-full mt-2 mr-3 flex-shrink-0"></span>
                                                    <span><strong>2/5 star support rating</strong> - recent negative experience</span>
                                                </li>
                                                <li class="flex items-start">
                                                    <span class="w-2 h-2 bg-yellow-500 rounded-full mt-2 mr-3 flex-shrink-0"></span>
                                                    <span><strong>30% usage decrease</strong> - declining platform engagement</span>
                                                </li>
                                                <li class="flex items-start">
                                                    <span class="w-2 h-2 bg-yellow-500 rounded-full mt-2 mr-3 flex-shrink-0"></span>
                                                    <span><strong>Multiple negative mentions</strong> - survey feedback concerns</span>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>

                                    <!-- Action Button (pinned to bottom-right) -->
                                    <div class="absolute bottom-6 right-6">
                                        <button class="bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition-colors duration-200">
                                            Schedule Recovery Call
                                        </button>
                                    </div>
                                </div>

                                <!-- Customer Card 3: David Kim -->
                                <div class="bg-white rounded-lg shadow-sm border border-gray-200 px-6 pt-6 pb-8 hover:shadow-md transition-all duration-200 relative">
                                    <!-- Top Row: Customer Info on left, Status Badge on right -->
                                    <div class="flex justify-between items-start mb-4">
                                        <!-- Left: Customer Info -->
                                        <div class="flex items-center space-x-4">
                                            <img src="https://images.unsplash.com/photo-1560250097-0b93528c311a?w=150&h=150&fit=crop&crop=face&auto=format"
                                                 alt="David Kim"
                                                 class="w-16 h-16 rounded-full object-cover border-2 border-gray-200">
                                            <div>
                                                <h3 class="text-lg font-bold text-gray-900">David Kim</h3>
                                                <p class="text-sm text-gray-600">Premium Member ‚Ä¢ DevCorp Solutions</p>
                                            </div>
                                        </div>

                                        <!-- Right: Status Badge (pinned to top-right) -->
                                        <div class="flex flex-col items-end text-right">
                                            <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-800">
                                                At-Risk for Churn
                                            </span>
                                            <span class="text-xs text-red-600 mt-1">URGENT - 10 days left</span>
                                        </div>
                                    </div>

                                    <!-- Bottom Row: AI Recommendation on left, Key Insights on right -->
                                    <div class="flex gap-6">
                                        <!-- Left: AI Recommendation (1/3 width) -->
                                        <div class="w-1/3">
                                            <div class="bg-gray-50 rounded-lg p-4 border border-gray-200">
                                                <h4 class="text-sm font-bold mb-2 flex items-center" style="color: #6F2EFF;">
                                                    <svg class="w-4 h-4 mr-2" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                        <path d="M8.13908 4.73954C8.31026 4.27693 8.96458 4.27692 9.13575 4.73954L10.2814 7.83563C10.6043 8.70825 11.2924 9.39634 12.1651 9.71925L15.2612 10.8649C15.7237 11.0361 15.7237 11.6904 15.2612 11.8616L12.1651 13.0073C11.2924 13.3302 10.6043 14.0182 10.2814 14.8908L9.13575 17.9869C8.96458 18.4496 8.31026 18.4496 8.13908 17.9869L6.99342 14.8908C6.6705 14.0182 5.98246 13.3302 5.1098 13.0073L2.0137 11.8616C1.5511 11.6904 1.5511 11.0361 2.0137 10.8649L5.1098 9.71925C5.98246 9.39634 6.6705 8.70825 6.99342 7.83563L8.13908 4.73954Z" fill="#6F2EFF"/>
                                                        <path d="M15.3458 1.80577C15.4142 1.62073 15.676 1.62073 15.7445 1.80577L16.2027 3.04421C16.3319 3.39327 16.6071 3.66849 16.9561 3.79766L18.1946 4.25592C18.3796 4.3244 18.3796 4.58612 18.1946 4.6546L16.9561 5.11286C16.6071 5.24202 16.3319 5.51724 16.2027 5.86631L15.7445 7.10474C15.676 7.28979 15.4142 7.28979 15.3458 7.10474L14.8876 5.86631C14.7584 5.51724 14.4831 5.24202 14.1341 5.11286L12.8956 4.6546C12.7106 4.58612 12.7106 4.3244 12.8956 4.25592L14.1341 3.79766C14.4831 3.66849 14.7584 3.39327 14.8876 3.04421L15.3458 1.80577Z" fill="#6F2EFF"/>
                                                    </svg>
                                                    AI RECOMMENDED ACTION
                                                </h4>
                                                <p class="text-sm text-gray-800">Schedule urgent retention call with account manager and offer 6-month discount</p>
                                            </div>
                                        </div>

                                        <!-- Right: Key Insights (2/3 width) -->
                                        <div class="flex-1">
                                            <h4 class="text-sm font-bold text-gray-800 mb-3 flex items-center">
                                                <svg class="w-4 h-4 mr-2 text-red-600" fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
                                                </svg>
                                                KEY INSIGHTS
                                            </h4>
                                            <ul class="text-sm text-gray-700 space-y-2">
                                                <li class="flex items-start">
                                                    <span class="w-2 h-2 bg-red-500 rounded-full mt-2 mr-3 flex-shrink-0"></span>
                                                    <span><strong>75% login drop</strong> - severe engagement decline in 2 weeks</span>
                                                </li>
                                                <li class="flex items-start">
                                                    <span class="w-2 h-2 bg-red-500 rounded-full mt-2 mr-3 flex-shrink-0"></span>
                                                    <span><strong>Renewal in 10 days</strong> - critical intervention window</span>
                                                </li>
                                                <li class="flex items-start">
                                                    <span class="w-2 h-2 bg-red-500 rounded-full mt-2 mr-3 flex-shrink-0"></span>
                                                    <span><strong>Churn pattern match</strong> - similar to previous cancellations</span>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>

                                    <!-- Action Button (pinned to bottom-right) -->
                                    <div class="absolute bottom-6 right-6">
                                        <button class="bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition-colors duration-200">
                                            Urgent Intervention
                                        </button>
                                    </div>
                                </div>

                                <!-- Customer Card 4: Emily White -->
                                <div class="bg-white rounded-lg shadow-sm border border-gray-200 px-6 pt-6 pb-8 hover:shadow-md transition-all duration-200 relative">
                                    <!-- Top Row: Customer Info on left, Status Badge on right -->
                                    <div class="flex justify-between items-start mb-4">
                                        <!-- Left: Customer Info -->
                                        <div class="flex items-center space-x-4">
                                            <img src="https://images.unsplash.com/photo-1487412720507-e7ab37603c6f?w=150&h=150&fit=crop&crop=face&auto=format"
                                                 alt="Emily White"
                                                 class="w-16 h-16 rounded-full object-cover border-2 border-gray-200">
                                            <div>
                                                <h3 class="text-lg font-bold text-gray-900">Emily White</h3>
                                                <p class="text-sm text-gray-600">Gold Member ‚Ä¢ Marketing Agency</p>
                                            </div>
                                        </div>

                                        <!-- Right: Status Badge (pinned to top-right) -->
                                        <div class="flex flex-col items-end text-right">
                                            <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800">
                                                Good for Promotion
                                            </span>
                                            <span class="text-xs text-blue-600 mt-1">High Convert Rate</span>
                                        </div>
                                    </div>

                                    <!-- Bottom Row: AI Recommendation on left, Key Insights on right -->
                                    <div class="flex gap-6">
                                        <!-- Left: AI Recommendation (1/3 width) -->
                                        <div class="w-1/3">
                                            <div class="bg-gray-50 rounded-lg p-4 border border-gray-200">
                                                <h4 class="text-sm font-bold mb-2 flex items-center" style="color: #6F2EFF;">
                                                    <svg class="w-4 h-4 mr-2" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                        <path d="M8.13908 4.73954C8.31026 4.27693 8.96458 4.27692 9.13575 4.73954L10.2814 7.83563C10.6043 8.70825 11.2924 9.39634 12.1651 9.71925L15.2612 10.8649C15.7237 11.0361 15.7237 11.6904 15.2612 11.8616L12.1651 13.0073C11.2924 13.3302 10.6043 14.0182 10.2814 14.8908L9.13575 17.9869C8.96458 18.4496 8.31026 18.4496 8.13908 17.9869L6.99342 14.8908C6.6705 14.0182 5.98246 13.3302 5.1098 13.0073L2.0137 11.8616C1.5511 11.6904 1.5511 11.0361 2.0137 10.8649L5.1098 9.71925C5.98246 9.39634 6.6705 8.70825 6.99342 7.83563L8.13908 4.73954Z" fill="#6F2EFF"/>
                                                        <path d="M15.3458 1.80577C15.4142 1.62073 15.676 1.62073 15.7445 1.80577L16.2027 3.04421C16.3319 3.39327 16.6071 3.66849 16.9561 3.79766L18.1946 4.25592C18.3796 4.3244 18.3796 4.58612 18.1946 4.6546L16.9561 5.11286C16.6071 5.24202 16.3319 5.51724 16.2027 5.86631L15.7445 7.10474C15.676 7.28979 15.4142 7.28979 15.3458 7.10474L14.8876 5.86631C14.7584 5.51724 14.4831 5.24202 14.1341 5.11286L12.8956 4.6546C12.7106 4.58612 12.7106 4.3244 12.8956 4.25592L14.1341 3.79766C14.4831 3.66849 14.7584 3.39327 14.8876 3.04421L15.3458 1.80577Z" fill="#6F2EFF"/>
                                                    </svg>
                                                    AI RECOMMENDED ACTION
                                                </h4>
                                                <p class="text-sm text-gray-800">Send limited-time add-on promotion with 30% discount on team features</p>
                                            </div>
                                        </div>

                                        <!-- Right: Key Insights (2/3 width) -->
                                        <div class="flex-1">
                                            <h4 class="text-sm font-bold text-gray-800 mb-3 flex items-center">
                                                <svg class="w-4 h-4 mr-2 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                                </svg>
                                                KEY INSIGHTS
                                            </h4>
                                            <ul class="text-sm text-gray-700 space-y-2">
                                                <li class="flex items-start">
                                                    <span class="w-2 h-2 bg-blue-500 rounded-full mt-2 mr-3 flex-shrink-0"></span>
                                                    <span><strong>95% promo response rate</strong> - excellent conversion history</span>
                                                </li>
                                                <li class="flex items-start">
                                                    <span class="w-2 h-2 bg-blue-500 rounded-full mt-2 mr-3 flex-shrink-0"></span>
                                                    <span><strong>Team feature interest</strong> - recent collaboration inquiries</span>
                                                </li>
                                                <li class="flex items-start">
                                                    <span class="w-2 h-2 bg-blue-500 rounded-full mt-2 mr-3 flex-shrink-0"></span>
                                                    <span><strong>4.8/5 satisfaction</strong> - highly engaged customer</span>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>

                                    <!-- Action Button (pinned to bottom-right) -->
                                    <div class="absolute bottom-6 right-6">
                                        <button class="bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition-colors duration-200">
                                            Launch Promotion
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Other pages would be similar... -->
                <div id="conversations-page" class="page-content hidden">
                    <div class="space-y-8">
                        <!-- Page Header -->
                        <div>
                            <h1 class="text-3xl font-bold text-gray-900">Conversations</h1>
                            <p class="text-gray-600 mt-2">Monitor and manage customer conversations</p>
                        </div>

                        <!-- Search Box -->
                        <div class="mb-8">
                            <div class="relative">
                                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                    <svg class="h-5 w-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                                    </svg>
                                </div>
                                <input type="text" class="block w-full pl-10 pr-3 py-4 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 text-lg" placeholder="Search conversations, issues, support tickets...">
                            </div>
                        </div>

                        <!-- Requiring Attention Section (Reused from Home Page) -->
                        <div class="bg-white rounded-lg shadow-sm border border-gray-200">
                            <div class="px-6 py-4 border-b border-gray-200">
                                <h2 class="text-xl font-semibold text-gray-900">Requiring Attention</h2>
                            </div>

                            <div class="divide-y divide-gray-200">
                                <!-- Emma Parker - Approval Needed -->
                                <div class="p-6 border-l-4" style="border-left-color: #FFE689;">
                                    <div class="flex items-start justify-between mb-4">
                                        <div class="flex items-center space-x-3">
                                            <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face&auto=format"
                                                 alt="Emma Parker"
                                                 class="w-10 h-10 rounded-full object-cover border-2 border-gray-200">
                                            <div>
                                                <h3 class="font-semibold text-gray-900">Emma Parker</h3>
                                                <p class="text-sm text-gray-500">Gold Member ‚Ä¢ Treasure Apparel</p>
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium" style="background-color: #FFF7DB; color: #826E25;">
                                                APPROVAL NEEDED
                                            </span>
                                            <p class="text-sm text-gray-500 mt-1">3 min ago</p>
                                        </div>
                                    </div>

                                    <div class="mb-4">
                                        <p class="font-medium text-gray-900 mb-2">Issue: Coupon code 'FALL20' failed at checkout</p>
                                    </div>

                                    <!-- Two-column layout for AI Analysis and Recommendation -->
                                    <div class="grid grid-cols-2 gap-4 mb-4">
                                        <!-- AI Agent Analysis -->
                                        <div class="bg-gray-50 rounded-lg p-4">
                                            <div class="mb-3">
                                                <h4 class="font-medium text-gray-900">AI Agent Analysis</h4>
                                            </div>
                                            <div class="grid grid-cols-2 gap-3">
                                                <div class="space-y-2">
                                                    <div class="flex items-center space-x-3">
                                                        <span class="text-sm">üè∑Ô∏è</span>
                                                        <span class="text-sm text-gray-600">Coupon expired yesterday</span>
                                                    </div>
                                                    <div class="flex items-center space-x-3">
                                                        <span class="text-sm">üíé</span>
                                                        <span class="text-sm text-gray-600">Gold loyalty tier</span>
                                                    </div>
                                                </div>
                                                <div class="space-y-2">
                                                    <div class="flex items-center space-x-3">
                                                        <span class="text-sm">üí∞</span>
                                                        <span class="text-sm text-gray-600">$2,300 lifetime value</span>
                                                    </div>
                                                    <div class="flex items-center space-x-3">
                                                        <span class="text-sm">‚≠ê</span>
                                                        <span class="text-sm text-gray-600">4.8/5 satisfaction rating</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- AI Recommendation -->
                                        <div class="bg-green-50 rounded-lg p-4">
                                            <div class="mb-3">
                                                <h4 class="font-medium text-gray-900">AI Recommendation for Emma</h4>
                                            </div>
                                            <ol class="space-y-2">
                                                <li class="flex items-start space-x-3">
                                                    <span class="font-medium text-black">1.</span>
                                                    <span class="text-sm"><strong>Extend coupon</strong> - within policy for Gold members</span>
                                                </li>
                                                <li class="flex items-start space-x-3">
                                                    <span class="font-medium text-black">2.</span>
                                                    <span class="text-sm"><strong>Add $20 goodwill credit</strong> - based on loyalty tier & LTV</span>
                                                </li>
                                            </ol>
                                        </div>
                                    </div>

                                    <!-- Action Buttons -->
                                    <div class="flex space-x-3">
                                        <button class="flex-1 px-4 py-2 text-white text-sm font-medium rounded-lg flex items-center justify-center space-x-3" style="background-color: #047857; hover:background-color: #065f46;">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                            </svg>
                                            <span>Approve All</span>
                                        </button>
                                        <button class="flex-1 px-4 py-2 text-white text-sm font-medium rounded-lg flex items-center justify-center space-x-3" style="background-color: #1e40af; color: white;">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"/>
                                            </svg>
                                            <span>Partial Approval</span>
                                        </button>
                                        <button class="flex-1 px-4 py-2 text-white text-sm font-medium rounded-lg flex items-center justify-center space-x-3" style="background-color: #b91c1c;">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
                                            </svg>
                                            <span>Take Over</span>
                                        </button>
                                    </div>
                                </div>

                                <!-- Marcus Chen - Approval Needed -->
                                <div class="p-6 border-l-4" style="border-left-color: #FFE689;">
                                    <div class="flex items-start justify-between mb-4">
                                        <div class="flex items-center space-x-3">
                                            <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face&auto=format"
                                                 alt="Marcus Chen"
                                                 class="w-10 h-10 rounded-full object-cover border-2 border-gray-200">
                                            <div>
                                                <h3 class="font-semibold text-gray-900">Marcus Chen</h3>
                                                <p class="text-sm text-gray-500">Silver Member ‚Ä¢ Treasure Apparel</p>
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium" style="background-color: #FFF7DB; color: #826E25;">
                                                APPROVAL NEEDED
                                            </span>
                                            <p class="text-sm text-gray-500 mt-1">2 min ago</p>
                                        </div>
                                    </div>

                                    <div class="mb-4">
                                        <p class="font-medium text-gray-900 mb-2">Issue: Refund request for damaged item exceeds policy limit</p>
                                    </div>

                                    <!-- Two-column layout for AI Analysis and Recommendation -->
                                    <div class="grid grid-cols-2 gap-4 mb-4">
                                        <!-- AI Agent Analysis -->
                                        <div class="bg-gray-50 rounded-lg p-4">
                                            <div class="mb-3">
                                                <h4 class="font-medium text-gray-900">AI Agent Analysis</h4>
                                            </div>
                                            <div class="grid grid-cols-2 gap-3">
                                                <div class="space-y-2">
                                                    <div class="flex items-center space-x-3">
                                                        <span class="text-sm">üì¶</span>
                                                        <span class="text-sm text-gray-600">Package damaged in transit</span>
                                                    </div>
                                                    <div class="flex items-center space-x-3">
                                                        <span class="text-sm">üí∞</span>
                                                        <span class="text-sm text-gray-600">Refund: $185 (limit: $150)</span>
                                                    </div>
                                                </div>
                                                <div class="space-y-2">
                                                    <div class="flex items-center space-x-3">
                                                        <span class="text-sm">üïí</span>
                                                        <span class="text-sm text-gray-600">Purchased 3 days ago</span>
                                                    </div>
                                                    <div class="flex items-center space-x-3">
                                                        <span class="text-sm">üèÜ</span>
                                                        <span class="text-sm text-gray-600">3rd order this month</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- AI Recommendation -->
                                        <div class="bg-green-50 rounded-lg p-4">
                                            <div class="mb-3">
                                                <h4 class="font-medium text-gray-900">AI Recommendation for Marcus</h4>
                                            </div>
                                            <ol class="space-y-2">
                                                <li class="flex items-start space-x-3">
                                                    <span class="font-medium text-black">1.</span>
                                                    <span class="text-sm"><strong>Approve full refund</strong> - shipping carrier confirmed damage</span>
                                                </li>
                                                <li class="flex items-start space-x-3">
                                                    <span class="font-medium text-black">2.</span>
                                                    <span class="text-sm"><strong>Update policy exception</strong> - add note for future carrier claims</span>
                                                </li>
                                            </ol>
                                        </div>
                                    </div>

                                    <!-- Action Buttons -->
                                    <div class="flex space-x-3">
                                        <button class="flex-1 px-4 py-2 text-white text-sm font-medium rounded-lg flex items-center justify-center space-x-3" style="background-color: #047857; hover:background-color: #065f46;">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                            </svg>
                                            <span>Approve Exception</span>
                                        </button>
                                        <button class="flex-1 px-4 py-2 text-white text-sm font-medium rounded-lg flex items-center justify-center space-x-3" style="background-color: #1e40af; color: white;">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"/>
                                            </svg>
                                            <span>Partial Refund</span>
                                        </button>
                                        <button class="flex-1 px-4 py-2 text-white text-sm font-medium rounded-lg flex items-center justify-center space-x-3" style="background-color: #b91c1c;">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
                                            </svg>
                                            <span>Escalate</span>
                                        </button>
                                    </div>
                                </div>
                            </div><!-- Sarah Johnson - Approval Needed -->
                                <div class="p-6 border-l-4" style="border-left-color: #FCD3D6;">
                                    <div class="flex items-start justify-between mb-4">
                                        <div class="flex items-center space-x-3">
                                            <img src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face&auto=format"
                                                 alt="Sarah Johnson"
                                                 class="w-10 h-10 rounded-full object-cover border-2 border-gray-200">
                                            <div>
                                                <h3 class="font-semibold text-gray-900">Sarah Johnson</h3>
                                                <p class="text-sm text-gray-500">Bronze Member ‚Ä¢ Treasure Apparel</p>
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium" style="background-color: #FEF4F5; color: #7A121A;">
                                                URGENT APPROVAL
                                            </span>
                                            <p class="text-sm text-gray-500 mt-1">1 min ago</p>
                                        </div>
                                    </div>

                                    <div class="mb-4">
                                        <p class="font-medium text-gray-900 mb-2">Issue: Multiple failed payment attempts triggering fraud alert</p>
                                    </div>

                                    <!-- Two-column layout for AI Analysis and Risk Assessment -->
                                    <div class="grid grid-cols-2 gap-4 mb-4">
                                        <!-- AI Agent Analysis -->
                                        <div class="bg-gray-50 rounded-lg p-4">
                                            <div class="mb-3">
                                                <h4 class="font-medium text-gray-900">AI Agent Analysis</h4>
                                            </div>
                                            <div class="grid grid-cols-2 gap-3">
                                                <div class="space-y-2">
                                                    <div class="flex items-center space-x-3">
                                                        <span class="text-sm">‚ö†Ô∏è</span>
                                                        <span class="text-sm text-gray-600">5 failed payments (30 min)</span>
                                                    </div>
                                                    <div class="flex items-center space-x-3">
                                                        <span class="text-sm">üè†</span>
                                                        <span class="text-sm text-gray-600">Same billing address</span>
                                                    </div>
                                                </div>
                                                <div class="space-y-2">
                                                    <div class="flex items-center space-x-3">
                                                        <span class="text-sm">üì±</span>
                                                        <span class="text-sm text-gray-600">Same device & IP</span>
                                                    </div>
                                                    <div class="flex items-center space-x-3">
                                                        <span class="text-sm">üí≥</span>
                                                        <span class="text-sm text-gray-600">Different card numbers</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- AI Risk Assessment -->
                                        <div class="bg-orange-50 rounded-lg p-4">
                                            <div class="mb-3">
                                                <h4 class="font-medium text-gray-900">AI Risk Assessment for Sarah</h4>
                                            </div>
                                            <ol class="space-y-2">
                                                <li class="flex items-start space-x-3">
                                                    <span class="font-medium text-black">1.</span>
                                                    <span class="text-sm"><strong>Low fraud risk</strong> - customer behavior matches previous patterns</span>
                                                </li>
                                                <li class="flex items-start space-x-3">
                                                    <span class="font-medium text-black">2.</span>
                                                    <span class="text-sm"><strong>Contact customer</strong> - verify payment method and offer assistance</span>
                                                </li>
                                            </ol>
                                        </div>
                                    </div>

                                    <!-- Action Buttons -->
                                    <div class="flex space-x-3">
                                        <button class="flex-1 px-4 py-2 text-white text-sm font-medium rounded-lg flex items-center justify-center space-x-3" style="background-color: #047857; hover:background-color: #065f46;">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                            </svg>
                                            <span>Clear Alert</span>
                                        </button>
                                        <button class="flex-1 px-4 py-2 text-white text-sm font-medium rounded-lg flex items-center justify-center space-x-3" style="background-color: #1e40af; color: white;">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"/>
                                            </svg>
                                            <span>Call Customer</span>
                                        </button>
                                        <button class="flex-1 px-4 py-2 text-white text-sm font-medium rounded-lg flex items-center justify-center space-x-3" style="background-color: #b91c1c;">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd" d="M13.477 14.89A6 6 0 015.11 6.524l8.367 8.368zm1.414-1.414L6.524 5.11a6 6 0 008.367 8.367zM18 10a8 8 0 11-16 0 8 8 0 0116 0z" clip-rule="evenodd"/>
                                            </svg>
                                            <span>Block Account</span>
                                        </button>
                                    </div>
                                </div>

                                
                        </div>

                        <!-- Autonomous AI Conversations Section -->
                        <div class="bg-white rounded-lg shadow-sm border border-gray-200">
                            <div class="px-6 py-4 border-b border-gray-200">
                                <h2 class="text-xl font-semibold text-gray-900">AI Agents Handling Autonomously</h2>
                                <p class="text-sm text-gray-600 mt-1">Conversations being managed by AI without human intervention</p>
                            </div>

                            <div class="divide-y divide-gray-200">
                                <!-- James Wilson - Order Status -->
                                <div class="p-6 border-l-4" style="border-left-color: #D4E6F5;">
                                    <div class="flex items-start justify-between mb-3">
                                        <div class="flex items-center space-x-3">
                                            <div class="w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold" style="background-color: #2563EB;">
                                                J
                                            </div>
                                            <div>
                                                <h3 class="font-semibold text-gray-900">James Wilson</h3>
                                                <p class="text-sm text-gray-500">Silver Member ‚Ä¢ Order #TR-2045</p>
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium" style="background-color: #EBF8FF; color: #1E40AF;">
                                                AI HANDLING
                                            </span>
                                            <p class="text-sm text-gray-500 mt-1">5 min ago</p>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <p class="font-medium text-gray-900 mb-1">Query: "Where is my order? It was supposed to arrive today."</p>
                                        <p class="text-sm text-gray-600">AI Response: Tracking shows slight delay due to weather. Estimated delivery: tomorrow by 2 PM. Offering $5 credit for inconvenience.</p>
                                    </div>
                                    <div class="flex items-center space-x-4 text-sm text-gray-600">
                                        <span class="flex items-center space-x-1">
                                            <span>‚úÖ</span>
                                            <span>Confidence: 95%</span>
                                        </span>
                                        <span class="flex items-center space-x-1">
                                            <span>‚è±Ô∏è</span>
                                            <span>Response time: 12s</span>
                                        </span>
                                    </div>
                                </div>

                                <!-- Lisa Brown - Return Process -->
                                <div class="p-6 border-l-4" style="border-left-color: #D4E6F5;">
                                    <div class="flex items-start justify-between mb-3">
                                        <div class="flex items-center space-x-3">
                                            <div class="w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold" style="background-color: #7C3AED;">
                                                L
                                            </div>
                                            <div>
                                                <h3 class="font-semibold text-gray-900">Lisa Brown</h3>
                                                <p class="text-sm text-gray-500">Bronze Member ‚Ä¢ Return #RT-8834</p>
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium" style="background-color: #EBF8FF; color: #1E40AF;">
                                                AI HANDLING
                                            </span>
                                            <p class="text-sm text-gray-500 mt-1">8 min ago</p>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <p class="font-medium text-gray-900 mb-1">Query: "How do I return this sweater? Wrong size."</p>
                                        <p class="text-sm text-gray-600">AI Response: Generated return label sent to email. Pickup scheduled for tomorrow. Free exchange available for size up/down.</p>
                                    </div>
                                    <div class="flex items-center space-x-4 text-sm text-gray-600">
                                        <span class="flex items-center space-x-1">
                                            <span>‚úÖ</span>
                                            <span>Confidence: 98%</span>
                                        </span>
                                        <span class="flex items-center space-x-1">
                                            <span>‚è±Ô∏è</span>
                                            <span>Response time: 8s</span>
                                        </span>
                                    </div>
                                </div>

                                <!-- Michael Chang - Product Inquiry -->
                                <div class="p-6 border-l-4" style="border-left-color: #D4E6F5;">
                                    <div class="flex items-start justify-between mb-3">
                                        <div class="flex items-center space-x-3">
                                            <div class="w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold" style="background-color: #059669;">
                                                M
                                            </div>
                                            <div>
                                                <h3 class="font-semibold text-gray-900">Michael Chang</h3>
                                                <p class="text-sm text-gray-500">Gold Member ‚Ä¢ Product Inquiry</p>
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium" style="background-color: #EBF8FF; color: #1E40AF;">
                                                AI HANDLING
                                            </span>
                                            <p class="text-sm text-gray-500 mt-1">12 min ago</p>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <p class="font-medium text-gray-900 mb-1">Query: "Do you have this jacket in XL? What's the material?"</p>
                                        <p class="text-sm text-gray-600">AI Response: Yes, XL available. 80% cotton, 20% polyester blend. Premium water-resistant finish. Added to cart with Gold member discount.</p>
                                    </div>
                                    <div class="flex items-center space-x-4 text-sm text-gray-600">
                                        <span class="flex items-center space-x-1">
                                            <span>‚úÖ</span>
                                            <span>Confidence: 92%</span>
                                        </span>
                                        <span class="flex items-center space-x-1">
                                            <span>‚è±Ô∏è</span>
                                            <span>Response time: 15s</span>
                                        </span>
                                    </div>
                                </div>

                                <!-- Rachel Martinez - Account Question -->
                                <div class="p-6 border-l-4" style="border-left-color: #D4E6F5;">
                                    <div class="flex items-start justify-between mb-3">
                                        <div class="flex items-center space-x-3">
                                            <div class="w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold" style="background-color: #DC2626;">
                                                R
                                            </div>
                                            <div>
                                                <h3 class="font-semibold text-gray-900">Rachel Martinez</h3>
                                                <p class="text-sm text-gray-500">Silver Member ‚Ä¢ Account Settings</p>
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium" style="background-color: #EBF8FF; color: #1E40AF;">
                                                AI HANDLING
                                            </span>
                                            <p class="text-sm text-gray-500 mt-1">15 min ago</p>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <p class="font-medium text-gray-900 mb-1">Query: "How do I update my shipping address?"</p>
                                        <p class="text-sm text-gray-600">AI Response: Guided through account settings. Address updated successfully. Confirmed address for pending orders will use new address.</p>
                                    </div>
                                    <div class="flex items-center space-x-4 text-sm text-gray-600">
                                        <span class="flex items-center space-x-1">
                                            <span>‚úÖ</span>
                                            <span>Confidence: 97%</span>
                                        </span>
                                        <span class="flex items-center space-x-1">
                                            <span>‚è±Ô∏è</span>
                                            <span>Response time: 6s</span>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="ai-settings-page" class="page-content hidden">
                    <div class="flex h-full">
                        <!-- Left Sidebar Navigation -->
                        <div class="w-64 bg-white border-r border-gray-200 flex-shrink-0">
                            <div class="p-6 border-b border-gray-200">
                                <h1 class="text-xl font-bold text-gray-900">AI Agent Settings</h1>
                            </div>

                            <nav class="p-4 space-y-2">
                                <!-- Analyze Section -->
                                <div class="ai-nav-item flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 cursor-pointer" onclick="showAISubPage('analyze')">
                                    <div class="flex items-center space-x-3">
                                        <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
                                        </svg>
                                        <span class="font-medium text-gray-900">Analyze</span>
                                    </div>
                                    <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                                    </svg>
                                </div>

                                <!-- Train Section (Expandable) -->
                                <div class="ai-nav-section">
                                    <div class="ai-nav-item flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 cursor-pointer" onclick="toggleTrainSection()">
                                        <div class="flex items-center space-x-3">
                                            <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C20.168 18.477 18.582 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
                                            </svg>
                                            <span class="font-medium text-gray-900">Train</span>
                                        </div>
                                        <svg id="train-chevron" class="w-4 h-4 text-gray-400 transform transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                                        </svg>
                                    </div>

                                    <!-- Train Subsections -->
                                    <div id="train-subsections" class="ml-8 mt-2 space-y-1">
                                        <div class="ai-nav-subitem p-2 rounded hover:bg-gray-50 cursor-pointer text-sm font-medium text-blue-600 bg-blue-50" onclick="showAISubPage('content')">
                                            Content
                                        </div>
                                        <div class="ai-nav-subitem p-2 rounded hover:bg-gray-50 cursor-pointer text-sm text-gray-600" onclick="showAISubPage('guidance')">
                                            Guide
                                        </div>
                                        <div class="ai-nav-subitem p-2 rounded hover:bg-gray-50 cursor-pointer text-sm text-gray-600" onclick="showAISubPage('tasks')">
                                            Tasks
                                        </div>
                                    </div>
                                </div>

                                <!-- Test Section -->
                                <div class="ai-nav-item flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 cursor-pointer" onclick="showAISubPage('test')">
                                    <div class="flex items-center space-x-3">
                                        <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
                                        </svg>
                                        <span class="font-medium text-gray-900">Test</span>
                                    </div>
                                    <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                                    </svg>
                                </div>

                                <!-- Deploy Section -->
                                <div class="ai-nav-item flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 cursor-pointer" onclick="showAISubPage('deploy')">
                                    <div class="flex items-center space-x-3">
                                        <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"/>
                                        </svg>
                                        <span class="font-medium text-gray-900">Deploy</span>
                                    </div>
                                    <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                                    </svg>
                                </div>


                                <!-- Workflows -->
                                <div class="ai-nav-item flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 cursor-pointer" onclick="showAISubPage('workflows')">
                                    <div class="flex items-center space-x-3">
                                        <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                                        </svg>
                                        <span class="font-medium text-gray-900">Workflows</span>
                                    </div>
                                    <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                                    </svg>
                                </div>
                            </nav>
                        </div>

                        <!-- Main Content Area -->
                        <div class="flex-1 bg-gray-50">
                            <!-- Content Sub-page (Default) -->
                            <div id="ai-content-page" class="ai-subpage p-6">
                                <div class="mb-6">
                                    <div class="flex items-center space-x-3 text-sm text-gray-500 mb-2">
                                        <span>AI Agent Settings</span>
                                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                                        </svg>
                                        <span>Train</span>
                                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                                        </svg>
                                        <span class="text-gray-900 font-medium">Content</span>
                                    </div>
                                    <h1 class="text-2xl font-bold text-gray-900">Content</h1>
                                </div>

                                <!-- Content Types -->
                                <div class="space-y-6">
                                    <!-- Public Articles -->
                                    <div class="bg-white border border-gray-200 rounded-lg p-6">
                                        <div class="flex items-center justify-between mb-4">
                                            <div class="flex items-center space-x-3">
                                                <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C20.168 18.477 18.582 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
                                                </svg>
                                                <h3 class="text-lg font-semibold text-gray-900">Public articles</h3>
                                                <span class="text-sm text-gray-500">(156 of 200)</span>
                                            </div>
                                            <button class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm">
                                                Manage Articles
                                            </button>
                                        </div>
                                        <p class="text-gray-600 text-sm">Help center articles and documentation that customers can access publicly.</p>
                                        <div class="mt-4 flex items-center space-x-4 text-sm">
                                            <span class="text-green-600 font-medium">‚úì Active</span>
                                            <span class="text-gray-500">Last synced: 2 hours ago</span>
                                            <span class="text-gray-500">Accuracy: 94%</span>
                                        </div>
                                    </div>

                                    <!-- Snippets -->
                                    <div class="bg-white border border-gray-200 rounded-lg p-6">
                                        <div class="flex items-center justify-between mb-4">
                                            <div class="flex items-center space-x-3">
                                                <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
                                                </svg>
                                                <h3 class="text-lg font-semibold text-gray-900">Snippets</h3>
                                                <span class="text-sm text-gray-500">(47 of 50)</span>
                                            </div>
                                            <button class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm">
                                                Manage Snippets
                                            </button>
                                        </div>
                                        <p class="text-gray-600 text-sm">Pre-written response templates for common customer inquiries.</p>
                                        <div class="mt-4 flex items-center space-x-4 text-sm">
                                            <span class="text-green-600 font-medium">‚úì Active</span>
                                            <span class="text-gray-500">Last updated: 1 day ago</span>
                                            <span class="text-gray-500">Usage: 89%</span>
                                        </div>
                                    </div>

                                    <!-- Custom Content -->
                                    <div class="bg-white border border-gray-200 rounded-lg p-6">
                                        <div class="flex items-center justify-between mb-4">
                                            <div class="flex items-center space-x-3">
                                                <svg class="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"/>
                                                </svg>
                                                <h3 class="text-lg font-semibold text-gray-900">Custom</h3>
                                                <span class="text-sm text-gray-500">(23 of 100)</span>
                                            </div>
                                            <button class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm">
                                                Add Custom Content
                                            </button>
                                        </div>
                                        <p class="text-gray-600 text-sm">Custom training content, policies, and specialized knowledge for your business.</p>
                                        <div class="mt-4 flex items-center space-x-4 text-sm">
                                            <span class="text-yellow-600 font-medium">‚ö† Needs Review</span>
                                            <span class="text-gray-500">Last updated: 1 week ago</span>
                                            <span class="text-gray-500">Coverage: 67%</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- Add Content Section -->
                                <div class="mt-8">
                                    <h3 class="text-lg font-semibold text-gray-900 mb-4">Add content</h3>
                                    <div class="grid gap-4">
                                        <!-- Sync from Website -->
                                        <div class="bg-white border border-gray-200 rounded-lg p-6 hover:border-blue-300 cursor-pointer transition-colors">
                                            <div class="flex items-center space-x-3">
                                                <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9v-9m0-9v9"/>
                                                </svg>
                                                <div>
                                                    <h4 class="font-medium text-gray-900">Sync content from a website</h4>
                                                    <p class="text-sm text-gray-600">Import knowledge directly from your website or documentation</p>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Import from Zendesk -->
                                        <div class="bg-white border border-gray-200 rounded-lg p-6 hover:border-blue-300 cursor-pointer transition-colors">
                                            <div class="flex items-center space-x-3">
                                                <div class="w-6 h-6 bg-green-100 rounded flex items-center justify-center">
                                                    <span class="text-green-600 font-bold text-xs">Z</span>
                                                </div>
                                                <div>
                                                    <h4 class="font-medium text-gray-900">Import/sync knowledge base from Zendesk</h4>
                                                    <p class="text-sm text-gray-600">Connect your existing Zendesk knowledge base</p>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Content from Conversations -->
                                        <div class="bg-white border border-gray-200 rounded-lg p-6 hover:border-blue-300 cursor-pointer transition-colors">
                                            <div class="flex items-center space-x-3">
                                                <svg class="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
                                                </svg>
                                                <div>
                                                    <h4 class="font-medium text-gray-900">Content from conversations</h4>
                                                    <p class="text-sm text-gray-600">Learn from past customer conversations and support tickets</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Other sub-pages will be added here -->
                            <div id="ai-analyze-page" class="ai-subpage hidden p-6">
                                <h1 class="text-2xl font-bold text-gray-900 mb-6">Analyze</h1>
                                <div class="bg-white border border-gray-200 rounded-lg p-6">
                                    <p class="text-gray-600">AI performance analytics and insights coming soon...</p>
                                </div>
                            </div>

                            <div id="ai-guidance-page" class="ai-subpage hidden p-6">
                                <div class="mb-6">
                                    <div class="flex items-center space-x-3 text-sm text-gray-500 mb-2">
                                        <span>AI Agent Settings</span>
                                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                                        </svg>
                                        <span>Train</span>
                                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                                        </svg>
                                        <span class="text-gray-900 font-medium">Guide</span>
                                    </div>
                                    <h1 class="text-2xl font-bold text-gray-900">Guide</h1>
                                    <p class="text-gray-600 mt-2">Configure how your AI agent behaves and interacts with customers</p>
                                </div>

                                <div class="space-y-6">
                                    <!-- Communication Style -->
                                    <div class="bg-white border border-gray-200 rounded-lg p-6 shadow-sm">
                                        <div class="flex items-center justify-between mb-4">
                                            <div class="flex items-center space-x-3">
                                                <svg class="w-6 h-6 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
                                                </svg>
                                                <h2 class="text-lg font-semibold text-gray-900">Communication Style</h2>
                                            </div>
                                            <button class="px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm">
                                                Edit Style
                                            </button>
                                        </div>

                                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                            <div class="space-y-4">
                                                <div>
                                                    <label class="block text-sm font-medium text-gray-700 mb-2">Tone of Voice</label>
                                                    <select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                                        <option value="professional">Professional & Helpful</option>
                                                        <option value="friendly">Friendly & Conversational</option>
                                                        <option value="formal">Formal & Concise</option>
                                                        <option value="empathetic">Empathetic & Understanding</option>
                                                    </select>
                                                </div>

                                                <div>
                                                    <label class="block text-sm font-medium text-gray-700 mb-2">Response Length</label>
                                                    <select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                                        <option value="concise">Concise (1-2 sentences)</option>
                                                        <option value="detailed" selected>Detailed (2-4 sentences)</option>
                                                        <option value="comprehensive">Comprehensive (full explanations)</option>
                                                    </select>
                                                </div>

                                                <div>
                                                    <label class="block text-sm font-medium text-gray-700 mb-2">Personality Traits</label>
                                                    <div class="space-y-2">
                                                        <label class="flex items-center">
                                                            <input type="checkbox" checked class="rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                                                            <span class="ml-2 text-sm text-gray-700">Patient and understanding</span>
                                                        </label>
                                                        <label class="flex items-center">
                                                            <input type="checkbox" checked class="rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                                                            <span class="ml-2 text-sm text-gray-700">Proactive with suggestions</span>
                                                        </label>
                                                        <label class="flex items-center">
                                                            <input type="checkbox" class="rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                                                            <span class="ml-2 text-sm text-gray-700">Use humor when appropriate</span>
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="bg-gray-50 p-4 rounded-lg">
                                                <h4 class="font-medium text-gray-900 mb-2">Preview Response</h4>
                                                <div class="bg-white p-3 rounded border border-gray-200 text-sm">
                                                    <p class="text-gray-700">"I understand you're having trouble with your login. I'd be happy to help you resolve this quickly. Let me guide you through a few steps that should get you back into your account right away."</p>
                                                </div>
                                                <p class="text-xs text-gray-500 mt-2">This is how your AI agent will typically respond with current settings.</p>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Behavioral Rules -->
                                    <div class="bg-white border border-gray-200 rounded-lg p-6 shadow-sm">
                                        <div class="flex items-center justify-between mb-4">
                                            <div class="flex items-center space-x-3">
                                                <svg class="w-6 h-6 text-purple-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                                </svg>
                                                <h2 class="text-lg font-semibold text-gray-900">Behavioral Rules</h2>
                                            </div>
                                            <button class="px-3 py-1 bg-purple-600 text-white rounded-lg hover:bg-purple-700 text-sm">
                                                Add Rule
                                            </button>
                                        </div>

                                        <div class="space-y-4">
                                            <div class="border border-gray-200 rounded-lg p-4">
                                                <div class="flex items-center justify-between mb-2">
                                                    <h4 class="font-medium text-gray-900">Always acknowledge customer emotions</h4>
                                                    <label class="relative inline-flex items-center cursor-pointer">
                                                        <input type="checkbox" checked class="sr-only peer">
                                                        <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                                                    </label>
                                                </div>
                                                <p class="text-sm text-gray-600">When customers express frustration, anger, or confusion, acknowledge their feelings before providing solutions.</p>
                                                <div class="mt-2 text-xs text-gray-500">
                                                    Example: "I can understand how frustrating this must be for you. Let me help fix this right away."
                                                </div>
                                            </div>

                                            <div class="border border-gray-200 rounded-lg p-4">
                                                <div class="flex items-center justify-between mb-2">
                                                    <h4 class="font-medium text-gray-900">Offer multiple solution paths</h4>
                                                    <label class="relative inline-flex items-center cursor-pointer">
                                                        <input type="checkbox" checked class="sr-only peer">
                                                        <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                                                    </label>
                                                </div>
                                                <p class="text-sm text-gray-600">Provide customers with 2-3 different ways to solve their problem when possible.</p>
                                                <div class="mt-2 text-xs text-gray-500">
                                                    Example: "You can either reset through email, use SMS verification, or I can send you a temporary access link."
                                                </div>
                                            </div>

                                            <div class="border border-gray-200 rounded-lg p-4">
                                                <div class="flex items-center justify-between mb-2">
                                                    <h4 class="font-medium text-gray-900">Proactively offer related help</h4>
                                                    <label class="relative inline-flex items-center cursor-pointer">
                                                        <input type="checkbox" checked class="sr-only peer">
                                                        <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                                                    </label>
                                                </div>
                                                <p class="text-sm text-gray-600">After solving the main issue, suggest related topics or preventive measures.</p>
                                                <div class="mt-2 text-xs text-gray-500">
                                                    Example: "While we're here, would you like me to show you how to set up two-factor authentication for added security?"
                                                </div>
                                            </div>

                                            <div class="border border-yellow-200 rounded-lg p-4 bg-yellow-50">
                                                <div class="flex items-center justify-between mb-2">
                                                    <h4 class="font-medium text-gray-900">Never make promises about timelines</h4>
                                                    <label class="relative inline-flex items-center cursor-pointer">
                                                        <input type="checkbox" checked class="sr-only peer">
                                                        <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-yellow-600"></div>
                                                    </label>
                                                </div>
                                                <p class="text-sm text-gray-600">Avoid giving specific timeframes for issues that require human intervention or complex fixes.</p>
                                                <div class="mt-2 text-xs text-gray-500">
                                                    Instead say: "Our team will prioritize this and get back to you as soon as possible."
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Escalation Guidelines -->
                                    <div class="bg-white border border-gray-200 rounded-lg p-6 shadow-sm">
                                        <div class="flex items-center justify-between mb-4">
                                            <div class="flex items-center space-x-3">
                                                <svg class="w-6 h-6 text-orange-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                                                </svg>
                                                <h2 class="text-lg font-semibold text-gray-900">Escalation Guidelines</h2>
                                            </div>
                                            <button class="px-3 py-1 bg-orange-600 text-white rounded-lg hover:bg-orange-700 text-sm">
                                                Edit Guidelines
                                            </button>
                                        </div>

                                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                            <div>
                                                <h4 class="font-medium text-gray-900 mb-3">When to escalate immediately:</h4>
                                                <div class="space-y-2 text-sm">
                                                    <div class="flex items-center space-x-3">
                                                        <div class="w-2 h-2 bg-red-500 rounded-full"></div>
                                                        <span class="text-gray-700">Billing disputes over $500</span>
                                                    </div>
                                                    <div class="flex items-center space-x-3">
                                                        <div class="w-2 h-2 bg-red-500 rounded-full"></div>
                                                        <span class="text-gray-700">Legal or compliance issues</span>
                                                    </div>
                                                    <div class="flex items-center space-x-3">
                                                        <div class="w-2 h-2 bg-red-500 rounded-full"></div>
                                                        <span class="text-gray-700">Data security concerns</span>
                                                    </div>
                                                    <div class="flex items-center space-x-3">
                                                        <div class="w-2 h-2 bg-red-500 rounded-full"></div>
                                                        <span class="text-gray-700">Customer threatens to cancel (Enterprise)</span>
                                                    </div>
                                                    <div class="flex items-center space-x-3">
                                                        <div class="w-2 h-2 bg-red-500 rounded-full"></div>
                                                        <span class="text-gray-700">Technical issues affecting multiple users</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <div>
                                                <h4 class="font-medium text-gray-900 mb-3">How to escalate gracefully:</h4>
                                                <div class="bg-gray-50 p-4 rounded-lg text-sm">
                                                    <p class="text-gray-700 mb-2"><strong>Template:</strong></p>
                                                    <p class="text-gray-600 italic">"I want to make sure you get the best possible help with this. Let me connect you with one of our specialists who can give this the attention it deserves. They'll be able to [specific benefit]. I'll make sure they have all the context from our conversation."</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Brand Voice -->
                                    <div class="bg-white border border-gray-200 rounded-lg p-6 shadow-sm">
                                        <div class="flex items-center justify-between mb-4">
                                            <div class="flex items-center space-x-3">
                                                <svg class="w-6 h-6 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 4V2a1 1 0 011-1h8a1 1 0 011 1v2M7 4h10v16a2 2 0 01-2 2H9a2 2 0 01-2-2V4z"/>
                                                </svg>
                                                <h2 class="text-lg font-semibold text-gray-900">Brand Voice & Values</h2>
                                            </div>
                                            <button class="px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm">
                                                Customize
                                            </button>
                                        </div>

                                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                                            <div class="text-center">
                                                <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3">
                                                    <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                                                    </svg>
                                                </div>
                                                <h4 class="font-medium text-gray-900 mb-2">Efficient</h4>
                                                <p class="text-sm text-gray-600">Solve problems quickly without unnecessary back-and-forth</p>
                                            </div>

                                            <div class="text-center">
                                                <div class="w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-3">
                                                    <svg class="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                                                    </svg>
                                                </div>
                                                <h4 class="font-medium text-gray-900 mb-2">Empathetic</h4>
                                                <p class="text-sm text-gray-600">Show understanding and care for customer situations</p>
                                            </div>

                                            <div class="text-center">
                                                <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3">
                                                    <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
                                                    </svg>
                                                </div>
                                                <h4 class="font-medium text-gray-900 mb-2">Knowledgeable</h4>
                                                <p class="text-sm text-gray-600">Provide accurate, helpful information with confidence</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div id="ai-tasks-page" class="ai-subpage hidden p-6">
                                <div class="mb-6">
                                    <div class="flex items-center space-x-3 text-sm text-gray-500 mb-2">
                                        <span>AI Agent Settings</span>
                                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                                        </svg>
                                        <span>Train</span>
                                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                                        </svg>
                                        <span class="text-gray-900 font-medium">Tasks</span>
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <h1 class="text-2xl font-bold text-gray-900">Tasks</h1>
                                            <p class="text-gray-600 mt-2">Define what actions your AI agent can perform autonomously</p>
                                        </div>
                                        <button class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium">
                                            Create Custom Task
                                        </button>
                                    </div>
                                </div>

                                <div class="space-y-6">
                                    <!-- Task Categories -->
                                    <div class="bg-white border border-gray-200 rounded-lg shadow-sm">
                                        <div class="p-6 border-b border-gray-200">
                                            <div class="flex items-center justify-between">
                                                <h2 class="text-xl font-semibold text-gray-900">Available Tasks</h2>
                                                <div class="flex items-center space-x-3 text-sm text-gray-500">
                                                    <span>18 active tasks</span>
                                                    <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="p-6">
                                            <!-- Financial Actions -->
                                            <div class="mb-8">
                                                <div class="flex items-center space-x-3 mb-4">
                                                    <div class="w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center">
                                                        <svg class="w-4 h-4 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"/>
                                                        </svg>
                                                    </div>
                                                    <h3 class="text-lg font-semibold text-gray-900">Financial Actions</h3>
                                                    <span class="text-sm text-gray-500">(5 tasks)</span>
                                                </div>

                                                <div class="grid gap-4">
                                                    <!-- Issue Refund Task -->
                                                    <div class="border border-gray-200 rounded-lg p-4">
                                                        <div class="flex items-start justify-between">
                                                            <div class="flex-1">
                                                                <div class="flex items-center space-x-3 mb-2">
                                                                    <h4 class="font-semibold text-gray-900">Issue Refund</h4>
                                                                    <span class="text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full">Active</span>
                                                                    <span class="text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded-full">Requires Approval</span>
                                                                </div>
                                                                <p class="text-sm text-gray-600 mb-3">Process customer refund requests within policy guidelines</p>

                                                                <div class="grid grid-cols-2 gap-4 text-xs">
                                                                    <div>
                                                                        <span class="text-gray-500">Maximum Amount:</span>
                                                                        <span class="ml-2 font-medium">$500</span>
                                                                    </div>
                                                                    <div>
                                                                        <span class="text-gray-500">Auto-approve up to:</span>
                                                                        <span class="ml-2 font-medium">$100</span>
                                                                    </div>
                                                                    <div>
                                                                        <span class="text-gray-500">Success rate:</span>
                                                                        <span class="ml-2 font-medium text-green-600">94%</span>
                                                                    </div>
                                                                    <div>
                                                                        <span class="text-gray-500">Avg processing:</span>
                                                                        <span class="ml-2 font-medium">2.3 minutes</span>
                                                                    </div>
                                                                </div>

                                                                <div class="mt-3 text-xs">
                                                                    <span class="text-gray-500">Steps:</span>
                                                                    <span class="text-gray-700">Verify order ‚Üí Check policy ‚Üí Process refund ‚Üí Send confirmation</span>
                                                                </div>
                                                            </div>
                                                            <div class="flex items-center space-x-3">
                                                                <label class="relative inline-flex items-center cursor-pointer">
                                                                    <input type="checkbox" checked class="sr-only peer">
                                                                    <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"></div>
                                                                </label>
                                                                <button class="text-gray-400 hover:text-gray-600">
                                                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
                                                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                                                                    </svg>
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <!-- Apply Credit Task -->
                                                    <div class="border border-gray-200 rounded-lg p-4">
                                                        <div class="flex items-start justify-between">
                                                            <div class="flex-1">
                                                                <div class="flex items-center space-x-3 mb-2">
                                                                    <h4 class="font-semibold text-gray-900">Apply Account Credit</h4>
                                                                    <span class="text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full">Active</span>
                                                                </div>
                                                                <p class="text-sm text-gray-600 mb-3">Add goodwill credits to customer accounts for service recovery</p>

                                                                <div class="grid grid-cols-2 gap-4 text-xs">
                                                                    <div>
                                                                        <span class="text-gray-500">Maximum Credit:</span>
                                                                        <span class="ml-2 font-medium">$50</span>
                                                                    </div>
                                                                    <div>
                                                                        <span class="text-gray-500">Monthly limit:</span>
                                                                        <span class="ml-2 font-medium">$200 per customer</span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <label class="relative inline-flex items-center cursor-pointer">
                                                                <input type="checkbox" checked class="sr-only peer">
                                                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"></div>
                                                            </label>
                                                        </div>
                                                    </div>

                                                    <!-- Generate Discount Code Task -->
                                                    <div class="border border-gray-200 rounded-lg p-4">
                                                        <div class="flex items-start justify-between">
                                                            <div class="flex-1">
                                                                <div class="flex items-center space-x-3 mb-2">
                                                                    <h4 class="font-semibold text-gray-900">Generate Discount Code</h4>
                                                                    <span class="text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full">Active</span>
                                                                </div>
                                                                <p class="text-sm text-gray-600 mb-3">Create personalized discount codes for customer retention</p>

                                                                <div class="grid grid-cols-2 gap-4 text-xs">
                                                                    <div>
                                                                        <span class="text-gray-500">Max discount:</span>
                                                                        <span class="ml-2 font-medium">25%</span>
                                                                    </div>
                                                                    <div>
                                                                        <span class="text-gray-500">Expiry period:</span>
                                                                        <span class="ml-2 font-medium">30 days</span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <label class="relative inline-flex items-center cursor-pointer">
                                                                <input type="checkbox" checked class="sr-only peer">
                                                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"></div>
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Account Management -->
                                            <div class="mb-8">
                                                <div class="flex items-center space-x-3 mb-4">
                                                    <div class="w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center">
                                                        <svg class="w-4 h-4 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                                                        </svg>
                                                    </div>
                                                    <h3 class="text-lg font-semibold text-gray-900">Account Management</h3>
                                                    <span class="text-sm text-gray-500">(6 tasks)</span>
                                                </div>

                                                <div class="grid gap-4">
                                                    <!-- Password Reset Task -->
                                                    <div class="border border-gray-200 rounded-lg p-4">
                                                        <div class="flex items-start justify-between">
                                                            <div class="flex-1">
                                                                <div class="flex items-center space-x-3 mb-2">
                                                                    <h4 class="font-semibold text-gray-900">Reset Password</h4>
                                                                    <span class="text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full">Active</span>
                                                                </div>
                                                                <p class="text-sm text-gray-600 mb-3">Securely reset customer passwords after identity verification</p>

                                                                <div class="grid grid-cols-2 gap-4 text-xs">
                                                                    <div>
                                                                        <span class="text-gray-500">Verification steps:</span>
                                                                        <span class="ml-2 font-medium">Email + Security Q</span>
                                                                    </div>
                                                                    <div>
                                                                        <span class="text-gray-500">Success rate:</span>
                                                                        <span class="ml-2 font-medium text-green-600">98%</span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <label class="relative inline-flex items-center cursor-pointer">
                                                                <input type="checkbox" checked class="sr-only peer">
                                                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"></div>
                                                            </label>
                                                        </div>
                                                    </div>

                                                    <!-- Update Contact Info Task -->
                                                    <div class="border border-gray-200 rounded-lg p-4">
                                                        <div class="flex items-start justify-between">
                                                            <div class="flex-1">
                                                                <div class="flex items-center space-x-3 mb-2">
                                                                    <h4 class="font-semibold text-gray-900">Update Contact Information</h4>
                                                                    <span class="text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full">Active</span>
                                                                </div>
                                                                <p class="text-sm text-gray-600 mb-3">Allow customers to update email, phone, and address information</p>

                                                                <div class="text-xs">
                                                                    <span class="text-gray-500">Restricted fields:</span>
                                                                    <span class="ml-2 text-gray-700">Legal name, payment methods (requires human approval)</span>
                                                                </div>
                                                            </div>
                                                            <label class="relative inline-flex items-center cursor-pointer">
                                                                <input type="checkbox" checked class="sr-only peer">
                                                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"></div>
                                                            </label>
                                                        </div>
                                                    </div>

                                                    <!-- Schedule Callback Task -->
                                                    <div class="border border-gray-200 rounded-lg p-4">
                                                        <div class="flex items-start justify-between">
                                                            <div class="flex-1">
                                                                <div class="flex items-center space-x-3 mb-2">
                                                                    <h4 class="font-semibold text-gray-900">Schedule Callback</h4>
                                                                    <span class="text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full">Active</span>
                                                                </div>
                                                                <p class="text-sm text-gray-600 mb-3">Book human agent callbacks during business hours</p>

                                                                <div class="grid grid-cols-2 gap-4 text-xs">
                                                                    <div>
                                                                        <span class="text-gray-500">Available hours:</span>
                                                                        <span class="ml-2 font-medium">9 AM - 6 PM EST</span>
                                                                    </div>
                                                                    <div>
                                                                        <span class="text-gray-500">Booking window:</span>
                                                                        <span class="ml-2 font-medium">Next 7 days</span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <label class="relative inline-flex items-center cursor-pointer">
                                                                <input type="checkbox" checked class="sr-only peer">
                                                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"></div>
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Technical Support -->
                                            <div class="mb-8">
                                                <div class="flex items-center space-x-3 mb-4">
                                                    <div class="w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center">
                                                        <svg class="w-4 h-4 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
                                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                                                        </svg>
                                                    </div>
                                                    <h3 class="text-lg font-semibold text-gray-900">Technical Support</h3>
                                                    <span class="text-sm text-gray-500">(4 tasks)</span>
                                                </div>

                                                <div class="grid gap-4">
                                                    <!-- Troubleshooting Guide Task -->
                                                    <div class="border border-gray-200 rounded-lg p-4">
                                                        <div class="flex items-start justify-between">
                                                            <div class="flex-1">
                                                                <div class="flex items-center space-x-3 mb-2">
                                                                    <h4 class="font-semibold text-gray-900">Run Troubleshooting Guide</h4>
                                                                    <span class="text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full">Active</span>
                                                                </div>
                                                                <p class="text-sm text-gray-600 mb-3">Guide customers through step-by-step technical problem resolution</p>

                                                                <div class="grid grid-cols-2 gap-4 text-xs">
                                                                    <div>
                                                                        <span class="text-gray-500">Available guides:</span>
                                                                        <span class="ml-2 font-medium">23 troubleshooting flows</span>
                                                                    </div>
                                                                    <div>
                                                                        <span class="text-gray-500">Resolution rate:</span>
                                                                        <span class="ml-2 font-medium text-green-600">76%</span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <label class="relative inline-flex items-center cursor-pointer">
                                                                <input type="checkbox" checked class="sr-only peer">
                                                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"></div>
                                                            </label>
                                                        </div>
                                                    </div>

                                                    <!-- Create Support Ticket Task -->
                                                    <div class="border border-gray-200 rounded-lg p-4">
                                                        <div class="flex items-start justify-between">
                                                            <div class="flex-1">
                                                                <div class="flex items-center space-x-3 mb-2">
                                                                    <h4 class="font-semibold text-gray-900">Create Support Ticket</h4>
                                                                    <span class="text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full">Active</span>
                                                                </div>
                                                                <p class="text-sm text-gray-600 mb-3">Generate detailed support tickets for complex technical issues</p>

                                                                <div class="text-xs">
                                                                    <span class="text-gray-500">Auto-includes:</span>
                                                                    <span class="ml-2 text-gray-700">Conversation history, customer details, initial diagnosis</span>
                                                                </div>
                                                            </div>
                                                            <label class="relative inline-flex items-center cursor-pointer">
                                                                <input type="checkbox" checked class="sr-only peer">
                                                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"></div>
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Information Gathering -->
                                            <div>
                                                <div class="flex items-center space-x-3 mb-4">
                                                    <div class="w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center">
                                                        <svg class="w-4 h-4 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2V7a2 2 0 00-2-2zm8 0h-2a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2V7a2 2 0 00-2-2z"/>
                                                        </svg>
                                                    </div>
                                                    <h3 class="text-lg font-semibold text-gray-900">Information Gathering</h3>
                                                    <span class="text-sm text-gray-500">(3 tasks)</span>
                                                </div>

                                                <div class="grid gap-4">
                                                    <!-- Collect Feedback Task -->
                                                    <div class="border border-gray-200 rounded-lg p-4">
                                                        <div class="flex items-start justify-between">
                                                            <div class="flex-1">
                                                                <div class="flex items-center space-x-3 mb-2">
                                                                    <h4 class="font-semibold text-gray-900">Collect Customer Feedback</h4>
                                                                    <span class="text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full">Active</span>
                                                                </div>
                                                                <p class="text-sm text-gray-600 mb-3">Gather structured feedback on products, features, and service experience</p>

                                                                <div class="grid grid-cols-2 gap-4 text-xs">
                                                                    <div>
                                                                        <span class="text-gray-500">Response rate:</span>
                                                                        <span class="ml-2 font-medium text-green-600">67%</span>
                                                                    </div>
                                                                    <div>
                                                                        <span class="text-gray-500">Feedback types:</span>
                                                                        <span class="ml-2 font-medium">Product, Service, Feature</span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <label class="relative inline-flex items-center cursor-pointer">
                                                                <input type="checkbox" checked class="sr-only peer">
                                                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"></div>
                                                            </label>
                                                        </div>
                                                    </div>

                                                    <!-- Document Feature Request Task -->
                                                    <div class="border border-gray-200 rounded-lg p-4">
                                                        <div class="flex items-start justify-between">
                                                            <div class="flex-1">
                                                                <div class="flex items-center space-x-3 mb-2">
                                                                    <h4 class="font-semibold text-gray-900">Document Feature Request</h4>
                                                                    <span class="text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full">Active</span>
                                                                </div>
                                                                <p class="text-sm text-gray-600 mb-3">Capture and categorize customer feature requests for product team review</p>

                                                                <div class="text-xs">
                                                                    <span class="text-gray-500">Auto-routes to:</span>
                                                                    <span class="ml-2 text-gray-700">Product team via internal ticket system</span>
                                                                </div>
                                                            </div>
                                                            <label class="relative inline-flex items-center cursor-pointer">
                                                                <input type="checkbox" checked class="sr-only peer">
                                                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"></div>
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Task Performance Analytics -->
                                    <div class="bg-white border border-gray-200 rounded-lg shadow-sm">
                                        <div class="p-6 border-b border-gray-200">
                                            <h2 class="text-xl font-semibold text-gray-900">Task Performance</h2>
                                            <p class="text-gray-600 text-sm mt-1">Monitor success rates and identify optimization opportunities</p>
                                        </div>

                                        <div class="p-6">
                                            <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                                                <div class="text-center">
                                                    <div class="text-2xl font-bold text-green-600">87%</div>
                                                    <div class="text-sm text-gray-600">Overall Success Rate</div>
                                                    <div class="text-xs text-green-600 mt-1">‚Üó +4% this week</div>
                                                </div>
                                                <div class="text-center">
                                                    <div class="text-2xl font-bold text-blue-600">1.8m</div>
                                                    <div class="text-sm text-gray-600">Avg Completion Time</div>
                                                    <div class="text-xs text-green-600 mt-1">‚Üó 0.3m faster</div>
                                                </div>
                                                <div class="text-center">
                                                    <div class="text-2xl font-bold text-purple-600">234</div>
                                                    <div class="text-sm text-gray-600">Tasks Completed Today</div>
                                                    <div class="text-xs text-gray-500 mt-1">15% above avg</div>
                                                </div>
                                                <div class="text-center">
                                                    <div class="text-2xl font-bold text-orange-600">12</div>
                                                    <div class="text-sm text-gray-600">Failed Tasks</div>
                                                    <div class="text-xs text-green-600 mt-1">‚Üò -8 from yesterday</div>
                                                </div>
                                            </div>

                                            <div class="mt-8">
                                                <h3 class="text-lg font-semibold text-gray-900 mb-4">Top Performing Tasks</h3>
                                                <div class="space-y-3">
                                                    <div class="flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg">
                                                        <span class="font-medium text-gray-900">Password Reset</span>
                                                        <span class="text-green-600 font-bold">98% success</span>
                                                    </div>
                                                    <div class="flex items-center justify-between p-3 bg-blue-50 border border-blue-200 rounded-lg">
                                                        <span class="font-medium text-gray-900">Issue Refund</span>
                                                        <span class="text-blue-600 font-bold">94% success</span>
                                                    </div>
                                                    <div class="flex items-center justify-between p-3 bg-purple-50 border border-purple-200 rounded-lg">
                                                        <span class="font-medium text-gray-900">Schedule Callback</span>
                                                        <span class="text-purple-600 font-bold">91% success</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div id="ai-test-page" class="ai-subpage hidden p-6">
                                <div class="mb-6">
                                    <div class="flex items-center space-x-3 text-sm text-gray-500 mb-2">
                                        <span>AI Agent Settings</span>
                                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                                        </svg>
                                        <span class="text-gray-900 font-medium">Test</span>
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <h1 class="text-2xl font-bold text-gray-900">Test</h1>
                                            <p class="text-gray-600 mt-2">Validate AI responses before deploying to customers</p>
                                        </div>
                                        <button class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium">
                                            Generate Test Batch
                                        </button>
                                    </div>
                                </div>

                                <div class="space-y-6">
                                    <!-- Test Configuration -->
                                    <div class="bg-white border border-gray-200 rounded-lg shadow-sm">
                                        <div class="p-6 border-b border-gray-200">
                                            <h2 class="text-xl font-semibold text-gray-900">Test Configuration</h2>
                                            <p class="text-gray-600 text-sm mt-1">Configure test scenarios and customer types</p>
                                        </div>

                                        <div class="p-6">
                                            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                                                <!-- Test Source -->
                                                <div>
                                                    <label class="block text-sm font-medium text-gray-700 mb-2">Test Source</label>
                                                    <select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                                        <option value="conversation-history">From Conversation History</option>
                                                        <option value="upload">Upload Test Questions</option>
                                                        <option value="manual">Manual Entry</option>
                                                        <option value="common-scenarios">Common Scenarios</option>
                                                    </select>
                                                </div>

                                                <!-- Customer Type -->
                                                <div>
                                                    <label class="block text-sm font-medium text-gray-700 mb-2">Customer Type</label>
                                                    <select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                                        <option value="all">All Customers</option>
                                                        <option value="leads">Leads</option>
                                                        <option value="trial">Trial Users</option>
                                                        <option value="paid">Paid Customers</option>
                                                        <option value="enterprise">Enterprise</option>
                                                        <option value="vip">VIP Customers</option>
                                                    </select>
                                                </div>

                                                <!-- Test Language -->
                                                <div>
                                                    <label class="block text-sm font-medium text-gray-700 mb-2">Language</label>
                                                    <select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                                        <option value="en">English</option>
                                                        <option value="es">Spanish</option>
                                                        <option value="fr">French</option>
                                                        <option value="de">German</option>
                                                        <option value="ja">Japanese</option>
                                                    </select>
                                                </div>
                                            </div>

                                            <div class="mt-6 flex space-x-4">
                                                <button class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">
                                                    Run Test Batch
                                                </button>
                                                <button class="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50">
                                                    Preview Mode
                                                </button>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Test Results -->
                                    <div class="bg-white border border-gray-200 rounded-lg shadow-sm">
                                        <div class="p-6 border-b border-gray-200">
                                            <div class="flex items-center justify-between">
                                                <h2 class="text-xl font-semibold text-gray-900">Test Results</h2>
                                                <div class="flex items-center space-x-4 text-sm">
                                                    <span class="text-green-600">‚úì 47 Good</span>
                                                    <span class="text-yellow-600">‚óê 12 Acceptable</span>
                                                    <span class="text-red-600">‚úó 8 Poor</span>
                                                    <span class="text-gray-500">67 Total</span>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="p-6 space-y-4">
                                            <!-- Individual Test Result -->
                                            <div class="border border-gray-200 rounded-lg p-4">
                                                <div class="flex items-start justify-between mb-3">
                                                    <div class="flex-1">
                                                        <h4 class="font-medium text-gray-900 mb-1">Customer Question</h4>
                                                        <p class="text-sm text-gray-700">"I need help with my billing issue. My card was charged twice for the same subscription."</p>
                                                    </div>
                                                    <div class="flex items-center space-x-3">
                                                        <span class="text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full">Good</span>
                                                        <button class="text-gray-400 hover:text-gray-600">
                                                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                                                            </svg>
                                                        </button>
                                                    </div>
                                                </div>

                                                <div class="bg-blue-50 border border-blue-200 rounded-lg p-3 mb-3">
                                                    <h5 class="font-medium text-blue-900 mb-1">AI Response</h5>
                                                    <p class="text-sm text-blue-800">"I understand how concerning duplicate charges can be. Let me help you resolve this right away. I can see your account and will check your recent billing history to identify the duplicate charge and process a refund for you."</p>
                                                </div>

                                                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-xs">
                                                    <div>
                                                        <span class="text-gray-500">Content Used:</span>
                                                        <span class="ml-2 text-gray-700">Billing FAQ, Refund Policy</span>
                                                    </div>
                                                    <div>
                                                        <span class="text-gray-500">Guidance Applied:</span>
                                                        <span class="ml-2 text-gray-700">Empathetic tone, Proactive assistance</span>
                                                    </div>
                                                    <div>
                                                        <span class="text-gray-500">Confidence:</span>
                                                        <span class="ml-2 text-gray-700">94%</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Poor Result Example -->
                                            <div class="border border-red-200 rounded-lg p-4 bg-red-50">
                                                <div class="flex items-start justify-between mb-3">
                                                    <div class="flex-1">
                                                        <h4 class="font-medium text-gray-900 mb-1">Customer Question</h4>
                                                        <p class="text-sm text-gray-700">"What's your policy for enterprise data retention and GDPR compliance?"</p>
                                                    </div>
                                                    <div class="flex items-center space-x-3">
                                                        <span class="text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full">Poor</span>
                                                        <button class="text-gray-400 hover:text-gray-600">
                                                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                                                            </svg>
                                                        </button>
                                                    </div>
                                                </div>

                                                <div class="bg-red-100 border border-red-200 rounded-lg p-3 mb-3">
                                                    <h5 class="font-medium text-red-900 mb-1">AI Response</h5>
                                                    <p class="text-sm text-red-800">"I don't have specific information about GDPR compliance policies. Let me connect you with our legal team for detailed information."</p>
                                                </div>

                                                <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-3">
                                                    <h5 class="font-medium text-yellow-900 mb-1">AI Suggestion</h5>
                                                    <p class="text-sm text-yellow-800">Content gap detected: Add enterprise compliance documentation to knowledge base. Recommended articles: GDPR Policy, Data Retention Guidelines.</p>
                                                    <button class="mt-2 px-3 py-1 bg-yellow-600 text-white rounded text-xs hover:bg-yellow-700">
                                                        Add Missing Content
                                                    </button>
                                                </div>

                                                <div class="text-xs">
                                                    <span class="text-gray-500">Issue:</span>
                                                    <span class="ml-2 text-red-600">Missing compliance content, Low confidence (23%)</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Preview Messenger -->
                                    <div class="bg-white border border-gray-200 rounded-lg shadow-sm">
                                        <div class="p-6 border-b border-gray-200">
                                            <h2 class="text-xl font-semibold text-gray-900">Live Preview</h2>
                                            <p class="text-gray-600 text-sm mt-1">Test individual questions in real-time</p>
                                        </div>

                                        <div class="p-6">
                                            <div class="bg-gray-50 border border-gray-200 rounded-lg p-4 max-h-96 overflow-y-auto">
                                                <!-- Chat Preview -->
                                                <div class="space-y-4">
                                                    <div class="flex justify-end">
                                                        <div class="bg-blue-600 text-white rounded-lg px-4 py-2 max-w-xs">
                                                            Can you help me change my password?
                                                        </div>
                                                    </div>
                                                    <div class="flex justify-start">
                                                        <div class="bg-white border border-gray-200 rounded-lg px-4 py-2 max-w-xs">
                                                            I'll help you reset your password securely. For your account security, I'll need to verify your identity first. Can you please confirm the email address associated with your account?
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="mt-4 flex space-x-3">
                                                <input
                                                    type="text"
                                                    placeholder="Type a test question..."
                                                    class="flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                                />
                                                <button class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">
                                                    Send
                                                </button>
                                            </div>

                                            <div class="mt-4 flex items-center justify-between text-sm">
                                                <div class="flex items-center space-x-4">
                                                    <span class="text-gray-500">Testing as:</span>
                                                    <select class="text-sm border border-gray-300 rounded px-2 py-1">
                                                        <option>Trial User</option>
                                                        <option>Paid Customer</option>
                                                        <option>Enterprise</option>
                                                    </select>
                                                </div>
                                                <div class="flex items-center space-x-3">
                                                    <span class="text-gray-500">AI Confidence:</span>
                                                    <span class="font-medium text-green-600">92%</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Test Analytics -->
                                    <div class="bg-white border border-gray-200 rounded-lg shadow-sm">
                                        <div class="p-6 border-b border-gray-200">
                                            <h2 class="text-xl font-semibold text-gray-900">Test Analytics</h2>
                                            <p class="text-gray-600 text-sm mt-1">Performance metrics across test scenarios</p>
                                        </div>

                                        <div class="p-6">
                                            <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                                                <div class="text-center">
                                                    <div class="text-2xl font-bold text-green-600">84%</div>
                                                    <div class="text-sm text-gray-600">Overall Pass Rate</div>
                                                    <div class="text-xs text-green-600 mt-1">Good + Acceptable</div>
                                                </div>
                                                <div class="text-center">
                                                    <div class="text-2xl font-bold text-blue-600">87%</div>
                                                    <div class="text-sm text-gray-600">Avg Confidence</div>
                                                    <div class="text-xs text-green-600 mt-1">‚Üó +5% vs last test</div>
                                                </div>
                                                <div class="text-center">
                                                    <div class="text-2xl font-bold text-purple-600">12</div>
                                                    <div class="text-sm text-gray-600">Content Gaps</div>
                                                    <div class="text-xs text-yellow-600 mt-1">Need attention</div>
                                                </div>
                                                <div class="text-center">
                                                    <div class="text-2xl font-bold text-orange-600">2.3s</div>
                                                    <div class="text-sm text-gray-600">Avg Response Time</div>
                                                    <div class="text-xs text-green-600 mt-1">Within target</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div id="ai-deploy-page" class="ai-subpage hidden p-6">
                                <div class="mb-6">
                                    <div class="flex items-center space-x-3 text-sm text-gray-500 mb-2">
                                        <span>AI Agent Settings</span>
                                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                                        </svg>
                                        <span class="text-gray-900 font-medium">Deploy</span>
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <h1 class="text-2xl font-bold text-gray-900">Deploy</h1>
                                            <p class="text-gray-600 mt-2">Control how and where your AI agent is deployed to customers</p>
                                        </div>
                                        <button class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium">
                                            Deploy to Production
                                        </button>
                                    </div>
                                </div>

                                <div class="space-y-6">
                                    <!-- Deployment Channels -->
                                    <div class="bg-white border border-gray-200 rounded-lg shadow-sm">
                                        <div class="p-6 border-b border-gray-200">
                                            <h2 class="text-xl font-semibold text-gray-900">Deployment Channels</h2>
                                            <p class="text-gray-600 text-sm mt-1">Choose where your AI agent will be available to customers</p>
                                        </div>

                                        <div class="p-6">
                                            <div class="grid gap-6">
                                                <!-- Live Chat -->
                                                <div class="border border-gray-200 rounded-lg p-4">
                                                    <div class="flex items-start justify-between">
                                                        <div class="flex items-start space-x-3">
                                                            <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0">
                                                                <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
                                                                </svg>
                                                            </div>
                                                            <div class="flex-1">
                                                                <h3 class="font-semibold text-gray-900 mb-1">Live Chat</h3>
                                                                <p class="text-sm text-gray-600 mb-3">Deploy AI agent to website chat widget and messaging platforms</p>

                                                                <div class="grid grid-cols-2 gap-4 text-xs">
                                                                    <div>
                                                                        <span class="text-gray-500">Current audience:</span>
                                                                        <span class="ml-2 font-medium">All website visitors</span>
                                                                    </div>
                                                                    <div>
                                                                        <span class="text-gray-500">Escalation rate:</span>
                                                                        <span class="ml-2 font-medium text-green-600">12%</span>
                                                                    </div>
                                                                </div>

                                                                <div class="mt-3">
                                                                    <button class="text-xs text-blue-600 hover:text-blue-700 font-medium">Configure audience targeting ‚Üí</button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="flex items-center space-x-3">
                                                            <span class="text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full">Active</span>
                                                            <label class="relative inline-flex items-center cursor-pointer">
                                                                <input type="checkbox" checked class="sr-only peer">
                                                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>

                                                <!-- Email Support -->
                                                <div class="border border-gray-200 rounded-lg p-4">
                                                    <div class="flex items-start justify-between">
                                                        <div class="flex items-start space-x-3">
                                                            <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0">
                                                                <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                                                                </svg>
                                                            </div>
                                                            <div class="flex-1">
                                                                <h3 class="font-semibold text-gray-900 mb-1">Email Support</h3>
                                                                <p class="text-sm text-gray-600 mb-3">Handle incoming support emails with AI-powered responses</p>

                                                                <div class="grid grid-cols-2 gap-4 text-xs">
                                                                    <div>
                                                                        <span class="text-gray-500">Email address:</span>
                                                                        <span class="ml-2 font-medium">support@treasuredata.com</span>
                                                                    </div>
                                                                    <div>
                                                                        <span class="text-gray-500">Response time:</span>
                                                                        <span class="ml-2 font-medium text-green-600">< 5 minutes</span>
                                                                    </div>
                                                                </div>

                                                                <div class="mt-3">
                                                                    <button class="text-xs text-green-600 hover:text-green-700 font-medium">Configure email rules ‚Üí</button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="flex items-center space-x-3">
                                                            <span class="text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full">Active</span>
                                                            <label class="relative inline-flex items-center cursor-pointer">
                                                                <input type="checkbox" checked class="sr-only peer">
                                                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"></div>
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>

                                                <!-- Phone Support -->
                                                <div class="border border-gray-200 rounded-lg p-4">
                                                    <div class="flex items-start justify-between">
                                                        <div class="flex items-start space-x-3">
                                                            <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0">
                                                                <svg class="w-5 h-5 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                                                                </svg>
                                                            </div>
                                                            <div class="flex-1">
                                                                <h3 class="font-semibold text-gray-900 mb-1">Phone Support</h3>
                                                                <p class="text-sm text-gray-600 mb-3">AI agent answers phone calls and handles voice interactions</p>

                                                                <div class="grid grid-cols-2 gap-4 text-xs">
                                                                    <div>
                                                                        <span class="text-gray-500">Phone number:</span>
                                                                        <span class="ml-2 font-medium">+1 (555) 123-4567</span>
                                                                    </div>
                                                                    <div>
                                                                        <span class="text-gray-500">Business hours:</span>
                                                                        <span class="ml-2 font-medium">9 AM - 6 PM EST</span>
                                                                    </div>
                                                                </div>

                                                                <div class="mt-3">
                                                                    <button class="text-xs text-purple-600 hover:text-purple-700 font-medium">Configure voice settings ‚Üí</button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="flex items-center space-x-3">
                                                            <span class="text-xs bg-yellow-100 text-yellow-700 px-2 py-1 rounded-full">Beta</span>
                                                            <label class="relative inline-flex items-center cursor-pointer">
                                                                <input type="checkbox" class="sr-only peer">
                                                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"></div>
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>

                                                <!-- Social Media -->
                                                <div class="border border-gray-200 rounded-lg p-4">
                                                    <div class="flex items-start justify-between">
                                                        <div class="flex items-start space-x-3">
                                                            <div class="w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center flex-shrink-0">
                                                                <svg class="w-5 h-5 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"/>
                                                                </svg>
                                                            </div>
                                                            <div class="flex-1">
                                                                <h3 class="font-semibold text-gray-900 mb-1">Social Media</h3>
                                                                <p class="text-sm text-gray-600 mb-3">Respond to customer inquiries on Twitter, Facebook, and LinkedIn</p>

                                                                <div class="grid grid-cols-2 gap-4 text-xs">
                                                                    <div>
                                                                        <span class="text-gray-500">Connected platforms:</span>
                                                                        <span class="ml-2 font-medium">Twitter, Facebook</span>
                                                                    </div>
                                                                    <div>
                                                                        <span class="text-gray-500">Response rate:</span>
                                                                        <span class="ml-2 font-medium text-green-600">78%</span>
                                                                    </div>
                                                                </div>

                                                                <div class="mt-3">
                                                                    <button class="text-xs text-orange-600 hover:text-orange-700 font-medium">Manage social accounts ‚Üí</button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="flex items-center space-x-3">
                                                            <span class="text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded-full">Partial</span>
                                                            <label class="relative inline-flex items-center cursor-pointer">
                                                                <input type="checkbox" checked class="sr-only peer">
                                                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-600"></div>
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Audience Targeting -->
                                    <div class="bg-white border border-gray-200 rounded-lg shadow-sm">
                                        <div class="p-6 border-b border-gray-200">
                                            <h2 class="text-xl font-semibold text-gray-900">Audience Targeting</h2>
                                            <p class="text-gray-600 text-sm mt-1">Control which customers interact with your AI agent</p>
                                        </div>

                                        <div class="p-6">
                                            <div class="grid gap-6">
                                                <!-- Customer Segments -->
                                                <div>
                                                    <h3 class="text-lg font-semibold text-gray-900 mb-4">Customer Segments</h3>
                                                    <div class="space-y-3">
                                                        <div class="flex items-center justify-between p-3 border border-gray-200 rounded-lg">
                                                            <div>
                                                                <h4 class="font-medium text-gray-900">Trial Users</h4>
                                                                <p class="text-sm text-gray-600">Users in their first 30 days</p>
                                                            </div>
                                                            <div class="flex items-center space-x-3">
                                                                <span class="text-sm text-gray-500">AI Handling: 85%</span>
                                                                <label class="relative inline-flex items-center cursor-pointer">
                                                                    <input type="checkbox" checked class="sr-only peer">
                                                                    <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                                                                </label>
                                                            </div>
                                                        </div>

                                                        <div class="flex items-center justify-between p-3 border border-gray-200 rounded-lg">
                                                            <div>
                                                                <h4 class="font-medium text-gray-900">Paid Customers</h4>
                                                                <p class="text-sm text-gray-600">Active subscription customers</p>
                                                            </div>
                                                            <div class="flex items-center space-x-3">
                                                                <span class="text-sm text-gray-500">AI Handling: 92%</span>
                                                                <label class="relative inline-flex items-center cursor-pointer">
                                                                    <input type="checkbox" checked class="sr-only peer">
                                                                    <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                                                                </label>
                                                            </div>
                                                        </div>

                                                        <div class="flex items-center justify-between p-3 border border-purple-200 rounded-lg bg-purple-50">
                                                            <div>
                                                                <h4 class="font-medium text-gray-900">Enterprise Customers</h4>
                                                                <p class="text-sm text-gray-600">High-value enterprise accounts</p>
                                                            </div>
                                                            <div class="flex items-center space-x-3">
                                                                <span class="text-sm text-gray-500">Human priority routing</span>
                                                                <label class="relative inline-flex items-center cursor-pointer">
                                                                    <input type="checkbox" class="sr-only peer">
                                                                    <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"></div>
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <!-- Geographic Targeting -->
                                                <div>
                                                    <h3 class="text-lg font-semibold text-gray-900 mb-4">Geographic & Language Settings</h3>
                                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                                        <div>
                                                            <label class="block text-sm font-medium text-gray-700 mb-2">Primary Markets</label>
                                                            <div class="space-y-2">
                                                                <label class="flex items-center">
                                                                    <input type="checkbox" checked class="rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                                                                    <span class="ml-2 text-sm text-gray-700">United States & Canada</span>
                                                                </label>
                                                                <label class="flex items-center">
                                                                    <input type="checkbox" checked class="rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                                                                    <span class="ml-2 text-sm text-gray-700">United Kingdom</span>
                                                                </label>
                                                                <label class="flex items-center">
                                                                    <input type="checkbox" class="rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                                                                    <span class="ml-2 text-sm text-gray-700">European Union</span>
                                                                </label>
                                                                <label class="flex items-center">
                                                                    <input type="checkbox" class="rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                                                                    <span class="ml-2 text-sm text-gray-700">Asia Pacific</span>
                                                                </label>
                                                            </div>
                                                        </div>

                                                        <div>
                                                            <label class="block text-sm font-medium text-gray-700 mb-2">Automatic Translation</label>
                                                            <div class="space-y-2">
                                                                <label class="flex items-center">
                                                                    <input type="checkbox" checked class="rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                                                                    <span class="ml-2 text-sm text-gray-700">Spanish</span>
                                                                </label>
                                                                <label class="flex items-center">
                                                                    <input type="checkbox" checked class="rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                                                                    <span class="ml-2 text-sm text-gray-700">French</span>
                                                                </label>
                                                                <label class="flex items-center">
                                                                    <input type="checkbox" class="rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                                                                    <span class="ml-2 text-sm text-gray-700">German</span>
                                                                </label>
                                                                <label class="flex items-center">
                                                                    <input type="checkbox" class="rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                                                                    <span class="ml-2 text-sm text-gray-700">Japanese</span>
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Rollout Strategy -->
                                    <div class="bg-white border border-gray-200 rounded-lg shadow-sm">
                                        <div class="p-6 border-b border-gray-200">
                                            <h2 class="text-xl font-semibold text-gray-900">Rollout Strategy</h2>
                                            <p class="text-gray-600 text-sm mt-1">Control the pace of your AI agent deployment</p>
                                        </div>

                                        <div class="p-6">
                                            <div class="space-y-6">
                                                <!-- Gradual Rollout -->
                                                <div>
                                                    <h3 class="text-lg font-semibold text-gray-900 mb-4">Gradual Deployment</h3>
                                                    <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                                                        <div class="flex items-center justify-between mb-3">
                                                            <span class="font-medium text-gray-900">Current AI Coverage</span>
                                                            <span class="text-2xl font-bold text-blue-600">85%</span>
                                                        </div>
                                                        <div class="w-full bg-gray-200 rounded-full h-2 mb-3">
                                                            <div class="bg-blue-600 h-2 rounded-full" style="width: 85%"></div>
                                                        </div>
                                                        <div class="grid grid-cols-3 gap-4 text-sm">
                                                            <div>
                                                                <span class="text-gray-500">Target:</span>
                                                                <span class="ml-2 font-medium">95%</span>
                                                            </div>
                                                            <div>
                                                                <span class="text-gray-500">Increase by:</span>
                                                                <span class="ml-2 font-medium">2% per day</span>
                                                            </div>
                                                            <div>
                                                                <span class="text-gray-500">Full rollout:</span>
                                                                <span class="ml-2 font-medium">5 days</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <!-- Safety Controls -->
                                                <div>
                                                    <h3 class="text-lg font-semibold text-gray-900 mb-4">Safety Controls</h3>
                                                    <div class="space-y-3">
                                                        <div class="flex items-center justify-between p-3 border border-gray-200 rounded-lg">
                                                            <div>
                                                                <h4 class="font-medium text-gray-900">Emergency Pause</h4>
                                                                <p class="text-sm text-gray-600">Instantly route all conversations to humans</p>
                                                            </div>
                                                            <button class="px-3 py-1 border border-red-300 text-red-700 rounded-lg hover:bg-red-50 text-sm">
                                                                Emergency Pause
                                                            </button>
                                                        </div>

                                                        <div class="flex items-center justify-between p-3 border border-gray-200 rounded-lg">
                                                            <div>
                                                                <h4 class="font-medium text-gray-900">Quality Threshold</h4>
                                                                <p class="text-sm text-gray-600">Auto-pause if customer satisfaction drops below 80%</p>
                                                            </div>
                                                            <label class="relative inline-flex items-center cursor-pointer">
                                                                <input type="checkbox" checked class="sr-only peer">
                                                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"></div>
                                                            </label>
                                                        </div>

                                                        <div class="flex items-center justify-between p-3 border border-gray-200 rounded-lg">
                                                            <div>
                                                                <h4 class="font-medium text-gray-900">Escalation Monitoring</h4>
                                                                <p class="text-sm text-gray-600">Alert if escalation rate exceeds 25%</p>
                                                            </div>
                                                            <label class="relative inline-flex items-center cursor-pointer">
                                                                <input type="checkbox" checked class="sr-only peer">
                                                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-yellow-600"></div>
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Integration Platform -->
                                    <div class="bg-white border border-gray-200 rounded-lg shadow-sm">
                                        <div class="p-6 border-b border-gray-200">
                                            <h2 class="text-xl font-semibold text-gray-900">Platform Integration</h2>
                                            <p class="text-gray-600 text-sm mt-1">Deploy with your existing systems</p>
                                        </div>

                                        <div class="p-6">
                                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                                <!-- API Integration -->
                                                <div class="border border-gray-200 rounded-lg p-4">
                                                    <div class="flex items-center space-x-3 mb-3">
                                                        <div class="w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center">
                                                            <svg class="w-4 h-4 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v14a2 2 0 002 2z"/>
                                                            </svg>
                                                        </div>
                                                        <h3 class="font-semibold text-gray-900">API Integration</h3>
                                                    </div>
                                                    <p class="text-sm text-gray-600 mb-3">Use Service Studio AI anywhere with our REST API</p>
                                                    <div class="text-xs">
                                                        <span class="text-gray-500">Endpoint:</span>
                                                        <span class="ml-2 font-mono">api.servicestudio.com/v1/chat</span>
                                                    </div>
                                                    <button class="mt-3 px-3 py-1 bg-purple-600 text-white rounded text-xs hover:bg-purple-700">
                                                        View API Docs
                                                    </button>
                                                </div>

                                                <!-- Native Intercom -->
                                                <div class="border border-green-200 rounded-lg p-4 bg-green-50">
                                                    <div class="flex items-center space-x-3 mb-3">
                                                        <div class="w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center">
                                                            <svg class="w-4 h-4 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"/>
                                                            </svg>
                                                        </div>
                                                        <h3 class="font-semibold text-gray-900">Intercom Integration</h3>
                                                    </div>
                                                    <p class="text-sm text-gray-600 mb-3">Best performance with Intercom's Customer Service Suite</p>
                                                    <div class="text-xs text-green-700">
                                                        <span>‚úì Native integration</span>
                                                        <span class="ml-4">‚úì Advanced reporting</span>
                                                    </div>
                                                    <button class="mt-3 px-3 py-1 bg-green-600 text-white rounded text-xs hover:bg-green-700">
                                                        Configure
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>


                            <div id="ai-workflows-page" class="ai-subpage hidden p-6">
                                <div class="mb-6">
                                    <div class="flex items-center space-x-3 text-sm text-gray-500 mb-2">
                                        <span>AI Agent Settings</span>
                                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                                        </svg>
                                        <span class="text-gray-900 font-medium">Workflows</span>
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <h1 class="text-2xl font-bold text-gray-900">Workflows</h1>
                                            <p class="text-gray-600 mt-2">Automate AI agent decision-making and escalation processes</p>
                                        </div>
                                        <button class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium">
                                            Create Workflow
                                        </button>
                                    </div>
                                </div>

                                <div class="space-y-6">
                                    <!-- Active Workflows -->
                                    <div class="bg-white border border-gray-200 rounded-lg shadow-sm">
                                        <div class="p-6 border-b border-gray-200">
                                            <div class="flex items-center justify-between">
                                                <h2 class="text-xl font-semibold text-gray-900">Active Workflows</h2>
                                                <div class="flex items-center space-x-3 text-sm text-gray-500">
                                                    <span>5 active</span>
                                                    <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="p-6 space-y-4">
                                            <!-- Human Approval Workflow -->
                                            <div class="border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors">
                                                <div class="flex items-start justify-between">
                                                    <div class="flex items-start space-x-3">
                                                        <div class="w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center flex-shrink-0">
                                                            <svg class="w-5 h-5 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"/>
                                                            </svg>
                                                        </div>
                                                        <div class="flex-1">
                                                            <div class="flex items-center space-x-3 mb-1">
                                                                <h3 class="font-semibold text-gray-900">Human Approval Required</h3>
                                                                <span class="text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded-full">High Priority</span>
                                                            </div>
                                                            <p class="text-sm text-gray-600 mb-2">Automatically escalate requests requiring human approval based on value thresholds and complexity.</p>

                                                            <div class="space-y-2 text-xs">
                                                                <div class="flex items-center space-x-3">
                                                                    <span class="text-gray-500">Triggers:</span>
                                                                    <span class="bg-gray-100 px-2 py-1 rounded">Refunds > $100</span>
                                                                    <span class="bg-gray-100 px-2 py-1 rounded">Account changes</span>
                                                                    <span class="bg-gray-100 px-2 py-1 rounded">Billing disputes</span>
                                                                </div>
                                                                <div class="flex items-center space-x-3">
                                                                    <span class="text-gray-500">Last triggered:</span>
                                                                    <span class="text-gray-700">23 minutes ago</span>
                                                                    <span class="text-gray-500">‚Ä¢</span>
                                                                    <span class="text-green-600">156 approvals this week</span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="flex items-center space-x-3">
                                                        <label class="relative inline-flex items-center cursor-pointer">
                                                            <input type="checkbox" checked class="sr-only peer">
                                                            <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-600"></div>
                                                        </label>
                                                        <button class="text-gray-400 hover:text-gray-600">
                                                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
                                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                                                            </svg>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- VIP Customer Workflow -->
                                            <div class="border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors">
                                                <div class="flex items-start justify-between">
                                                    <div class="flex items-start space-x-3">
                                                        <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0">
                                                            <svg class="w-5 h-5 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"/>
                                                            </svg>
                                                        </div>
                                                        <div class="flex-1">
                                                            <div class="flex items-center space-x-3 mb-1">
                                                                <h3 class="font-semibold text-gray-900">VIP Customer Priority</h3>
                                                                <span class="text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full">Automatic</span>
                                                            </div>
                                                            <p class="text-sm text-gray-600 mb-2">Prioritize and enhance service for VIP, Enterprise, and high-value customers.</p>

                                                            <div class="space-y-2 text-xs">
                                                                <div class="flex items-center space-x-3">
                                                                    <span class="text-gray-500">Applies to:</span>
                                                                    <span class="bg-purple-100 px-2 py-1 rounded text-purple-700">Enterprise plans</span>
                                                                    <span class="bg-purple-100 px-2 py-1 rounded text-purple-700">$10k+ ARR</span>
                                                                    <span class="bg-purple-100 px-2 py-1 rounded text-purple-700">VIP tagged</span>
                                                                </div>
                                                                <div class="flex items-center space-x-3">
                                                                    <span class="text-gray-500">Actions:</span>
                                                                    <span class="text-gray-700">Instant human routing, enhanced permissions, priority queue</span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="flex items-center space-x-3">
                                                        <label class="relative inline-flex items-center cursor-pointer">
                                                            <input type="checkbox" checked class="sr-only peer">
                                                            <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"></div>
                                                        </label>
                                                        <button class="text-gray-400 hover:text-gray-600">
                                                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
                                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                                                            </svg>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Escalation Workflow -->
                                            <div class="border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors">
                                                <div class="flex items-start justify-between">
                                                    <div class="flex items-start space-x-3">
                                                        <div class="w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center flex-shrink-0">
                                                            <svg class="w-5 h-5 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                                                            </svg>
                                                        </div>
                                                        <div class="flex-1">
                                                            <div class="flex items-center space-x-3 mb-1">
                                                                <h3 class="font-semibold text-gray-900">Smart Escalation</h3>
                                                                <span class="text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full">Critical</span>
                                                            </div>
                                                            <p class="text-sm text-gray-600 mb-2">Automatically escalate complex issues, frustrated customers, or confidence drops.</p>

                                                            <div class="space-y-2 text-xs">
                                                                <div class="flex items-center space-x-3">
                                                                    <span class="text-gray-500">Triggers:</span>
                                                                    <span class="bg-red-100 px-2 py-1 rounded text-red-700">AI confidence < 70%</span>
                                                                    <span class="bg-red-100 px-2 py-1 rounded text-red-700">Negative sentiment</span>
                                                                    <span class="bg-red-100 px-2 py-1 rounded text-red-700">3+ failed attempts</span>
                                                                </div>
                                                                <div class="flex items-center space-x-3">
                                                                    <span class="text-gray-500">Response time:</span>
                                                                    <span class="text-gray-700">Avg 2.3 minutes to human takeover</span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="flex items-center space-x-3">
                                                        <label class="relative inline-flex items-center cursor-pointer">
                                                            <input type="checkbox" checked class="sr-only peer">
                                                            <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-red-600"></div>
                                                        </label>
                                                        <button class="text-gray-400 hover:text-gray-600">
                                                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
                                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                                                            </svg>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Follow-up Workflow -->
                                            <div class="border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors">
                                                <div class="flex items-start justify-between">
                                                    <div class="flex items-start space-x-3">
                                                        <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0">
                                                            <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                                            </svg>
                                                        </div>
                                                        <div class="flex-1">
                                                            <div class="flex items-center space-x-3 mb-1">
                                                                <h3 class="font-semibold text-gray-900">Automated Follow-ups</h3>
                                                                <span class="text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full">Proactive</span>
                                                            </div>
                                                            <p class="text-sm text-gray-600 mb-2">Schedule automatic follow-ups to ensure customer satisfaction and issue resolution.</p>

                                                            <div class="space-y-2 text-xs">
                                                                <div class="flex items-center space-x-3">
                                                                    <span class="text-gray-500">Schedule:</span>
                                                                    <span class="bg-green-100 px-2 py-1 rounded text-green-700">24h after resolution</span>
                                                                    <span class="bg-green-100 px-2 py-1 rounded text-green-700">7 days for satisfaction</span>
                                                                </div>
                                                                <div class="flex items-center space-x-3">
                                                                    <span class="text-gray-500">Success rate:</span>
                                                                    <span class="text-green-600">89% positive responses</span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="flex items-center space-x-3">
                                                        <label class="relative inline-flex items-center cursor-pointer">
                                                            <input type="checkbox" checked class="sr-only peer">
                                                            <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"></div>
                                                        </label>
                                                        <button class="text-gray-400 hover:text-gray-600">
                                                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
                                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                                                            </svg>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Security Alert Workflow -->
                                            <div class="border border-yellow-200 rounded-lg p-4 hover:bg-gray-50 transition-colors bg-yellow-50">
                                                <div class="flex items-start justify-between">
                                                    <div class="flex items-start space-x-3">
                                                        <div class="w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center flex-shrink-0">
                                                            <svg class="w-5 h-5 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
                                                            </svg>
                                                        </div>
                                                        <div class="flex-1">
                                                            <div class="flex items-center space-x-3 mb-1">
                                                                <h3 class="font-semibold text-gray-900">Security & Compliance Alert</h3>
                                                                <span class="text-xs bg-yellow-100 text-yellow-700 px-2 py-1 rounded-full">Security</span>
                                                            </div>
                                                            <p class="text-sm text-gray-600 mb-2">Immediate escalation for security incidents, data breaches, or compliance issues.</p>

                                                            <div class="space-y-2 text-xs">
                                                                <div class="flex items-center space-x-3">
                                                                    <span class="text-gray-500">Triggers:</span>
                                                                    <span class="bg-yellow-100 px-2 py-1 rounded text-yellow-700">Data access requests</span>
                                                                    <span class="bg-yellow-100 px-2 py-1 rounded text-yellow-700">Security concerns</span>
                                                                    <span class="bg-yellow-100 px-2 py-1 rounded text-yellow-700">GDPR requests</span>
                                                                </div>
                                                                <div class="flex items-center space-x-3">
                                                                    <span class="text-gray-500">Response:</span>
                                                                    <span class="text-gray-700">Immediate security team notification + legal review</span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="flex items-center space-x-3">
                                                        <label class="relative inline-flex items-center cursor-pointer">
                                                            <input type="checkbox" checked class="sr-only peer">
                                                            <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-yellow-600"></div>
                                                        </label>
                                                        <button class="text-gray-400 hover:text-gray-600">
                                                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
                                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                                                            </svg>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Workflow Templates -->
                                    <div class="bg-white border border-gray-200 rounded-lg shadow-sm">
                                        <div class="p-6 border-b border-gray-200">
                                            <h2 class="text-xl font-semibold text-gray-900">Workflow Templates</h2>
                                            <p class="text-gray-600 text-sm mt-1">Pre-built workflows you can customize and activate</p>
                                        </div>

                                        <div class="p-6">
                                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                                                <!-- Billing Issue Template -->
                                                <div class="border border-gray-200 rounded-lg p-4 hover:border-blue-300 cursor-pointer transition-colors">
                                                    <div class="flex flex-col space-y-3">
                                                        <div class="flex items-center space-x-3">
                                                            <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center">
                                                                <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"/>
                                                                </svg>
                                                            </div>
                                                            <h3 class="font-semibold text-gray-900">Billing Issue Resolution</h3>
                                                        </div>
                                                        <p class="text-sm text-gray-600">Automated workflow for handling billing inquiries, payment failures, and subscription issues.</p>
                                                        <div class="flex items-center justify-between">
                                                            <span class="text-xs text-gray-500">Template</span>
                                                            <button class="px-3 py-1 bg-blue-600 text-white rounded text-xs hover:bg-blue-700">
                                                                Use Template
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>

                                                <!-- Onboarding Template -->
                                                <div class="border border-gray-200 rounded-lg p-4 hover:border-green-300 cursor-pointer transition-colors">
                                                    <div class="flex flex-col space-y-3">
                                                        <div class="flex items-center space-x-3">
                                                            <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center">
                                                                <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"/>
                                                                </svg>
                                                            </div>
                                                            <h3 class="font-semibold text-gray-900">New Customer Onboarding</h3>
                                                        </div>
                                                        <p class="text-sm text-gray-600">Guide new customers through setup, feature introduction, and success milestones.</p>
                                                        <div class="flex items-center justify-between">
                                                            <span class="text-xs text-gray-500">Template</span>
                                                            <button class="px-3 py-1 bg-green-600 text-white rounded text-xs hover:bg-green-700">
                                                                Use Template
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>

                                                <!-- Churn Prevention Template -->
                                                <div class="border border-gray-200 rounded-lg p-4 hover:border-purple-300 cursor-pointer transition-colors">
                                                    <div class="flex flex-col space-y-3">
                                                        <div class="flex items-center space-x-3">
                                                            <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center">
                                                                <svg class="w-5 h-5 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                                                                </svg>
                                                            </div>
                                                            <h3 class="font-semibold text-gray-900">Churn Prevention</h3>
                                                        </div>
                                                        <p class="text-sm text-gray-600">Detect at-risk customers and automatically trigger retention strategies and offers.</p>
                                                        <div class="flex items-center justify-between">
                                                            <span class="text-xs text-gray-500">Template</span>
                                                            <button class="px-3 py-1 bg-purple-600 text-white rounded text-xs hover:bg-purple-700">
                                                                Use Template
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>

                                                <!-- Technical Support Template -->
                                                <div class="border border-gray-200 rounded-lg p-4 hover:border-orange-300 cursor-pointer transition-colors">
                                                    <div class="flex flex-col space-y-3">
                                                        <div class="flex items-center space-x-3">
                                                            <div class="w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center">
                                                                <svg class="w-5 h-5 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
                                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                                                                </svg>
                                                            </div>
                                                            <h3 class="font-semibold text-gray-900">Technical Support Triage</h3>
                                                        </div>
                                                        <p class="text-sm text-gray-600">Automatically categorize and route technical issues based on complexity and urgency.</p>
                                                        <div class="flex items-center justify-between">
                                                            <span class="text-xs text-gray-500">Template</span>
                                                            <button class="px-3 py-1 bg-orange-600 text-white rounded text-xs hover:bg-orange-700">
                                                                Use Template
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>

                                                <!-- Feedback Collection Template -->
                                                <div class="border border-gray-200 rounded-lg p-4 hover:border-indigo-300 cursor-pointer transition-colors">
                                                    <div class="flex flex-col space-y-3">
                                                        <div class="flex items-center space-x-3">
                                                            <div class="w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center">
                                                                <svg class="w-5 h-5 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"/>
                                                                </svg>
                                                            </div>
                                                            <h3 class="font-semibold text-gray-900">Feedback Collection</h3>
                                                        </div>
                                                        <p class="text-sm text-gray-600">Systematically collect customer feedback and route improvement suggestions to product teams.</p>
                                                        <div class="flex items-center justify-between">
                                                            <span class="text-xs text-gray-500">Template</span>
                                                            <button class="px-3 py-1 bg-indigo-600 text-white rounded text-xs hover:bg-indigo-700">
                                                                Use Template
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>

                                                <!-- Emergency Response Template -->
                                                <div class="border border-red-200 rounded-lg p-4 hover:border-red-300 cursor-pointer transition-colors bg-red-50">
                                                    <div class="flex flex-col space-y-3">
                                                        <div class="flex items-center space-x-3">
                                                            <div class="w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center">
                                                                <svg class="w-5 h-5 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.464 0L4.35 16.5c-.77.833.192 2.5 1.732 2.5z"/>
                                                                </svg>
                                                            </div>
                                                            <h3 class="font-semibold text-gray-900">Emergency Response</h3>
                                                        </div>
                                                        <p class="text-sm text-gray-600">Critical incident response for service outages, security breaches, and urgent escalations.</p>
                                                        <div class="flex items-center justify-between">
                                                            <span class="text-xs text-red-500">Critical Template</span>
                                                            <button class="px-3 py-1 bg-red-600 text-white rounded text-xs hover:bg-red-700">
                                                                Use Template
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Workflow Analytics -->
                                    <div class="bg-white border border-gray-200 rounded-lg shadow-sm">
                                        <div class="p-6 border-b border-gray-200">
                                            <h2 class="text-xl font-semibold text-gray-900">Workflow Performance</h2>
                                            <p class="text-gray-600 text-sm mt-1">Track effectiveness and optimization opportunities</p>
                                        </div>

                                        <div class="p-6">
                                            <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                                                <div class="text-center">
                                                    <div class="text-2xl font-bold text-blue-600">94%</div>
                                                    <div class="text-sm text-gray-600">Automation Rate</div>
                                                    <div class="text-xs text-green-600 mt-1">‚Üó +5% this month</div>
                                                </div>
                                                <div class="text-center">
                                                    <div class="text-2xl font-bold text-green-600">2.3s</div>
                                                    <div class="text-sm text-gray-600">Avg Response Time</div>
                                                    <div class="text-xs text-green-600 mt-1">‚Üó 0.5s improvement</div>
                                                </div>
                                                <div class="text-center">
                                                    <div class="text-2xl font-bold text-purple-600">67</div>
                                                    <div class="text-sm text-gray-600">Escalations Today</div>
                                                    <div class="text-xs text-gray-500 mt-1">Within normal range</div>
                                                </div>
                                                <div class="text-center">
                                                    <div class="text-2xl font-bold text-orange-600">89%</div>
                                                    <div class="text-sm text-gray-600">Workflow Success</div>
                                                    <div class="text-xs text-green-600 mt-1">‚Üó +3% this week</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Chat Interface Page -->
                <div id="chat-interface-page" class="page-content hidden">
                    <div class="chat-interface-layout flex">
                        <!-- Left Column: Chat Interface (1/4 width) -->
                        <div class="w-1/4 bg-white border-r border-gray-200 flex flex-col h-full">
                            <!-- Chat Header -->
                            <div class="border-b border-gray-200 flex items-center pl-4" style="height: 60px;">
                                <div class="flex items-center">
                                    <svg width="64" height="64" viewBox="0 0 48 53" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <g filter="url(#filter0_d_12659_24476)">
                                                <path d="M26.2096 14H5.71977C5.26682 14 4.8328 14.1746 4.51497 14.4847L0.34033 18.558C-0.115914 19.0031 -0.113072 19.7186 0.346695 20.1604L15.0466 34.2859C15.5749 34.7936 16.4315 34.7936 16.9598 34.2859L31.6533 20.1665C32.1156 19.7223 32.1156 19.0021 31.6533 18.5579L27.4053 14.4759C27.0882 14.1712 26.6581 14 26.2096 14Z" fill="url(#paint0_linear_12659_24476)"/>
                                            </g>
                                            <g clip-path="url(#paint1_angular_12659_24476_clip_path)" data-figma-skip-parse="true"><g transform="matrix(6.51759e-10 0.00541953 -0.00541953 6.51759e-10 16.0873 23.9141)"><foreignObject x="-1073.82" y="-1073.82" width="2147.64" height="2147.64"><div xmlns="http://www.w3.org/1999/xhtml" style="background:conic-gradient(from 90deg,rgba(115, 195, 230, 1) 0deg,rgba(255, 255, 255, 1) 270deg,rgba(251, 155, 255, 1) 288deg,rgba(115, 195, 230, 1) 360deg);height:100%;width:100%;opacity:1"></div></foreignObject></g></g><path d="M15.6198 18.9325C15.7507 18.5785 16.2514 18.5785 16.3823 18.9325L17.2589 21.3013C17.506 21.969 18.0324 22.4954 18.7001 22.7425L21.0689 23.619C21.4229 23.75 21.4229 24.2506 21.0689 24.3816L18.7001 25.2582C18.0324 25.5052 17.506 26.0317 17.2589 26.6993L16.3823 29.0682C16.2514 29.4221 15.7507 29.4221 15.6198 29.0682L14.7432 26.6993C14.4962 26.0317 13.9697 25.5052 13.302 25.2582L10.9332 24.3816C10.5792 24.2506 10.5792 23.75 10.9332 23.619L13.302 22.7425C13.9697 22.4954 14.4962 21.969 14.7432 21.3013L15.6198 18.9325Z" data-figma-gradient-fill="{&quot;type&quot;:&quot;GRADIENT_ANGULAR&quot;,&quot;stops&quot;:[{&quot;color&quot;:{&quot;r&quot;:0.45098039507865906,&quot;g&quot;:0.76470589637756348,&quot;b&quot;:0.90196079015731812,&quot;a&quot;:1.0},&quot;position&quot;:0.0},{&quot;color&quot;:{&quot;r&quot;:1.0,&quot;g&quot;:1.0,&quot;b&quot;:1.0,&quot;a&quot;:1.0},&quot;position&quot;:0.750},{&quot;color&quot;:{&quot;r&quot;:0.98703992366790771,&quot;g&quot;:0.61119663715362549,&quot;b&quot;:1.0,&quot;a&quot;:1.0},&quot;position&quot;:0.80000001192092896}],&quot;stopsVar&quot;:[{&quot;color&quot;:{&quot;r&quot;:0.45098039507865906,&quot;g&quot;:0.76470589637756348,&quot;b&quot;:0.90196079015731812,&quot;a&quot;:1.0},&quot;position&quot;:0.0},{&quot;color&quot;:{&quot;r&quot;:1.0,&quot;g&quot;:1.0,&quot;b&quot;:1.0,&quot;a&quot;:1.0},&quot;position&quot;:0.750},{&quot;color&quot;:{&quot;r&quot;:0.98703992366790771,&quot;g&quot;:0.61119663715362549,&quot;b&quot;:1.0,&quot;a&quot;:1.0},&quot;position&quot;:0.80000001192092896}],&quot;transform&quot;:{&quot;m00&quot;:1.3035175925324438e-06,&quot;m01&quot;:-10.839065551757812,&quot;m02&quot;:21.506788253784180,&quot;m10&quot;:10.839068412780762,&quot;m11&quot;:1.3035171377850929e-06,&quot;m12&quot;:18.494516372680664},&quot;opacity&quot;:1.0,&quot;blendMode&quot;:&quot;NORMAL&quot;,&quot;visible&quot;:true}"/>
                                            <g clip-path="url(#paint2_angular_12659_24476_clip_path)" data-figma-skip-parse="true"><g transform="matrix(3.76233e-10 0.00312847 -0.00312847 3.76233e-10 21.0416 18.9879)"><foreignObject x="-1127.87" y="-1127.87" width="2255.74" height="2255.74"><div xmlns="http://www.w3.org/1999/xhtml" style="background:conic-gradient(from 90deg,rgba(115, 195, 230, 1) 0deg,rgba(255, 255, 255, 1) 270deg,rgba(251, 155, 255, 1) 288deg,rgba(115, 195, 230, 1) 360deg);height:100%;width:100%;opacity:1"></div></foreignObject></g></g><path d="M20.7717 16.1122C20.8473 15.9079 21.1363 15.9079 21.2119 16.1122L21.7179 17.4797C21.8605 17.8651 22.1644 18.169 22.5498 18.3116L23.9173 18.8176C24.1216 18.8932 24.1216 19.1822 23.9173 19.2578L22.5498 19.7638C22.1644 19.9064 21.8605 20.2103 21.7179 20.5957L21.2119 21.9632C21.1363 22.1675 20.8473 22.1675 20.7717 21.9632L20.2657 20.5957C20.1231 20.2103 19.8192 19.9064 19.4338 19.7638L18.0663 19.2578C17.862 19.1822 17.862 18.8932 18.0663 18.8176L19.4338 18.3116C19.8192 18.169 20.1231 17.8651 20.2657 17.4797L20.7717 16.1122Z" data-figma-gradient-fill="{&quot;type&quot;:&quot;GRADIENT_ANGULAR&quot;,&quot;stops&quot;:[{&quot;color&quot;:{&quot;r&quot;:0.45098039507865906,&quot;g&quot;:0.76470589637756348,&quot;b&quot;:0.90196079015731812,&quot;a&quot;:1.0},&quot;position&quot;:0.0},{&quot;color&quot;:{&quot;r&quot;:1.0,&quot;g&quot;:1.0,&quot;b&quot;:1.0,&quot;a&quot;:1.0},&quot;position&quot;:0.750},{&quot;color&quot;:{&quot;r&quot;:0.98703992366790771,&quot;g&quot;:0.61119663715362549,&quot;b&quot;:1.0,&quot;a&quot;:1.0},&quot;position&quot;:0.80000001192092896}],&quot;stopsVar&quot;:[{&quot;color&quot;:{&quot;r&quot;:0.45098039507865906,&quot;g&quot;:0.76470589637756348,&quot;b&quot;:0.90196079015731812,&quot;a&quot;:1.0},&quot;position&quot;:0.0},{&quot;color&quot;:{&quot;r&quot;:1.0,&quot;g&quot;:1.0,&quot;b&quot;:1.0,&quot;a&quot;:1.0},&quot;position&quot;:0.750},{&quot;color&quot;:{&quot;r&quot;:0.98703992366790771,&quot;g&quot;:0.61119663715362549,&quot;b&quot;:1.0,&quot;a&quot;:1.0},&quot;position&quot;:0.80000001192092896}],&quot;transform&quot;:{&quot;m00&quot;:7.5246691721986281e-07,&quot;m01&quot;:-6.2569456100463867,&quot;m02&quot;:24.170030593872070,&quot;m10&quot;:6.2569460868835449,&quot;m11&quot;:7.5246663300276850e-07,&quot;m12&quot;:15.859420776367188},&quot;opacity&quot;:1.0,&quot;blendMode&quot;:&quot;NORMAL&quot;,&quot;visible&quot;:true}"/>
                                            <defs>
                                                <filter id="filter0_d_12659_24476" x="-16" y="0" width="64" height="52.667" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                                                    <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                                                    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                                                    <feOffset dy="2"/>
                                                    <feGaussianBlur stdDeviation="8"/>
                                                    <feComposite in2="hardAlpha" operator="out"/>
                                                    <feColorMatrix type="matrix" values="0 0 0 0 0.639216 0 0 0 0 0.478431 0 0 0 0 0.992157 0 0 0 0.33 0"/>
                                                    <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_12659_24476"/>
                                                    <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_12659_24476" result="shape"/>
                                                </filter>
                                                <clipPath id="paint1_angular_12659_24476_clip_path"><path d="M15.6198 18.9325C15.7507 18.5785 16.2514 18.5785 16.3823 18.9325L17.2589 21.3013C17.506 21.969 18.0324 22.4954 18.7001 22.7425L21.0689 23.619C21.4229 23.75 21.4229 24.2506 21.0689 24.3816L18.7001 25.2582C18.0324 25.5052 17.506 26.0317 17.2589 26.6993L16.3823 29.0682C16.2514 29.4221 15.7507 29.4221 15.6198 29.0682L14.7432 26.6993C14.4962 26.0317 13.9697 25.5052 13.302 25.2582L10.9332 24.3816C10.5792 24.2506 10.5792 23.75 10.9332 23.619L13.302 22.7425C13.9697 22.4954 14.4962 21.969 14.7432 21.3013L15.6198 18.9325Z"/></clipPath><clipPath id="paint2_angular_12659_24476_clip_path"><path d="M20.7717 16.1122C20.8473 15.9079 21.1363 15.9079 21.2119 16.1122L21.7179 17.4797C21.8605 17.8651 22.1644 18.169 22.5498 18.3116L23.9173 18.8176C24.1216 18.8932 24.1216 19.1822 23.9173 19.2578L22.5498 19.7638C22.1644 19.9064 21.8605 20.2103 21.7179 20.5957L21.2119 21.9632C21.1363 22.1675 20.8473 22.1675 20.7717 21.9632L20.2657 20.5957C20.1231 20.2103 19.8192 19.9064 19.4338 19.7638L18.0663 19.2578C17.862 19.1822 17.862 18.8932 18.0663 18.8176L19.4338 18.3116C19.8192 18.169 20.1231 17.8651 20.2657 17.4797L20.7717 16.1122Z"/></clipPath><linearGradient id="paint0_linear_12659_24476" x1="32" y1="14" x2="1.07604" y2="36.383" gradientUnits="userSpaceOnUse">
                                                    <stop stop-color="#A37AFD"/>
                                                    <stop offset="1" stop-color="#0095FF"/>
                                                </linearGradient>
                                            </defs>
                                        </svg>
                                    <div style="margin-left: -10px;">
                                        <h3 class="font-bold text-lg text-gray-900">Service AI</h3>
                                    </div>
                                </div>
                            </div>

                            <!-- Chat Messages -->
                            <div id="chat-messages" class="flex-1 overflow-y-auto p-4 space-y-4">
                                <!-- Messages will be dynamically added here -->
                            </div>


                            <!-- Chat Input -->
                            <div class="p-4">
                                <div class="relative bg-gray-50 border border-gray-200 rounded-xl" style="padding: 16px 16px 28px 16px;">
                                    <!-- Input Field -->
                                    <input
                                        type="text"
                                        id="chat-input"
                                        placeholder="Send a message"
                                        class="w-full bg-transparent border-0 text-gray-600 placeholder-gray-400 focus:outline-none focus:ring-0 pr-12"
                                    />

                                    <!-- Send Button -->
                                    <button
                                        id="chat-send-btn"
                                        class="absolute bottom-5 right-4 bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-lg transition-colors duration-200"
                                    >
                                        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
                                        </svg>
                                    </button>
                                </div>

                            </div>
                        </div>

                        <!-- Right Column: Dynamic Content (3/4 width) -->
                        <div class="flex-1 bg-gray-50 flex flex-col h-full">
                            <div id="chat-content-area" class="flex-1 p-6">
                                <!-- Welcome State -->
                                <div id="welcome-state" class="h-full flex items-center justify-center">
                                    <div class="text-center">
                                        <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                            <svg class="w-8 h-8 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd" d="M18 13V5a2 2 0 00-2-2H4a2 2 0 00-2 2v8a2 2 0 002 2h3l3 3 3-3h3a2 2 0 002-2zM5 7a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1zm1 3a1 1 0 100 2h3a1 1 0 100-2H6z" clip-rule="evenodd"/>
                                            </svg>
                                        </div>
                                        <h3 class="text-lg font-semibold text-gray-900 mb-2">Start a conversation</h3>
                                        <p class="text-gray-600">Ask Service AI about customers, issues, or any support-related questions.</p>
                                    </div>
                                </div>

                                <!-- Customer Profile View (hidden by default) -->
                                <div id="customer-profile-view" class="hidden h-full">
                                    <!-- Customer profile content will be loaded here -->
                                </div>

                                <!-- Leslie's Query Interface (hidden by default) -->
                                <div id="conversation-view" class="hidden h-full">
                                    <div class="h-full flex flex-col">
                                        <!-- Header -->
                                        <div class="bg-white border-b border-gray-200 p-4">
                                            <div class="flex items-center space-x-3">
                                                <div class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center">
                                                    <span class="text-green-600 font-semibold text-sm">L</span>
                                                </div>
                                                <div>
                                                    <h3 class="font-semibold text-gray-900">Leslie - Store Agent</h3>
                                                    <p class="text-sm text-green-600">‚óè Ready to assist customers</p>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Query History -->
                                        <div class="flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50" id="query-history">
                                            <!-- Query history will appear here -->
                                        </div>

                                        <!-- Query Input Area -->
                                        <div class="bg-white border-t border-gray-200 p-4">
                                            <div class="relative">
                                                <input
                                                    type="text"
                                                    id="leslie-query-input"
                                                    placeholder="Enter customer name, order ID, or ask about inventory..."
                                                    class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-12"
                                                />
                                                <button
                                                    id="leslie-query-btn"
                                                    onclick="handleLeslieQuery()"
                                                    class="absolute right-3 top-1/2 transform -translate-y-1/2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-1.5 rounded-md transition-colors duration-200"
                                                >
                                                    Ask
                                                </button>
                                            </div>
                                        </div>

                                        <!-- Response Panel -->
                                        <div id="response-panel" class="hidden bg-white border-t border-gray-200">
                                            <div class="flex" style="height: 400px;">
                                                <!-- Customer Lens Panel (70% width) -->
                                                <div style="width: 70%;" class="border-r border-gray-200 p-6 overflow-y-auto" id="customer-lens-content">
                                                    <!-- Customer content will be loaded here -->
                                                </div>

                                                <!-- AI Signals Panel (30% width) -->
                                                <div style="width: 30%;" class="p-4 bg-gray-50 overflow-y-auto" id="ai-signals-content">
                                                    <!-- AI signals content will be loaded here -->
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>


                <!-- Approval Modal -->
                <div id="approval-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center">
                    <div class="bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto">
                        <div class="border-b border-gray-200 px-6 py-4">
                            <div class="flex items-center justify-between">
                                <h3 class="text-lg font-semibold text-gray-900">Approval Request</h3>
                                <button id="close-modal" class="text-gray-400 hover:text-gray-600">
                                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                                    </svg>
                                </button>
                            </div>
                        </div>

                        <div class="px-6 py-4">
                            <div class="space-y-4">
                                <!-- Customer Info -->
                                <div class="flex items-center space-x-3 p-4 bg-gray-50 rounded-lg">
                                    <div class="w-12 h-12 rounded-full flex items-center justify-center text-white font-semibold" style="background-color: #3068DF;">
                                        E
                                    </div>
                                    <div>
                                        <h4 class="font-semibold text-gray-900">Emma Parker</h4>
                                        <p class="text-sm text-gray-500">Gold Member ‚Ä¢ Treasure Apparel</p>
                                    </div>
                                </div>

                                <!-- Issue Description -->
                                <div>
                                    <h4 class="font-medium text-gray-900 mb-2">Issue: Coupon code 'FALL20' failed at checkout</h4>
                                    <p class="text-sm text-gray-600">Customer is trying to use an expired coupon code during checkout. AI analysis suggests approving the extension based on customer loyalty tier.</p>
                                </div>

                                <!-- AI Analysis -->
                                <div class="grid grid-cols-2 gap-4">
                                    <div class="bg-gray-50 rounded-lg p-4">
                                        <h5 class="font-medium text-gray-900 mb-2">AI Analysis</h5>
                                        <div class="space-y-2 text-sm">
                                            <div class="flex items-center space-x-3">
                                                <span>üè∑Ô∏è</span>
                                                <span class="text-gray-600">Coupon expired yesterday</span>
                                            </div>
                                            <div class="flex items-center space-x-3">
                                                <span>üíé</span>
                                                <span class="text-gray-600">Gold loyalty tier</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="bg-green-50 rounded-lg p-4">
                                        <h5 class="font-medium text-gray-900 mb-2">Recommendation</h5>
                                        <div class="space-y-2 text-sm">
                                            <div class="flex items-start space-x-3">
                                                <span class="font-medium text-black">1.</span>
                                                <span><strong>Extend coupon</strong> - within policy for Gold members</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="border-t border-gray-200 px-6 py-4">
                            <div class="flex space-x-3 justify-end">
                                <button id="deny-btn" class="px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500">
                                    Deny and Take Over
                                </button>
                                <button id="approve-btn" class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500">
                                    Approve
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- NEW INTEGRATIONS PAGE -->
                <div id="integrations-page" class="page-content hidden" style="background-color: #f0f8ff !important; min-height: 100vh !important; border: 3px solid red !important; padding: 20px !important;">
                    <h1 style="font-size: 48px; color: red; font-weight: bold;">INTEGRATIONS PAGE TEST</h1>
                    <p style="font-size: 24px; color: black;">If you can see this text, the page is working!</p>

                    <div style="background-color: yellow; padding: 20px; border: 2px solid black; margin: 20px 0;">
                        <h2 style="font-size: 32px; color: blue;">Select your platform</h2>
                        <p style="font-size: 18px;">Choose the platform your company uses for support</p>
                    </div>

                        <!-- Two Column Layout -->
                        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                            <!-- Left Column (2/3 width) -->
                            <div class="lg:col-span-2 space-y-8">
                                <!-- Featured Platforms -->
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <!-- Zendesk -->
                                    <div class="relative group cursor-pointer transform hover:scale-105 transition-all duration-200" onclick="showPlatformDetails('zendesk')">
                                        <div class="absolute inset-0 bg-gradient-to-r from-blue-500 to-blue-600 rounded-2xl"></div>
                                        <div class="relative bg-white m-1 rounded-xl p-8 text-center">
                                            <div class="absolute -top-3 -right-3">
                                                <span class="bg-green-500 text-white text-xs px-2 py-1 rounded-full">Recommended</span>
                                            </div>
                                            <div class="w-16 h-16 bg-gray-900 rounded-lg mx-auto mb-4 flex items-center justify-center">
                                                <span class="text-white font-bold text-2xl">Z</span>
                                            </div>
                                            <h3 class="text-2xl font-bold text-gray-900 mb-2">Zendesk</h3>
                                            <p class="text-gray-600 text-sm mb-4">Complete setup with tailored deploy steps for every Zendesk support channel</p>
                                            <div class="flex items-center justify-center space-x-4 text-sm text-gray-500">
                                                <span>‚úì Custom onboarding</span>
                                                <span>‚úì Native reporting</span>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Salesforce -->
                                    <div class="relative group cursor-pointer transform hover:scale-105 transition-all duration-200" onclick="showPlatformDetails('salesforce')">
                                        <div class="absolute inset-0 bg-gradient-to-r from-blue-400 to-teal-500 rounded-2xl"></div>
                                        <div class="relative bg-white m-1 rounded-xl p-8 text-center">
                                            <div class="w-16 h-16 bg-blue-500 rounded-lg mx-auto mb-4 flex items-center justify-center">
                                                <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
                                                    <path d="M12 2L2 7v10c0 5.55 3.84 9.74 9 9.74s9-4.19 9-9.74V7l-10-5z"/>
                                                </svg>
                                            </div>
                                            <h3 class="text-2xl font-bold text-gray-900 mb-2">Salesforce</h3>
                                            <p class="text-gray-600 text-sm mb-4">Integrate with Service Cloud for comprehensive customer context and CRM data</p>
                                            <div class="flex items-center justify-center space-x-4 text-sm text-gray-500">
                                                <span>‚úì CRM integration</span>
                                                <span>‚úì Einstein Analytics</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Other Platforms -->
                                <div>
                                    <h2 class="text-xl font-semibold text-gray-900 mb-6">Use another platform</h2>
                                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                                        <!-- Amazon Connect -->
                                        <div class="bg-white border border-gray-200 rounded-lg p-6 hover:border-blue-300 cursor-pointer transition-colors text-center" onclick="showPlatformDetails('amazonconnect')">
                                            <div class="w-12 h-12 bg-orange-100 rounded-lg mx-auto mb-3 flex items-center justify-center">
                                                <svg class="w-6 h-6 text-orange-600" fill="currentColor" viewBox="0 0 24 24">
                                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"/>
                                                </svg>
                                            </div>
                                            <h3 class="font-medium text-gray-900">Amazon Connect</h3>
                                            <p class="text-xs text-gray-500 mt-1">Cloud contact center</p>
                                        </div>

                                        <!-- Freshdesk -->
                                        <div class="bg-white border border-gray-200 rounded-lg p-6 hover:border-green-300 cursor-pointer transition-colors text-center" onclick="showPlatformDetails('freshdesk')">
                                            <div class="w-12 h-12 bg-green-100 rounded-lg mx-auto mb-3 flex items-center justify-center">
                                                <div class="w-6 h-6 bg-green-600 rounded-full"></div>
                                            </div>
                                            <h3 class="font-medium text-gray-900">Freshdesk</h3>
                                            <p class="text-xs text-gray-500 mt-1">Customer support software</p>
                                        </div>

                                        <!-- Front -->
                                        <div class="bg-white border border-gray-200 rounded-lg p-6 hover:border-purple-300 cursor-pointer transition-colors text-center" onclick="showPlatformDetails('front')">
                                            <div class="w-12 h-12 bg-purple-100 rounded-lg mx-auto mb-3 flex items-center justify-center">
                                                <span class="text-purple-600 font-bold text-lg">F</span>
                                            </div>
                                            <h3 class="font-medium text-gray-900">Front</h3>
                                            <p class="text-xs text-gray-500 mt-1">Team inbox platform</p>
                                        </div>

                                        <!-- Gorgias -->
                                        <div class="bg-white border border-gray-200 rounded-lg p-6 hover:border-gray-400 cursor-pointer transition-colors text-center" onclick="showPlatformDetails('gorgias')">
                                            <div class="w-12 h-12 bg-gray-100 rounded-lg mx-auto mb-3 flex items-center justify-center">
                                                <span class="text-gray-600 font-bold text-lg">G</span>
                                            </div>
                                            <h3 class="font-medium text-gray-900">Gorgias</h3>
                                            <p class="text-xs text-gray-500 mt-1">Ecommerce helpdesk</p>
                                        </div>

                                        <!-- Help Scout -->
                                        <div class="bg-white border border-gray-200 rounded-lg p-6 hover:border-blue-300 cursor-pointer transition-colors text-center" onclick="showPlatformDetails('helpscout')">
                                            <div class="w-12 h-12 bg-blue-100 rounded-lg mx-auto mb-3 flex items-center justify-center">
                                                <svg class="w-6 h-6 text-blue-600" fill="currentColor" viewBox="0 0 24 24">
                                                    <path d="M12 2L2 7v10c0 5.55 3.84 9.74 9 9.74s9-4.19 9-9.74V7l-10-5z"/>
                                                </svg>
                                            </div>
                                            <h3 class="font-medium text-gray-900">Help Scout</h3>
                                            <p class="text-xs text-gray-500 mt-1">Customer service platform</p>
                                        </div>

                                        <!-- HubSpot -->
                                        <div class="bg-white border border-gray-200 rounded-lg p-6 hover:border-orange-300 cursor-pointer transition-colors text-center" onclick="showPlatformDetails('hubspot')">
                                            <div class="w-12 h-12 bg-orange-100 rounded-lg mx-auto mb-3 flex items-center justify-center">
                                                <span class="text-orange-600 font-bold text-lg">H</span>
                                            </div>
                                            <h3 class="font-medium text-gray-900">HubSpot</h3>
                                            <p class="text-xs text-gray-500 mt-1">CRM & service hub</p>
                                        </div>

                                        <!-- ServiceNow -->
                                        <div class="bg-white border border-gray-200 rounded-lg p-6 hover:border-green-300 cursor-pointer transition-colors text-center" onclick="showPlatformDetails('servicenow')">
                                            <div class="w-12 h-12 bg-green-100 rounded-lg mx-auto mb-3 flex items-center justify-center">
                                                <div class="w-6 h-6 bg-green-600 rounded"></div>
                                            </div>
                                            <h3 class="font-medium text-gray-900">ServiceNow</h3>
                                            <p class="text-xs text-gray-500 mt-1">Enterprise service management</p>
                                        </div>

                                        <!-- Zoho Desk -->
                                        <div class="bg-white border border-gray-200 rounded-lg p-6 hover:border-green-300 cursor-pointer transition-colors text-center" onclick="showPlatformDetails('zohodesk')">
                                            <div class="w-12 h-12 bg-green-100 rounded-lg mx-auto mb-3 flex items-center justify-center">
                                                <span class="text-green-600 font-bold text-lg">Z</span>
                                            </div>
                                            <h3 class="font-medium text-gray-900">Zoho Desk</h3>
                                            <p class="text-xs text-gray-500 mt-1">Context-aware help desk</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Right Column: Platform Details (1/3 width) -->
                            <div class="space-y-6">
                                <!-- Default Welcome State -->
                                <div id="platform-welcome" class="bg-white rounded-lg shadow-sm border border-gray-200 p-6 text-center">
                                    <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                        <svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>
                                        </svg>
                                    </div>
                                    <h3 class="text-lg font-semibold text-gray-900 mb-2">Select a Platform</h3>
                                    <p class="text-gray-600">Click on any platform to see detailed integration information, setup requirements, and available features.</p>
                                </div>

                                <!-- Platform Detail Panels (hidden by default) -->
                                <div id="platform-details" class="hidden">
                                    <div class="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden">
                                        <div class="bg-gradient-to-r from-blue-500 to-blue-600 p-4 text-white">
                                            <div class="flex items-center space-x-3">
                                                <div id="platform-icon" class="w-12 h-12 bg-white bg-opacity-20 rounded-lg flex items-center justify-center">
                                                    <!-- Icon will be updated by JavaScript -->
                                                </div>
                                                <div>
                                                    <h3 id="platform-name" class="text-xl font-bold">Platform Name</h3>
                                                    <p id="platform-category" class="text-blue-100 text-sm">Category</p>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="p-6 space-y-6">
                                            <!-- Description -->
                                            <div>
                                                <h4 class="font-semibold text-gray-900 mb-2">About this integration</h4>
                                                <p id="platform-description" class="text-gray-600 text-sm"></p>
                                            </div>

                                            <!-- Key Features -->
                                            <div>
                                                <h4 class="font-semibold text-gray-900 mb-3">Key Features</h4>
                                                <div id="platform-features" class="space-y-2">
                                                    <!-- Features will be populated by JavaScript -->
                                                </div>
                                            </div>

                                            <!-- Setup Requirements -->
                                            <div>
                                                <h4 class="font-semibold text-gray-900 mb-3">Setup Requirements</h4>
                                                <div id="platform-requirements" class="space-y-2">
                                                    <!-- Requirements will be populated by JavaScript -->
                                                </div>
                                            </div>

                                            <!-- Setup Time -->
                                            <div class="flex items-center justify-between py-3 border-t border-gray-100">
                                                <span class="text-sm text-gray-600">Estimated setup time:</span>
                                                <span id="platform-setup-time" class="text-sm font-medium text-gray-900">5-10 minutes</span>
                                            </div>

                                            <!-- Action Button -->
                                            <div class="pt-4">
                                                <button id="platform-connect-btn" class="w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 rounded-lg font-medium transition-colors">
                                                    Connect Platform
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </main>
    </div>

    <!-- INTEGRATIONS PAGE -->
    <div id="integrations-page-test" class="page-content hidden" style="position: fixed; top: 0; left: 240px; right: 0; bottom: 0; background-color: #f8fafc; z-index: 1000; padding: 24px 32px; overflow-y: auto;">
        <div class="space-y-8">
            <!-- Header -->
            <div style="display: flex; align-items: center; justify-content: space-between;">
                <div>
                    <h1 style="font-size: 30px; font-weight: bold; color: #111827; margin: 0;">Select your platform</h1>
                    <p style="color: #6b7280; margin-top: 8px; font-size: 16px;">Choose the platform your company uses for support, so Service AI can help you get set up.</p>
                </div>
                <div style="display: flex; align-items: center; gap: 12px; background-color: #dbeafe; border: 1px solid #93c5fd; border-radius: 8px; padding: 8px 12px;">
                    <div style="width: 8px; height: 8px; background-color: #3b82f6; border-radius: 50%; animation: pulse 2s infinite;"></div>
                    <span style="font-size: 14px; color: #1e40af; font-weight: 500;">AI Integration Assistant</span>
                </div>
            </div>

            <!-- Single Column Layout (Full Width) -->
            <div style="width: 100%;">
                <!-- Left Column: Platform Selection -->
                <div style="display: flex; flex-direction: column; gap: 32px;">
                    <!-- Featured Platforms -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px;">
                        <!-- Zendesk -->
                        <div style="position: relative; cursor: pointer; transform: scale(1); transition: transform 0.2s;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'" onclick="showPlatformDetails('zendesk')">
                            <div style="position: absolute; inset: 0; background: linear-gradient(to right, #3b82f6, #2563eb); border-radius: 16px;"></div>
                            <div style="position: relative; background-color: white; margin: 4px; border-radius: 12px; padding: 32px; text-align: center;">
                                <div style="width: 64px; height: 64px; background-color: #111827; border-radius: 8px; margin: 0 auto 16px; display: flex; align-items: center; justify-content: center;">
                                    <span style="color: white; font-weight: bold; font-size: 24px;">Z</span>
                                </div>
                                <h3 style="font-size: 24px; font-weight: bold; color: #111827; margin: 0 0 8px 0;">Zendesk</h3>
                                <p style="color: #6b7280; font-size: 14px; margin: 0 0 16px 0;">Complete setup with tailored deploy steps for every Zendesk support channel</p>
                                <div style="display: flex; align-items: center; justify-content: center; gap: 16px; font-size: 14px; color: #6b7280;">
                                    <span>‚úì Custom onboarding</span>
                                    <span>‚úì Native reporting</span>
                                </div>
                            </div>
                        </div>

                        <!-- Salesforce -->
                        <div style="position: relative; cursor: pointer; transform: scale(1); transition: transform 0.2s;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'" onclick="showPlatformDetails('salesforce')">
                            <div style="position: absolute; inset: 0; background: linear-gradient(to right, #06b6d4, #0891b2); border-radius: 16px;"></div>
                            <div style="position: relative; background-color: white; margin: 4px; border-radius: 12px; padding: 32px; text-align: center;">
                                <div style="width: 64px; height: 64px; background-color: #3b82f6; border-radius: 8px; margin: 0 auto 16px; display: flex; align-items: center; justify-content: center;">
                                    <svg style="width: 32px; height: 32px; color: white;" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M12 2L2 7v10c0 5.55 3.84 9.74 9 9.74s9-4.19 9-9.74V7l-10-5z"/>
                                    </svg>
                                </div>
                                <h3 style="font-size: 24px; font-weight: bold; color: #111827; margin: 0 0 8px 0;">Salesforce</h3>
                                <p style="color: #6b7280; font-size: 14px; margin: 0 0 16px 0;">Integrate with Service Cloud for comprehensive customer context and CRM data</p>
                                <div style="display: flex; align-items: center; justify-content: center; gap: 16px; font-size: 14px; color: #6b7280;">
                                    <span>‚úì CRM integration</span>
                                    <span>‚úì Einstein Analytics</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Other Platforms -->
                    <div>
                        <h2 style="font-size: 20px; font-weight: 600; color: #111827; margin: 0 0 24px 0;">Use another platform</h2>
                        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px;">
                            <!-- Amazon Connect -->
                            <div style="background-color: white; border: 1px solid #e5e7eb; border-radius: 8px; padding: 24px; text-align: center; cursor: pointer; transition: border-color 0.2s;" onmouseover="this.style.borderColor='#3b82f6'" onmouseout="this.style.borderColor='#e5e7eb'" onclick="showPlatformDetails('amazonconnect')">
                                <div style="width: 48px; height: 48px; background-color: #fed7aa; border-radius: 8px; margin: 0 auto 12px; display: flex; align-items: center; justify-content: center;">
                                    <svg style="width: 24px; height: 24px; color: #ea580c;" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"/>
                                    </svg>
                                </div>
                                <h3 style="font-weight: 500; color: #111827; margin: 0; font-size: 14px;">Amazon Connect</h3>
                                <p style="font-size: 12px; color: #6b7280; margin: 4px 0 0 0;">Cloud contact center</p>
                            </div>

                            <!-- Freshdesk -->
                            <div style="background-color: white; border: 1px solid #e5e7eb; border-radius: 8px; padding: 24px; text-align: center; cursor: pointer; transition: border-color 0.2s;" onmouseover="this.style.borderColor='#10b981'" onmouseout="this.style.borderColor='#e5e7eb'" onclick="showPlatformDetails('freshdesk')">
                                <div style="width: 48px; height: 48px; background-color: #dcfce7; border-radius: 8px; margin: 0 auto 12px; display: flex; align-items: center; justify-content: center;">
                                    <div style="width: 24px; height: 24px; background-color: #16a34a; border-radius: 50%;"></div>
                                </div>
                                <h3 style="font-weight: 500; color: #111827; margin: 0; font-size: 14px;">Freshdesk</h3>
                                <p style="font-size: 12px; color: #6b7280; margin: 4px 0 0 0;">Customer support software</p>
                            </div>

                            <!-- Front -->
                            <div style="background-color: white; border: 1px solid #e5e7eb; border-radius: 8px; padding: 24px; text-align: center; cursor: pointer; transition: border-color 0.2s;" onmouseover="this.style.borderColor='#a855f7'" onmouseout="this.style.borderColor='#e5e7eb'" onclick="showPlatformDetails('front')">
                                <div style="width: 48px; height: 48px; background-color: #f3e8ff; border-radius: 8px; margin: 0 auto 12px; display: flex; align-items: center; justify-content: center;">
                                    <span style="color: #9333ea; font-weight: bold; font-size: 18px;">F</span>
                                </div>
                                <h3 style="font-weight: 500; color: #111827; margin: 0; font-size: 14px;">Front</h3>
                                <p style="font-size: 12px; color: #6b7280; margin: 4px 0 0 0;">Team inbox platform</p>
                            </div>

                            <!-- Gorgias -->
                            <div style="background-color: white; border: 1px solid #e5e7eb; border-radius: 8px; padding: 24px; text-align: center; cursor: pointer; transition: border-color 0.2s;" onmouseover="this.style.borderColor='#6b7280'" onmouseout="this.style.borderColor='#e5e7eb'" onclick="showPlatformDetails('gorgias')">
                                <div style="width: 48px; height: 48px; background-color: #f3f4f6; border-radius: 8px; margin: 0 auto 12px; display: flex; align-items: center; justify-content: center;">
                                    <span style="color: #6b7280; font-weight: bold; font-size: 18px;">G</span>
                                </div>
                                <h3 style="font-weight: 500; color: #111827; margin: 0; font-size: 14px;">Gorgias</h3>
                                <p style="font-size: 12px; color: #6b7280; margin: 4px 0 0 0;">Ecommerce helpdesk</p>
                            </div>

                            <!-- Help Scout -->
                            <div style="background-color: white; border: 1px solid #e5e7eb; border-radius: 8px; padding: 24px; text-align: center; cursor: pointer; transition: border-color 0.2s;" onmouseover="this.style.borderColor='#3b82f6'" onmouseout="this.style.borderColor='#e5e7eb'" onclick="showPlatformDetails('helpscout')">
                                <div style="width: 48px; height: 48px; background-color: #dbeafe; border-radius: 8px; margin: 0 auto 12px; display: flex; align-items: center; justify-content: center;">
                                    <svg style="width: 24px; height: 24px; color: #3b82f6;" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M12 2L2 7v10c0 5.55 3.84 9.74 9 9.74s9-4.19 9-9.74V7l-10-5z"/>
                                    </svg>
                                </div>
                                <h3 style="font-weight: 500; color: #111827; margin: 0; font-size: 14px;">Help Scout</h3>
                                <p style="font-size: 12px; color: #6b7280; margin: 4px 0 0 0;">Customer service platform</p>
                            </div>

                            <!-- HubSpot -->
                            <div style="background-color: white; border: 1px solid #e5e7eb; border-radius: 8px; padding: 24px; text-align: center; cursor: pointer; transition: border-color 0.2s;" onmouseover="this.style.borderColor='#ea580c'" onmouseout="this.style.borderColor='#e5e7eb'" onclick="showPlatformDetails('hubspot')">
                                <div style="width: 48px; height: 48px; background-color: #fed7aa; border-radius: 8px; margin: 0 auto 12px; display: flex; align-items: center; justify-content: center;">
                                    <span style="color: #ea580c; font-weight: bold; font-size: 18px;">H</span>
                                </div>
                                <h3 style="font-weight: 500; color: #111827; margin: 0; font-size: 14px;">HubSpot</h3>
                                <p style="font-size: 12px; color: #6b7280; margin: 4px 0 0 0;">CRM & service hub</p>
                            </div>

                            <!-- ServiceNow -->
                            <div style="background-color: white; border: 1px solid #e5e7eb; border-radius: 8px; padding: 24px; text-align: center; cursor: pointer; transition: border-color 0.2s;" onmouseover="this.style.borderColor='#10b981'" onmouseout="this.style.borderColor='#e5e7eb'" onclick="showPlatformDetails('servicenow')">
                                <div style="width: 48px; height: 48px; background-color: #dcfce7; border-radius: 8px; margin: 0 auto 12px; display: flex; align-items: center; justify-content: center;">
                                    <div style="width: 24px; height: 24px; background-color: #16a34a; border-radius: 4px;"></div>
                                </div>
                                <h3 style="font-weight: 500; color: #111827; margin: 0; font-size: 14px;">ServiceNow</h3>
                                <p style="font-size: 12px; color: #6b7280; margin: 4px 0 0 0;">Enterprise service management</p>
                            </div>

                            <!-- Zoho Desk -->
                            <div style="background-color: white; border: 1px solid #e5e7eb; border-radius: 8px; padding: 24px; text-align: center; cursor: pointer; transition: border-color 0.2s;" onmouseover="this.style.borderColor='#10b981'" onmouseout="this.style.borderColor='#e5e7eb'" onclick="showPlatformDetails('zohodesk')">
                                <div style="width: 48px; height: 48px; background-color: #dcfce7; border-radius: 8px; margin: 0 auto 12px; display: flex; align-items: center; justify-content: center;">
                                    <span style="color: #16a34a; font-weight: bold; font-size: 18px;">Z</span>
                                </div>
                                <h3 style="font-weight: 500; color: #111827; margin: 0; font-size: 14px;">Zoho Desk</h3>
                                <p style="font-size: 12px; color: #6b7280; margin: 4px 0 0 0;">Context-aware help desk</p>
                            </div>
                        </div>
                    </div>

                    <!-- Other Option -->
                    <div style="background-color: white; border: 1px solid #e5e7eb; border-radius: 8px; padding: 24px; cursor: pointer; transition: border-color 0.2s;" onmouseover="this.style.borderColor='#6b7280'" onmouseout="this.style.borderColor='#e5e7eb'" onclick="showPlatformDetails('other')">
                        <div style="display: flex; align-items: center; gap: 16px;">
                            <div style="width: 48px; height: 48px; background-color: #f3f4f6; border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                                <svg style="width: 24px; height: 24px; color: #6b7280;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
                                </svg>
                            </div>
                            <div>
                                <h3 style="font-weight: 500; color: #111827; margin: 0; font-size: 16px;">Other</h3>
                                <p style="font-size: 14px; color: #6b7280; margin: 0;">Custom integration or different platform</p>
                            </div>
                        </div>
                    </div>

                    <!-- AI Setup Assistant -->
                    <div style="background: linear-gradient(to right, #faf5ff, #f0f4ff); border: 1px solid #d8b4fe; border-radius: 8px; padding: 24px;">
                        <div style="display: flex; align-items: flex-start; gap: 16px;">
                            <div style="width: 40px; height: 40px; background-color: #7c3aed; border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                <svg style="width: 24px; height: 24px; color: white;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
                                </svg>
                            </div>
                            <div style="flex: 1;">
                                <h3 style="font-weight: 600; color: #111827; margin: 0 0 8px 0;">AI-Powered Setup</h3>
                                <p style="color: #374151; margin: 0 0 16px 0;">Once you select your platform, our AI will:</p>
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; font-size: 14px;">
                                    <div style="display: flex; align-items: center; gap: 8px;">
                                        <svg style="width: 16px; height: 16px; color: #10b981;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                                        </svg>
                                        <span style="color: #374151;">Analyze your existing knowledge base</span>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 8px;">
                                        <svg style="width: 16px; height: 16px; color: #10b981;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                                        </svg>
                                        <span style="color: #374151;">Import your support history and patterns</span>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 8px;">
                                        <svg style="width: 16px; height: 16px; color: #10b981;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                                        </svg>
                                        <span style="color: #374151;">Configure optimal settings for your team</span>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 8px;">
                                        <svg style="width: 16px; height: 16px; color: #10b981;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                                        </svg>
                                        <span style="color: #374151;">Set up gradual deployment with safety controls</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Currently Connected -->
                    <div style="background-color: white; border: 1px solid #e5e7eb; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                        <div style="padding: 24px; border-bottom: 1px solid #e5e7eb;">
                            <h2 style="font-size: 20px; font-weight: 600; color: #111827; margin: 0;">Currently Connected</h2>
                            <p style="color: #6b7280; font-size: 14px; margin: 4px 0 0 0;">Manage your existing integrations</p>
                        </div>
                        <div style="padding: 24px;">
                            <div style="display: flex; flex-direction: column; gap: 16px;">
                                <!-- Connected Zendesk -->
                                <div style="display: flex; align-items: center; justify-content: space-between; padding: 16px; border: 1px solid #bbf7d0; border-radius: 8px; background-color: #f0fdf4;">
                                    <div style="display: flex; align-items: center; gap: 12px;">
                                        <div style="width: 40px; height: 40px; background-color: #111827; border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                                            <span style="color: white; font-weight: bold;">Z</span>
                                        </div>
                                        <div>
                                            <h3 style="font-weight: 600; color: #111827; margin: 0;">Zendesk</h3>
                                            <p style="font-size: 14px; color: #6b7280; margin: 0;">Connected to https://treasuredata.zendesk.com</p>
                                            <div style="display: flex; align-items: center; gap: 16px; font-size: 12px; color: #6b7280; margin-top: 4px;">
                                                <span>247 articles synced</span>
                                                <span>‚Ä¢</span>
                                                <span>Last sync: 2 minutes ago</span>
                                                <span>‚Ä¢</span>
                                                <span style="color: #16a34a;">94% accuracy</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 8px;">
                                        <span style="font-size: 12px; background-color: #dcfce7; color: #166534; padding: 4px 8px; border-radius: 9999px;">Active</span>
                                        <button style="color: #9ca3af; background: none; border: none; cursor: pointer;">
                                            <svg style="width: 20px; height: 20px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                                <!-- Slack Integration -->
                                <div style="display: flex; align-items: center; justify-content: space-between; padding: 16px; border: 1px solid #e5e7eb; border-radius: 8px;">
                                    <div style="display: flex; align-items: center; gap: 12px;">
                                        <div style="width: 40px; height: 40px; background-color: #f3e8ff; border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                                            <svg style="width: 20px; height: 20px; color: #9333ea;" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M5.5 8.5a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"/>
                                            </svg>
                                        </div>
                                        <div>
                                            <h3 style="font-weight: 600; color: #111827; margin: 0;">Slack</h3>
                                            <p style="font-size: 14px; color: #6b7280; margin: 0;">Team notifications and escalation alerts</p>
                                            <div style="display: flex; align-items: center; gap: 16px; font-size: 12px; color: #6b7280; margin-top: 4px;">
                                                <span>3 channels configured</span>
                                                <span>‚Ä¢</span>
                                                <span>156 notifications sent</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 8px;">
                                        <span style="font-size: 12px; background-color: #dcfce7; color: #166534; padding: 4px 8px; border-radius: 9999px;">Active</span>
                                        <button style="color: #9ca3af; background: none; border: none; cursor: pointer;">
                                            <svg style="width: 20px; height: 20px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function showPage(pageId) {
            console.log('showPage called with pageId:', pageId);

            // Hide all pages
            document.querySelectorAll('.page-content').forEach(page => {
                page.classList.add('hidden');
            });

            // Show selected page
            let targetPage;
            if (pageId === 'chat-interface') {
                targetPage = document.getElementById('chat-interface-page');
            } else if (pageId === 'integrations') {
                // Use the test integrations page
                targetPage = document.getElementById('integrations-page-test');
            } else {
                targetPage = document.getElementById(pageId + '-page');

                // If navigating away from chat interface, restore sidebar
                if (isInChatMode && pageId !== 'chat-interface') {
                    exitChatMode();
                }
            }

            console.log('Target page element:', targetPage);
            console.log('Looking for element with ID:', pageId + '-page');

            if (targetPage) {
                targetPage.classList.remove('hidden');
                console.log('Successfully showed page:', pageId);
                console.log('Target page classes after showing:', targetPage.className);
            } else {
                console.error('Target page not found for pageId:', pageId);
                // List all available page elements for debugging
                const allPages = document.querySelectorAll('.page-content');
                console.log('Available pages:', Array.from(allPages).map(p => p.id));

                // Specifically check for integrations-page
                const integrationsPage = document.getElementById('integrations-page');
                console.log('Integrations page element:', integrationsPage);
                if (integrationsPage) {
                    console.log('Integrations page classes:', integrationsPage.className);
                }
            }

            // Update navigation active states
            updateNavigationStates(pageId);
        }


        function exitChatMode() {
            isInChatMode = false;
            const sidebar = document.getElementById('expanded-nav');
            if (sidebar) {
                sidebar.classList.remove('sidebar-collapsed');
                sidebar.style.width = ''; // Remove inline style
                console.log('Exited chat mode, sidebar restored');
            }
        }

        function updateNavigationStates(activePageId) {
            // Reset all navigation items to inactive state
            document.querySelectorAll('#expanded-nav a').forEach(item => {
                // Reset to default styles
                item.style.backgroundColor = '';
                item.style.color = '';
                item.style.height = '48px';
                item.style.borderRadius = '';
                item.className = 'flex items-center space-x-3 px-3 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors';

                // Remove any existing left strip
                const existingStrip = item.querySelector('.absolute');
                if (existingStrip) {
                    existingStrip.remove();
                }

                // Remove bold from text
                const textSpan = item.querySelector('span');
                if (textSpan) {
                    textSpan.classList.remove('font-bold', 'font-medium');
                }
            });

            // Set active state based on page
            const navMappings = {
                'home': 'Home',
                'customers': 'Outreach',
                'conversations': 'Conversations',
                'ai-settings': 'AI Agent Settings',
                'integrations': 'Integrations'
            };

            // Find and highlight the active navigation item
            const activeNavText = navMappings[activePageId];
            if (activeNavText) {
                document.querySelectorAll('#expanded-nav span').forEach(span => {
                    if (span.textContent === activeNavText) {
                        const navItem = span.closest('a');
                        if (navItem) {
                            // Apply selected state component styling
                            navItem.className = 'flex items-center space-x-3 px-3 transition-colors relative overflow-hidden';
                            navItem.style.height = '48px';
                            navItem.style.backgroundColor = '#F3EEFF';
                            navItem.style.color = '#6F2EFF';
                            navItem.style.borderRadius = '4px';

                            // Selected state styling without purple strip

                            // Make text bold
                            const textSpan = navItem.querySelector('span');
                            if (textSpan) {
                                textSpan.classList.add('font-bold');
                            }
                        }
                    }
                });
            }
        }

        // Animated placeholder functionality
        function initAnimatedPlaceholder() {
            const rotatingWords = ['customers', 'issues', 'conversations', 'knowledge bases', 'analytics', 'workflows'];
            const rotatingText = document.getElementById('rotating-text');
            const textarea = document.getElementById('ai-textarea');
            const placeholder = document.getElementById('animated-placeholder');
            let currentIndex = 0;
            let isTyping = false;

            function typeWord(word) {
                return new Promise((resolve) => {
                    let charIndex = 0;
                    rotatingText.textContent = '';

                    function typeChar() {
                        if (charIndex < word.length) {
                            rotatingText.textContent += word[charIndex];
                            charIndex++;
                            setTimeout(typeChar, 100); // 100ms between characters
                        } else {
                            setTimeout(resolve, 1500); // Wait 1.5s before starting to delete
                        }
                    }
                    typeChar();
                });
            }

            function deleteWord() {
                return new Promise((resolve) => {
                    const currentText = rotatingText.textContent;
                    let charIndex = currentText.length;

                    function deleteChar() {
                        if (charIndex > 0) {
                            rotatingText.textContent = currentText.substring(0, charIndex - 1);
                            charIndex--;
                            setTimeout(deleteChar, 50); // 50ms between deletions (faster)
                        } else {
                            setTimeout(resolve, 300); // Brief pause before typing next word
                        }
                    }
                    deleteChar();
                });
            }

            async function animateText() {
                if (!isTyping && rotatingText) {
                    isTyping = true;

                    while (true) {
                        const word = rotatingWords[currentIndex];
                        await typeWord(word);
                        await deleteWord();
                        currentIndex = (currentIndex + 1) % rotatingWords.length;
                    }
                }
            }

            // Hide placeholder when user types and switch button icon
            if (textarea && placeholder) {
                const voiceIcon = document.getElementById('voice-icon');
                const submitIcon = document.getElementById('submit-icon');
                const voiceSubmitBtn = document.getElementById('voice-submit-btn');

                textarea.addEventListener('input', function() {
                    if (this.value.length > 0) {
                        placeholder.style.display = 'none';
                        // Switch to submit icon when typing
                        if (voiceIcon && submitIcon && voiceSubmitBtn) {
                            voiceIcon.classList.add('hidden');
                            submitIcon.classList.remove('hidden');
                            // Change button to blue background
                            voiceSubmitBtn.style.backgroundColor = '#1957DB';
                            voiceSubmitBtn.style.color = 'white';
                        }
                    } else {
                        placeholder.style.display = 'block';
                        // Switch back to voice icon when empty
                        if (voiceIcon && submitIcon && voiceSubmitBtn) {
                            voiceIcon.classList.remove('hidden');
                            submitIcon.classList.add('hidden');
                            // Reset button to gray background
                            voiceSubmitBtn.style.backgroundColor = '#e5e7eb';
                            voiceSubmitBtn.style.color = '#374151';
                        }
                    }
                });

                textarea.addEventListener('focus', function() {
                    if (this.value.length === 0) {
                        placeholder.style.opacity = '0.5';
                    }
                });

                textarea.addEventListener('blur', function() {
                    if (this.value.length === 0) {
                        placeholder.style.opacity = '1';
                    }
                });
            }

            // Start the typing animation
            animateText();
        }

        // Chat Interface Functions
        let currentChatStep = 0;
        let isInChatMode = false;
        let isCustomer360Mode = false; // Track when Leslie's Customer 360 view is active

        function startChatInterface(initialQuery) {
            console.log('Starting home page query with:', initialQuery);

            // Check if we should handle Leslie's Emma Parker lookup with chat interface + Customer 360
            if (currentPersona === 'in-store' && initialQuery.toLowerCase().includes('emma parker')) {
                // Use chat interface with Customer 360 on the right side for Leslie
                showLeslieCustomer360ChatInterface(initialQuery);
                return;
            }

            // NEW: Handle Pierre's queries with the new AI response system (except Emma Parker)
            if (currentPersona === 'customer-service' && !initialQuery.toLowerCase().includes('emma parker')) {
                // Clear the textarea
                const textarea = document.getElementById('ai-textarea');
                if (textarea) {
                    textarea.value = '';
                    // Reset textarea styling
                    const placeholder = document.getElementById('animated-placeholder');
                    const voiceIcon = document.getElementById('voice-icon');
                    const submitIcon = document.getElementById('submit-icon');
                    const voiceSubmitBtn = document.getElementById('voice-submit-btn');

                    if (placeholder) placeholder.style.display = 'block';
                    if (voiceIcon && submitIcon) {
                        voiceIcon.classList.remove('hidden');
                        submitIcon.classList.add('hidden');
                    }
                    if (voiceSubmitBtn) {
                        voiceSubmitBtn.style.backgroundColor = '';
                        voiceSubmitBtn.style.color = '';
                    }
                }

                // Handle with the new AI response system
                handlePierreAIQuery(initialQuery);
                return;
            }

            // Original chat interface flow for other queries/personas
            isInChatMode = true;
            currentChatStep = 0;

            // Show chat interface page
            showPage('chat-interface');

            // Force sidebar collapse immediately
            const sidebar = document.getElementById('expanded-nav');
            console.log('Sidebar element found:', sidebar);
            if (sidebar) {
                console.log('Adding sidebar-collapsed class');
                sidebar.classList.add('sidebar-collapsed');
                // Force immediate layout update
                sidebar.style.width = '60px';
                console.log('Sidebar collapsed, width set to 60px');
                console.log('Sidebar classes:', sidebar.className);
            } else {
                console.error('Sidebar element not found!');
            }

            // Add initial user message
            setTimeout(() => {
                addChatMessage(initialQuery, 'user');

                // Check if query contains Emma Parker
                if (initialQuery.toLowerCase().includes('emma parker')) {
                    handleEmmaParkerFlow();
                } else {
                    // Generic response for other queries
                    setTimeout(() => {
                        addChatMessage("I'm searching for information about '" + initialQuery + "'. Let me help you with that.", 'ai');
                    }, 1000);
                }
            }, 500);
        }

        function startEmmaParkerDemoFlow() {
            console.log('Starting Emma Parker demo flow');

            // Show loading screen first
            showEmmaParkerLoadingScreen();

            // After loading screen, show the actual chat interface page
            setTimeout(() => {
                showEmmaParkerChatInterface();
            }, 2000); // 2 second loading screen
        }

        function showEmmaParkerLoadingScreen() {
            console.log('Showing Emma Parker loading screen');

            // Keep sidebar expanded for Emma Parker flow
            isInChatMode = false;
            const sidebar = document.getElementById('expanded-nav');
            if (sidebar) {
                sidebar.classList.remove('sidebar-collapsed');
                sidebar.style.width = '';
                console.log('Sidebar kept expanded for Emma Parker loading screen');
            }

            // Remove selected state from all navigation tabs
            updateNavigationStates('emma-parker'); // Pass non-existent page ID to deselect all tabs

            // Create loading page if it doesn't exist
            let loadingPage = document.getElementById('emma-loading-page');
            if (!loadingPage) {
                loadingPage = document.createElement('div');
                loadingPage.id = 'emma-loading-page';
                loadingPage.className = 'page-content hidden';
                loadingPage.innerHTML = `
                    <div class="h-screen w-full flex items-center justify-center">
                        <div class="text-center">
                            <div class="animate-spin rounded-full h-16 w-16 border-4 border-blue-500 border-t-transparent mx-auto mb-6"></div>
                            <h3 class="text-xl font-medium text-gray-900 mb-2">Loading Conversation</h3>
                            <p class="text-gray-600">Accessing Emma Parker's live chat session...</p>
                        </div>
                    </div>
                `;
                document.getElementById('main-content').appendChild(loadingPage);
            }

            // Hide all other pages and show loading page
            document.querySelectorAll('.page-content').forEach(page => {
                page.classList.add('hidden');
            });
            loadingPage.classList.remove('hidden');
        }

        function showEmmaParkerChatInterface() {
            console.log('Showing Emma Parker chat interface');

            // Hide loading page and show the Emma Parker conversation in main content
            document.querySelectorAll('.page-content').forEach(page => {
                page.classList.add('hidden');
            });

            // Create or show the Emma Parker conversation page with interactive demo
            let emmaConversationPage = document.getElementById('emma-conversation-page');
            if (!emmaConversationPage) {
                emmaConversationPage = document.createElement('div');
                emmaConversationPage.id = 'emma-conversation-page';
                emmaConversationPage.className = 'page-content hidden';

                // Create container for the interactive demo content
                emmaConversationPage.innerHTML = `
                    <div id="demo-conversation-view" class="h-full" style="height: calc(100vh - 126px); max-height: calc(100vh - 126px);">
                        <!-- Interactive demo content will be loaded here -->
                    </div>
                `;
                // Insert into the p-6 pt-8 wrapper where other pages are located
                const mainContentWrapper = document.querySelector('#main-content > div');
                mainContentWrapper.appendChild(emmaConversationPage);
            }

            emmaConversationPage.classList.remove('hidden');

            // Ensure sidebar stays expanded for Emma Parker flow
            const sidebar = document.getElementById('expanded-nav');
            if (sidebar) {
                sidebar.classList.remove('sidebar-collapsed');
                sidebar.style.width = '';
            }

            // Remove selected state from all navigation tabs
            updateNavigationStates('emma-parker'); // Pass non-existent page ID to deselect all tabs

            // Load Scene 1 using the existing demo structure
            loadEmmaParkerScene1();
        }

        function loadEmmaParkerScene1() {
            console.log('Loading Emma Parker Scene 1...');

            // Create the Scene 1 content directly in the demo conversation view
            const conversationView = document.getElementById('demo-conversation-view');
            conversationView.innerHTML = `
                <div class="h-full flex justify-center px-6">
                    <!-- Left Column: Emma Parker Chat Window -->
                    <div class="mr-6" style="flex: 0 0 calc((100% - 25rem) * 0.9);">
                        <div class="bg-white rounded-lg border border-gray-200 h-full flex flex-col">
                            <!-- Customer Header -->
                            <div class="border-b border-gray-200 px-4 py-3">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-3">
                                        <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face&auto=format"
                                             alt="Emma Parker"
                                             class="w-8 h-8 rounded-full object-cover border border-gray-200">
                                        <div>
                                            <div class="flex items-center space-x-3">
                                                <span class="font-medium">Emma Parker</span>
                                                <span class="text-sm bg-gray-100 px-2 py-1 rounded">Web</span>
                                            </div>
                                            <div class="flex items-center space-x-3 text-sm text-gray-600">
                                                <span>emma.parker@email.com</span>
                                                <span>‚Ä¢</span>
                                                <span class="bg-green-100 text-green-800 px-2 py-1 rounded text-xs" id="demo-conversation-status">Active</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="flex items-center space-x-3">
                                        <button class="p-2 hover:bg-gray-100 rounded">üìû</button>
                                        <button class="p-2 hover:bg-gray-100 rounded">üé•</button>
                                        <button class="p-2 hover:bg-gray-100 rounded">üë•</button>
                                        <button class="p-2 hover:bg-gray-100 rounded">‚ãØ</button>
                                    </div>
                                </div>
                                <div class="mt-2 text-sm text-gray-600">
                                    Conversation started 6/15/2023 ‚Ä¢ 5 messages
                                </div>
                            </div>

                            <!-- AI Action Approval Request -->
                            <div class="border-t border-b border-gray-200 p-4" style="background-color: #FDE7E9;" id="demo-approval-request">
                                <div class="flex items-center space-x-3 mb-3">
                                    <span class="text-purple-600">ü§ñ</span>
                                    <span class="font-semibold" style="color: #471EA3;">AI Action Approval Request</span>
                                </div>

                                <!-- Two-column layout -->
                                <div class="flex gap-3 mb-4">
                                    <!-- Left Column: Main Request (2/3 width) -->
                                    <div class="flex-1 w-2/3">
                                        <div class="bg-white border border-purple-200 rounded-lg p-4 h-full">
                                            <div class="mb-3">
                                                <h4 class="font-semibold text-gray-900 text-lg">Issue $15 goodwill credit</h4>
                                                <p class="text-sm text-gray-600">(exceeds autonomy threshold of $10)</p>
                                            </div>

                                            <!-- Confidence -->
                                            <div class="text-sm text-purple-700 font-medium mb-3">82% confidence</div>

                                            <!-- Quick Rationale -->
                                            <div class="text-xs text-gray-600 space-y-1">
                                                <div>‚Ä¢ High LTV customer (3+ years, $2,400 total)</div>
                                                <div>‚Ä¢ Gold member tier with excellent history</div>
                                                <div>‚Ä¢ Sentiment recovering from frustrated</div>
                                            </div>

                                            <!-- Show more reasons link -->
                                            <div class="mt-1">
                                                <span class="text-xs text-blue-600 hover:text-blue-700 cursor-pointer">Show 4 more reasons</span>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Right Column: Automatically Completed (1/3 width) -->
                                    <div class="w-1/3">
                                        <div class="h-full">
                                            <div class="flex items-center space-x-1 mb-2">
                                                <span class="text-green-700 text-sm">‚úÖ</span>
                                                <span class="text-sm font-medium text-green-700">Automatically completed</span>
                                            </div>
                                            <div class="bg-green-50 border border-green-700 rounded p-2">
                                                <div class="text-xs text-gray-900">
                                                    Expired coupon reissued
                                                </div>
                                                <div class="text-xs text-gray-500 mt-1">(policy KB-COUP-101)</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Action Buttons -->
                                <div class="flex items-center justify-between space-x-3">
                                    <button class="bg-white border border-gray-300 text-gray-700 px-3 py-2 rounded text-sm font-medium hover:bg-gray-50 transition-colors">
                                        Check Details
                                    </button>
                                    <div class="flex space-x-3">
                                        <button class="bg-white border border-gray-300 text-gray-700 px-3 py-2 rounded text-sm font-medium hover:bg-gray-50 transition-colors">
                                            Deny & take over chat
                                        </button>
                                        <button class="bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded text-sm font-medium transition-colors" onclick="loadEmmaParkerScene2()">
                                            Approve $15 credit
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- Chat Messages - Scene 1: First 3 messages only -->
                            <div class="flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50" id="demo-chat-messages">
                                <!-- Emma's first message -->
                                <div class="flex items-start space-x-3">
                                    <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face&auto=format"
                                         alt="Emma Parker"
                                         class="w-8 h-8 rounded-full object-cover border border-gray-200 flex-shrink-0">
                                    <div class="flex-1">
                                        <div class="flex items-center space-x-3 mb-1">
                                            <span class="font-medium text-sm">Emma Parker</span>
                                            <span class="text-xs text-gray-500">15 min ago</span>
                                        </div>
                                        <div class="bg-white border border-gray-200 rounded-lg p-3 max-w-md">
                                            Hi, I'm trying to use the coupon code I received, but it isn't working at checkout.
                                        </div>
                                    </div>
                                </div>

                                <!-- AI Agent response -->
                                <div class="flex items-start space-x-3 justify-end">
                                    <div class="flex-1 flex justify-end">
                                        <div class="max-w-md">
                                            <div class="flex items-center space-x-3 mb-1 justify-end">
                                                <span class="text-xs text-gray-500">10 min ago</span>
                                                <span class="font-medium text-sm">Alex (AI agent)</span>
                                            </div>
                                            <div class="bg-blue-500 text-white rounded-lg p-3">
                                                I'm sorry about that, Emma. I see the coupon you're using has expired. Let me take care of this for you ‚Äî I've just generated a brand-new 25% off coupon you can use right away: TREASURE25.
                                            </div>
                                            <div class="text-xs text-green-600 mt-1 text-right">‚úì Delivered</div>
                                        </div>
                                    </div>
                                    <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0">
                                        <span class="text-white text-xs">AI</span>
                                    </div>
                                </div>

                                <!-- Emma's response -->
                                <div class="flex items-start space-x-3">
                                    <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face&auto=format"
                                         alt="Emma Parker"
                                         class="w-8 h-8 rounded-full object-cover border border-gray-200 flex-shrink-0">
                                    <div class="flex-1">
                                        <div class="flex items-center space-x-3 mb-1">
                                            <span class="font-medium text-sm">Emma Parker</span>
                                            <span class="text-xs text-gray-500">5 min ago</span>
                                        </div>
                                        <div class="bg-white border border-gray-200 rounded-lg p-3 max-w-md">
                                            Oh great, thank you!
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Right Column: Customer Lens & AI Thought Process -->
                    <div class="w-96 flex flex-col bg-gray-50 h-full py-4">
                        <!-- Customer Lens Card -->
                        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-4 ml-4 mr-4 flex-shrink-0">
                            <h3 class="font-semibold text-gray-900 mb-4">Customer Lens</h3>

                            <div class="flex items-center space-x-3 mb-4">
                                <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face&auto=format"
                                     alt="Emma Parker"
                                     class="w-10 h-10 rounded-full object-cover border-2 border-gray-200">
                                <div>
                                    <div class="font-medium text-gray-900">Emma Parker</div>
                                    <div class="text-sm text-gray-600">emma.p@email.com</div>
                                </div>
                            </div>

                            <div class="space-y-2 text-sm">
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Loyalty Status:</span>
                                    <span class="bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs font-medium text-right">Gold Member</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Lifetime Value:</span>
                                    <span class="font-medium text-right">$2,450</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Last Purchase:</span>
                                    <span class="text-xs text-right">
                                        Order #987122<br>
                                        <span class="text-gray-500">3 weeks ago</span>
                                    </span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Recent Activity:</span>
                                    <span class="text-xs text-right">
                                        Viewed "Autumn Collection"<br>
                                        <span class="text-gray-500">2 days ago</span>
                                    </span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Active Offers:</span>
                                    <span class="text-xs text-right" id="demo-active-offers"><span class="text-green-600 font-medium">TREASURE25</span></span>
                                </div>
                            </div>
                        </div>

                        <!-- 24px space between cards -->
                        <div style="height: 24px;"></div>

                        <!-- AI Thought Process Card -->
                        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-4 ml-4 mr-4 flex-1 flex flex-col min-h-0">
                            <h3 class="font-semibold text-gray-900 mb-4 flex-shrink-0">AI Thought Process</h3>

                            <div class="flex flex-col gap-3 overflow-y-auto min-h-0 flex-1 pr-2" id="demo-thought-process">
                                <!-- Scene 1: Flag at top, everything else below -->
                                <div class="px-3 py-2.5 bg-red-50 rounded border border-red-200" id="demo-flag-message">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Flag</div>
                                        <div class="flex-1 text-xs text-gray-900">Goodwill credit exceeds AI autonomy limits. Requires human approval</div>
                                    </div>
                                </div>

                                <!-- All items underneath the flag -->
                                <div class="px-3 py-2.5 bg-purple-50 rounded border border-violet-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Suggestion</div>
                                        <div class="flex-1 text-xs text-gray-900">Goodwill Gesture Recommendation: Based on customer's high lifetime value and recent browsing activity, offer a $15 credit as a special apology</div>
                                    </div>
                                </div>

                                <div class="px-3 py-2.5 bg-purple-50 rounded border border-violet-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Suggestion</div>
                                        <div class="flex-1 text-xs text-gray-900">Exception for Gold Members: Permitted to issue a replacement coupon of equal value. Generated a new, single-use 25% off coupon.</div>
                                    </div>
                                </div>

                                <div class="px-3 py-2.5 bg-amber-50 rounded border border-amber-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Identified</div>
                                        <div class="flex-1 text-xs text-gray-900">The customer is using a coupon that expired yesterday</div>
                                    </div>
                                </div>

                                <div class="px-3 py-2.5 bg-purple-50 rounded border border-violet-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Suggestion</div>
                                        <div class="flex-1 text-xs text-gray-900">Standard procedure for expired coupons is to apologize</div>
                                    </div>
                                </div>

                                <div class="px-3 py-2.5 bg-amber-50 rounded border border-amber-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Identified</div>
                                        <div class="flex-1 text-xs text-gray-900">Code status: Expired. (Valid through: Sept 30, 2025)</div>
                                    </div>
                                </div>

                                <div class="px-3 py-2.5 bg-slate-50 rounded border border-indigo-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Lookup</div>
                                        <div class="flex-1 text-xs text-gray-900">Checking validity of coupon code: SAVE25SUMMER.</div>
                                    </div>
                                </div>

                                <div class="px-3 py-2.5 bg-teal-50 rounded border border-emerald-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Analyzing</div>
                                        <div class="flex-1 text-xs text-gray-900">Customer query: "coupon not working".</div>
                                    </div>
                                </div>

                                <div class="px-3 py-2.5 bg-teal-50 rounded border border-emerald-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Context</div>
                                        <div class="flex-1 text-xs text-gray-900">Customer identified: Emma Parker (High-Value: Gold Member)</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function loadEmmaParkerScene2() {
            console.log('Starting Emma Parker Scene 2: Approve button clicked');

            // Animate AI Action Approval Request section disappearing
            const approvalRequest = document.getElementById('demo-approval-request');
            if (approvalRequest) {
                // Add transition and fade out
                approvalRequest.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                approvalRequest.style.opacity = '0';
                approvalRequest.style.transform = 'translateY(-10px)';

                // Hide completely after animation
                setTimeout(() => {
                    approvalRequest.style.display = 'none';
                    // Start the AI thought process animations after approval section disappears
                    animateEmmaParkerScene2Items();
                }, 500);
            } else {
                // Fallback if element not found
                animateEmmaParkerScene2Items();
            }
        }

        function animateEmmaParkerScene2Items() {
            const thoughtProcessContainer = document.getElementById('demo-thought-process');

            // Add Status message first (at the very top)
            setTimeout(() => {
                const statusItem = `
                    <div class="px-3 py-2.5 bg-purple-50 rounded border border-violet-200" style="opacity: 0; transform: translateY(-10px); transition: all 0.5s ease;">
                        <div class="flex items-start gap-2">
                            <div class="w-16 text-xs font-semibold text-gray-900">Status</div>
                            <div class="flex-1 text-xs text-gray-900">Human Agent Sarah Miller has approved the proposed actions</div>
                        </div>
                    </div>
                `;
                thoughtProcessContainer.insertAdjacentHTML('afterbegin', statusItem);
                const statusElement = thoughtProcessContainer.firstElementChild;
                setTimeout(() => {
                    statusElement.style.opacity = '1';
                    statusElement.style.transform = 'translateY(0)';
                }, 100);
            }, 300);

            // Add first Executing message (newest at top)
            setTimeout(() => {
                const executingItem1 = `
                    <div class="px-3 py-2.5 bg-green-50 rounded border border-green-800" style="opacity: 0; transform: translateY(-10px); transition: all 0.5s ease;">
                        <div class="flex items-start gap-2">
                            <div class="w-16 text-xs font-semibold text-gray-900">Executing</div>
                            <div class="flex-1 text-xs text-gray-900">Generating new coupon code... Done</div>
                        </div>
                    </div>
                `;
                thoughtProcessContainer.insertAdjacentHTML('afterbegin', executingItem1);
                const execElement1 = thoughtProcessContainer.firstElementChild;
                setTimeout(() => {
                    execElement1.style.opacity = '1';
                    execElement1.style.transform = 'translateY(0)';
                }, 100);
            }, 900);

            // Add second Executing message (newest at top)
            setTimeout(() => {
                const executingItem2 = `
                    <div class="px-3 py-2.5 bg-green-50 rounded border border-green-800" style="opacity: 0; transform: translateY(-10px); transition: all 0.5s ease;">
                        <div class="flex items-start gap-2">
                            <div class="w-16 text-xs font-semibold text-gray-900">Executing</div>
                            <div class="flex-1 text-xs text-gray-900">Applying $15 credit to account... Done</div>
                        </div>
                    </div>
                `;
                thoughtProcessContainer.insertAdjacentHTML('afterbegin', executingItem2);
                const execElement2 = thoughtProcessContainer.firstElementChild;
                setTimeout(() => {
                    execElement2.style.opacity = '1';
                    execElement2.style.transform = 'translateY(0)';

                    // Add 1 second buffer before updating Active Offers
                    setTimeout(() => {
                        updateEmmaParkerActiveOffers();

                        // Add 1.5 second buffer before starting Scene 3 after active offers are updated
                        setTimeout(() => {
                            loadEmmaParkerScene3();
                        }, 1500);
                    }, 1000);
                }, 100);
            }, 1500);
        }

        function updateEmmaParkerActiveOffers() {
            console.log('Updating Active Offers...');
            const activeOffersElement = document.getElementById('demo-active-offers');
            if (activeOffersElement) {
                activeOffersElement.style.transition = 'all 0.3s ease';
                activeOffersElement.style.opacity = '0.5';

                setTimeout(() => {
                    activeOffersElement.innerHTML = `
                        <div class="text-xs space-y-1">
                            <div class="text-green-600 font-medium">TREASURE25</div>
                            <div class="text-blue-600 font-medium">$15 Account Credit</div>
                        </div>
                    `;
                    activeOffersElement.style.opacity = '1';
                }, 200);
            }
        }

        function loadEmmaParkerScene3() {
            console.log('Starting Emma Parker Scene 3: Loading final chat messages');

            const chatMessages = document.getElementById('demo-chat-messages');

            // Add Alex (AI agent) "Since you're a Gold Member..." message
            setTimeout(() => {
                const aiSecondMessage = `
                    <div class="flex items-start space-x-3 justify-end" style="opacity: 0; transform: translateY(10px); transition: all 0.5s ease;">
                        <div class="flex-1 flex justify-end">
                            <div class="max-w-md">
                                <div class="flex items-center space-x-3 mb-1 justify-end">
                                    <span class="text-xs text-gray-500">4 min ago</span>
                                    <span class="font-medium text-sm">Alex (AI agent)</span>
                                </div>
                                <div class="bg-blue-500 text-white rounded-lg p-3">
                                    Since you're a Gold Member and a loyal customer, I've also added a $15 credit to your account as a goodwill gesture. You'll see it automatically applied to your next purchase.
                                </div>
                                <div class="text-xs text-green-600 mt-1 text-right">‚úì Delivered</div>
                            </div>
                        </div>
                        <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0">
                            <span class="text-white text-xs">AI</span>
                        </div>
                    </div>
                `;

                chatMessages.insertAdjacentHTML('beforeend', aiSecondMessage);
                const aiElement = chatMessages.lastElementChild;
                setTimeout(() => {
                    aiElement.style.opacity = '1';
                    aiElement.style.transform = 'translateY(0)';
                }, 100);
            }, 400);

            // Add Emma's typing indicator first (1.5 second buffer)
            setTimeout(() => {
                const typingIndicator = `
                    <div class="flex items-start space-x-3" id="emma-typing" style="opacity: 0; transform: translateY(10px); transition: all 0.5s ease;">
                        <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face&auto=format"
                             alt="Emma Parker"
                             class="w-8 h-8 rounded-full object-cover border border-gray-200 flex-shrink-0">
                        <div class="flex-1">
                            <div class="flex items-center space-x-3 mb-1">
                                <span class="font-medium text-sm">Emma Parker</span>
                                <span class="text-xs text-gray-500">is typing...</span>
                            </div>
                            <div class="bg-white border border-gray-200 rounded-lg p-3 max-w-md">
                                <div class="flex space-x-1">
                                    <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce"></div>
                                    <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style="animation-delay: 0.1s;"></div>
                                    <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style="animation-delay: 0.2s;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;

                chatMessages.insertAdjacentHTML('beforeend', typingIndicator);
                const typingElement = chatMessages.lastElementChild;
                setTimeout(() => {
                    typingElement.style.opacity = '1';
                    typingElement.style.transform = 'translateY(0)';
                }, 100);

                // Replace typing indicator with actual message after 3 seconds
                setTimeout(() => {
                    typingElement.remove();

                    const emmaFinalMessage = `
                        <div class="flex items-start space-x-3" style="opacity: 0; transform: translateY(10px); transition: all 0.5s ease;">
                            <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face&auto=format"
                                 alt="Emma Parker"
                                 class="w-8 h-8 rounded-full object-cover border border-gray-200 flex-shrink-0">
                            <div class="flex-1">
                                <div class="flex items-center space-x-3 mb-1">
                                    <span class="font-medium text-sm">Emma Parker</span>
                                    <span class="text-xs text-gray-500">2 min ago</span>
                                </div>
                                <div class="bg-white border border-gray-200 rounded-lg p-3 max-w-md">
                                    Wow, that's really thoughtful. Appreciate the quick help!
                                </div>
                            </div>
                        </div>
                    `;

                    chatMessages.insertAdjacentHTML('beforeend', emmaFinalMessage);
                    const emmaElement = chatMessages.lastElementChild;
                    setTimeout(() => {
                        emmaElement.style.opacity = '1';
                        emmaElement.style.transform = 'translateY(0)';

                        // Add chat closed message after Emma's message appears
                        setTimeout(() => {
                            addEmmaParkerChatClosedMessage();

                            // Update conversation status to Complete after chat closed message
                            setTimeout(() => {
                                updateEmmaParkerConversationStatus();
                            }, 1500);
                        }, 1500);
                    }, 100);

                    console.log('Emma Parker demo flow complete!');
                }, 3000);
            }, 1500);
        }

        function addEmmaParkerChatClosedMessage() {
            const chatMessages = document.getElementById('demo-chat-messages');

            const chatClosedMessage = `
                <div class="flex justify-center" style="opacity: 0; transform: translateY(10px); transition: all 0.5s ease; margin-top: 40px;">
                    <div class="bg-gray-100 text-gray-600 px-4 py-2 rounded-full text-sm">
                        üí¨ Chat has been closed
                    </div>
                </div>
            `;

            chatMessages.insertAdjacentHTML('beforeend', chatClosedMessage);
            const closedElement = chatMessages.lastElementChild;
            setTimeout(() => {
                closedElement.style.opacity = '1';
                closedElement.style.transform = 'translateY(0)';
            }, 100);
        }

        function updateEmmaParkerConversationStatus() {
            const statusElement = document.getElementById('demo-conversation-status');
            if (statusElement) {
                statusElement.textContent = 'Complete';
                statusElement.className = 'bg-gray-200 text-gray-700 px-2 py-1 rounded text-xs';
            }
        }


        function addChatMessage(message, sender) {
            const chatMessages = document.getElementById('chat-messages');
            const messageDiv = document.createElement('div');

            if (sender === 'user') {
                messageDiv.className = 'flex justify-end';
                messageDiv.innerHTML = `
                    <div class="bg-gray-200 text-gray-800 px-4 py-2 max-w-xs" style="border-radius: 18px 6px 18px 18px;">
                        ${message}
                    </div>
                `;
            } else {
                messageDiv.className = 'flex justify-start';
                messageDiv.innerHTML = `
                    <div class="text-gray-900 py-2 max-w-md">
                        ${message}
                    </div>
                `;
            }

            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function showAIThinking() {
            // Add thinking process as a chat message
            const chatMessages = document.getElementById('chat-messages');
            const thinkingDiv = document.createElement('div');
            thinkingDiv.className = 'flex justify-start';
            thinkingDiv.style.marginTop = '32px';
            thinkingDiv.id = 'ai-thinking-message';

            thinkingDiv.innerHTML = `
                <div class="bg-blue-50 border border-blue-200 rounded-lg p-3 max-w-md">
                    <div class="flex items-center space-x-3 cursor-pointer" onclick="toggleThinkingSteps()">
                        <div id="thinking-icon" class="w-5 h-5 bg-gradient-to-r from-blue-500 to-purple-600 rounded flex items-center justify-center">
                            <svg class="w-3 h-3 text-white animate-spin" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                            </svg>
                        </div>
                        <span id="thinking-title" class="text-sm font-medium text-blue-800">Accessing Diamond Record...</span>
                        <svg id="thinking-arrow" class="w-4 h-4 text-blue-600 transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                        </svg>
                    </div>
                    <div id="thinking-steps" class="text-xs text-blue-700 mt-2 hidden">
                        <!-- All thinking steps will be stored here when expanded -->
                    </div>
                    <div id="current-step" class="text-xs text-blue-700 mt-1">
                        <!-- Current step being processed -->
                    </div>
                </div>
            `;

            chatMessages.appendChild(thinkingDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;

            // Start the thinking process animation
            animateThinkingSteps();
        }

        function hideAIThinking() {
            // Don't remove the thinking message - keep it in chat after completion
            // This function is now only used to stop the animation
        }

        function animateThinkingSteps() {
            const thinkingSteps = [
                "Accessing Diamond Record...",
                "Searching for Emma Parker...",
                "Found customer profile",
                "Analyzing current status..."
            ];

            const stepsDiv = document.getElementById('thinking-steps');
            const currentStepDiv = document.getElementById('current-step');
            const titleSpan = document.getElementById('thinking-title');
            const iconDiv = document.getElementById('thinking-icon');

            let currentStep = 0;
            const allSteps = []; // Store all steps for the expanded view

            function showNextStep() {
                if (currentStep < thinkingSteps.length) {
                    // Update title with current thinking step
                    titleSpan.textContent = thinkingSteps[currentStep];

                    // Store step for expanded view
                    allSteps.push(thinkingSteps[currentStep]);

                    currentStep++;

                    // Continue to next step after delay
                    if (currentStep < thinkingSteps.length) {
                        setTimeout(showNextStep, 1000);
                    } else {
                        // Thinking complete - update UI
                        completeThinking();
                    }
                }
            }

            function completeThinking() {
                // Stop spinning animation
                iconDiv.querySelector('svg').classList.remove('animate-spin');

                // Update icon to show completion
                iconDiv.innerHTML = `
                    <svg class="w-3 h-3 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                    </svg>
                `;

                // Hide current step display (not used in this implementation)
                currentStepDiv.style.display = 'none';

                // Update title to show collapsed state
                titleSpan.textContent = 'Show thinking';

                // Populate the expandable steps list
                stepsDiv.innerHTML = allSteps.map(step => `<div class="text-blue-600 opacity-75">‚Ä¢ ${step}</div>`).join('');
            }

            // Start the animation
            setTimeout(showNextStep, 500);
        }

        function toggleThinkingSteps() {
            const stepsDiv = document.getElementById('thinking-steps');
            const arrow = document.getElementById('thinking-arrow');

            if (stepsDiv.classList.contains('hidden')) {
                // Expand
                stepsDiv.classList.remove('hidden');
                arrow.style.transform = 'rotate(180deg)';
            } else {
                // Collapse
                stepsDiv.classList.add('hidden');
                arrow.style.transform = 'rotate(0deg)';
            }
        }

        function showLoadingThinking() {
            // Add loading thinking process as a chat message
            const chatMessages = document.getElementById('chat-messages');
            const thinkingDiv = document.createElement('div');
            thinkingDiv.className = 'flex justify-start';
            thinkingDiv.style.marginTop = '32px';
            thinkingDiv.id = 'loading-thinking-message';

            thinkingDiv.innerHTML = `
                <div class="bg-blue-50 border border-blue-200 rounded-lg p-3 max-w-md">
                    <div class="flex items-center space-x-3 cursor-pointer" onclick="toggleLoadingSteps()">
                        <div id="loading-icon" class="w-5 h-5 bg-gradient-to-r from-blue-500 to-purple-600 rounded flex items-center justify-center">
                            <svg class="w-3 h-3 text-white animate-spin" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                            </svg>
                        </div>
                        <span id="loading-title" class="text-sm font-medium text-blue-800">Loading conversation...</span>
                        <svg id="loading-arrow" class="w-4 h-4 text-blue-600 transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                        </svg>
                    </div>
                    <div id="loading-steps" class="text-xs text-blue-700 mt-2 hidden">
                        <!-- All loading steps will be stored here when expanded -->
                    </div>
                </div>
            `;

            chatMessages.appendChild(thinkingDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;

            // Start the loading process animation
            animateLoadingSteps();
        }

        function animateLoadingSteps() {
            const loadingSteps = [
                "Connecting to live chat session...",
                "Retrieving conversation history...",
                "Loading approval request details..."
            ];

            const stepsDiv = document.getElementById('loading-steps');
            const titleSpan = document.getElementById('loading-title');
            const iconDiv = document.getElementById('loading-icon');

            let currentStep = 0;
            const allSteps = []; // Store all steps for the expanded view

            function showNextLoadingStep() {
                if (currentStep < loadingSteps.length) {
                    // Update title with current loading step
                    titleSpan.textContent = loadingSteps[currentStep];

                    // Store step for expanded view
                    allSteps.push(loadingSteps[currentStep]);

                    currentStep++;

                    // Continue to next step after delay
                    if (currentStep < loadingSteps.length) {
                        setTimeout(showNextLoadingStep, 800);
                    } else {
                        // Loading complete - update UI
                        completeLoading();
                    }
                }
            }

            function completeLoading() {
                // Stop spinning animation
                iconDiv.querySelector('svg').classList.remove('animate-spin');

                // Update icon to show completion
                iconDiv.innerHTML = `
                    <svg class="w-3 h-3 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                    </svg>
                `;

                // Update title to show completed state
                titleSpan.textContent = 'Show loading details';

                // Populate the expandable steps list
                stepsDiv.innerHTML = allSteps.map(step => `<div class="text-blue-600 opacity-75">‚Ä¢ ${step}</div>`).join('');

                // Note: Scene 1 will be loaded directly after timeout instead of static content
            }

            // Start the animation
            setTimeout(showNextLoadingStep, 500);
        }

        function toggleLoadingSteps() {
            const stepsDiv = document.getElementById('loading-steps');
            const arrow = document.getElementById('loading-arrow');

            if (stepsDiv.classList.contains('hidden')) {
                // Expand
                stepsDiv.classList.remove('hidden');
                arrow.style.transform = 'rotate(180deg)';
            } else {
                // Collapse
                stepsDiv.classList.add('hidden');
                arrow.style.transform = 'rotate(0deg)';
            }
        }

        function loadConversationContent() {
            const conversationView = document.getElementById('conversation-view');

            // Replace loading state with actual conversation content in two-column layout
            conversationView.innerHTML = `
                <div class="h-full flex justify-center">
                    <!-- Left Column: Chat Window -->
                    <div class="mr-6" style="flex: 0 0 calc((100% - 25rem) * 0.9);">
                        <div class="bg-white rounded-lg border border-gray-200 h-full flex flex-col">
                        <!-- Customer Header -->
                        <div class="border-b border-gray-200 px-4 py-3">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-3">
                                    <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face&auto=format"
                                         alt="Emma Parker"
                                         class="w-8 h-8 rounded-full object-cover border border-gray-200">
                                    <div>
                                        <div class="flex items-center space-x-3">
                                            <span class="font-medium">Emma Parker</span>
                                            <span class="text-sm bg-gray-100 px-2 py-1 rounded">Web</span>
                                        </div>
                                        <div class="flex items-center space-x-3 text-sm text-gray-600">
                                            <span>emma.parker@email.com</span>
                                            <span>‚Ä¢</span>
                                            <span class="bg-green-100 text-green-800 px-2 py-1 rounded text-xs">Active</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="flex items-center space-x-3">
                                    <button class="p-2 hover:bg-gray-100 rounded">üìû</button>
                                    <button class="p-2 hover:bg-gray-100 rounded">üé•</button>
                                    <button class="p-2 hover:bg-gray-100 rounded">üë•</button>
                                    <button class="p-2 hover:bg-gray-100 rounded">‚ãØ</button>
                                </div>
                            </div>
                            <div class="mt-2 text-sm text-gray-600">
                                Conversation started 6/15/2023 ‚Ä¢ 5 messages
                            </div>
                        </div>


                        <!-- Chat Messages -->
                        <div class="flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50" id="chat-messages">
                            <!-- Emma's first message -->
                            <div class="flex items-start space-x-3">
                                <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face&auto=format"
                                     alt="Emma Parker"
                                     class="w-8 h-8 rounded-full object-cover border border-gray-200 flex-shrink-0">
                                <div class="flex-1">
                                    <div class="flex items-center space-x-3 mb-1">
                                        <span class="font-medium text-sm">Emma Parker</span>
                                        <span class="text-xs text-gray-500">15 min ago</span>
                                    </div>
                                    <div class="bg-white border border-gray-200 rounded-lg p-3 max-w-md">
                                        Hi, I'm trying to use the coupon code I received, but it isn't working at checkout.
                                    </div>
                                </div>
                            </div>

                            <!-- AI Agent response -->
                            <div class="flex items-start space-x-3 justify-end">
                                <div class="flex-1 flex justify-end">
                                    <div class="max-w-md">
                                        <div class="flex items-center space-x-3 mb-1 justify-end">
                                            <span class="text-xs text-gray-500">10 min ago</span>
                                            <span class="font-medium text-sm">Alex (AI agent)</span>
                                        </div>
                                        <div class="bg-blue-500 text-white rounded-lg p-3">
                                            I'm sorry about that, Emma. I see the coupon you're using has expired. Let me take care of this for you ‚Äî I've just generated a brand-new 25% off coupon you can use right away: TREASURE25.
                                        </div>
                                        <div class="text-xs text-green-600 mt-1 text-right">‚úì Delivered</div>
                                    </div>
                                </div>
                                <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0">
                                    <span class="text-white text-xs">AI</span>
                                </div>
                            </div>

                            <!-- Emma's response -->
                            <div class="flex items-start space-x-3">
                                <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face&auto=format"
                                     alt="Emma Parker"
                                     class="w-8 h-8 rounded-full object-cover border border-gray-200 flex-shrink-0">
                                <div class="flex-1">
                                    <div class="flex items-center space-x-3 mb-1">
                                        <span class="font-medium text-sm">Emma Parker</span>
                                        <span class="text-xs text-gray-500">5 min ago</span>
                                    </div>
                                    <div class="bg-white border border-gray-200 rounded-lg p-3 max-w-md">
                                        Oh great, thank you!
                                    </div>
                                </div>
                            </div>

                            <!-- AI Agent second response -->
                            <div class="flex items-start space-x-3 justify-end">
                                <div class="flex-1 flex justify-end">
                                    <div class="max-w-md">
                                        <div class="flex items-center space-x-3 mb-1 justify-end">
                                            <span class="text-xs text-gray-500">4 min ago</span>
                                            <span class="font-medium text-sm">Alex (AI agent)</span>
                                        </div>
                                        <div class="bg-blue-500 text-white rounded-lg p-3">
                                            Since you're a Gold Member and a loyal customer, I've also added a $15 credit to your account as a goodwill gesture. You'll see it automatically applied to your next purchase.
                                        </div>
                                        <div class="text-xs text-green-600 mt-1 text-right">‚úì Delivered</div>
                                    </div>
                                </div>
                                <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0">
                                    <span class="text-white text-xs">AI</span>
                                </div>
                            </div>

                            <!-- Emma's final response -->
                            <div class="flex items-start space-x-3">
                                <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face&auto=format"
                                     alt="Emma Parker"
                                     class="w-8 h-8 rounded-full object-cover border border-gray-200 flex-shrink-0">
                                <div class="flex-1">
                                    <div class="flex items-center space-x-3 mb-1">
                                        <span class="font-medium text-sm">Emma Parker</span>
                                        <span class="text-xs text-gray-500">2 min ago</span>
                                    </div>
                                    <div class="bg-white border border-gray-200 rounded-lg p-3 max-w-md">
                                        Wow, that's really thoughtful. Appreciate the quick help!
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- AI Action Approval Request -->
                        <div class="border-t border-gray-200 p-4 bg-purple-50" id="ai-approval-request">
                            <div class="flex items-center space-x-3 mb-3">
                                <span class="text-purple-600">ü§ñ</span>
                                <span class="font-semibold text-purple-900">AI Action Approval Request</span>
                            </div>

                            <!-- Two-column layout -->
                            <div class="flex gap-3 mb-4">
                                <!-- Left Column: Main Request (2/3 width) -->
                                <div class="flex-1 w-2/3">
                                    <div class="bg-white border border-purple-200 rounded-lg p-4 h-full">
                                        <div class="mb-3">
                                            <h4 class="font-semibold text-gray-900 text-lg">Issue $15 goodwill credit</h4>
                                            <p class="text-sm text-gray-600">(exceeds autonomy threshold of $10)</p>
                                        </div>

                                        <!-- Confidence -->
                                        <div class="text-sm text-purple-700 font-medium mb-3">82% confidence</div>

                                        <!-- Quick Rationale -->
                                        <div class="text-xs text-gray-600 space-y-1">
                                            <div>‚Ä¢ High LTV customer (3+ years, $2,400 total)</div>
                                            <div>‚Ä¢ Gold member tier with excellent history</div>
                                            <div>‚Ä¢ Sentiment recovering from frustrated</div>
                                        </div>

                                        <!-- Show more reasons link -->
                                        <div class="mt-1">
                                            <span class="text-xs text-blue-600 hover:text-blue-700 cursor-pointer">Show 4 more reasons</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- Right Column: Automatically Completed (1/3 width) -->
                                <div class="w-1/3">
                                    <div class="h-full">
                                        <div class="flex items-center space-x-1 mb-2">
                                            <span class="text-green-700 text-sm">‚úÖ</span>
                                            <span class="text-sm font-medium text-green-700">Automatically completed</span>
                                        </div>
                                        <div class="bg-green-50 border border-green-700 rounded p-2">
                                            <div class="text-xs text-gray-900">
                                                Expired coupon reissued
                                            </div>
                                            <div class="text-xs text-gray-500 mt-1">(policy KB-COUP-101)</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Action Buttons -->
                            <div class="flex items-center justify-between space-x-3">
                                <button
                                    id="check-details-btn"
                                    class="bg-white border border-gray-300 text-gray-700 px-3 py-2 rounded text-sm font-medium hover:bg-gray-50 transition-colors"
                                >
                                    Check Details
                                </button>
                                <div class="flex space-x-3">
                                    <button class="bg-white border border-gray-300 text-gray-700 px-3 py-2 rounded text-sm font-medium hover:bg-gray-50 transition-colors">
                                        Deny & take over chat
                                    </button>
                                    <button class="bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded text-sm font-medium transition-colors" onclick="loadScene2()">
                                        Approve $15 credit
                                    </button>
                                </div>
                            </div>
                        </div>

                        </div>
                    </div>

                    <!-- Right Column: Customer Lens & AI Thought Process -->
                    <div class="w-96 flex flex-col bg-gray-50 h-full py-4">
                        <!-- Customer Lens Card -->
                        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-4 ml-4 mr-4 flex-shrink-0">
                            <h3 class="font-semibold text-gray-900 mb-4">Customer Lens</h3>

                            <div class="flex items-center space-x-3 mb-4">
                                <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face&auto=format"
                                     alt="Emma Parker"
                                     class="w-10 h-10 rounded-full object-cover border-2 border-gray-200">
                                <div>
                                    <div class="font-medium text-gray-900">Emma Parker</div>
                                    <div class="text-sm text-gray-600">emma.p@email.com</div>
                                </div>
                            </div>

                            <div class="space-y-3 text-sm">
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Loyalty Status:</span>
                                    <span class="bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs font-medium">Gold Member</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Lifetime Value:</span>
                                    <span class="font-medium">$2,450</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Last Purchase:</span>
                                    <div class="text-right">
                                        <div class="text-xs text-gray-500">3 weeks ago</div>
                                        <div class="text-xs">(Order #987122 ‚Ä¢ "The Seaside Linen Dress")</div>
                                    </div>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Recent Activity:</span>
                                    <span class="text-xs">Viewed "Autumn Collection" 2 days ago</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Active Offers:</span>
                                    <span class="text-xs" id="active-offers">[Empty]</span>
                                </div>
                            </div>
                        </div>

                        <!-- 24px space between cards -->
                        <div style="height: 24px;"></div>

                        <!-- AI Thought Process Card -->
                        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-4 ml-4 mr-4 flex-1 flex flex-col min-h-0">
                            <h3 class="font-semibold text-gray-900 mb-4 flex-shrink-0">AI Thought Process</h3>

                            <div class="flex flex-col gap-3 overflow-y-auto min-h-0 flex-1 pr-2" id="ai-thought-process">
                                <!-- Executing Actions -->
                                <div class="px-3 py-2.5 bg-green-50 rounded border border-green-800">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Executing</div>
                                        <div class="flex-1 text-xs text-gray-900">Applying $15 credit to account... Done</div>
                                    </div>
                                </div>

                                <div class="px-3 py-2.5 bg-green-50 rounded border border-green-800">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Executing</div>
                                        <div class="flex-1 text-xs text-gray-900">Generating new coupon code... Done</div>
                                    </div>
                                </div>

                                <!-- Status -->
                                <div class="px-3 py-2.5 bg-purple-50 rounded border border-violet-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Status</div>
                                        <div class="flex-1 text-xs text-gray-900">Human Agent Sarah Miller has approved the proposed actions</div>
                                    </div>
                                </div>

                                <!-- Flag -->
                                <div class="px-3 py-2.5 bg-red-50 rounded border border-red-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Flag</div>
                                        <div class="flex-1 text-xs text-gray-900">Goodwill credit exceeds AI autonomy limits. Requires human approval</div>
                                    </div>
                                </div>

                                <!-- Suggestions -->
                                <div class="px-3 py-2.5 bg-purple-50 rounded border border-violet-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Suggestion</div>
                                        <div class="flex-1 text-xs text-gray-900">Goodwill Gesture Recommendation: Based on customer's high lifetime value and recent browsing activity, offer a $15 credit as a special apology</div>
                                    </div>
                                </div>

                                <div class="px-3 py-2.5 bg-purple-50 rounded border border-violet-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Suggestion</div>
                                        <div class="flex-1 text-xs text-gray-900">Exception for Gold Members: Permitted to issue a replacement coupon of equal value. Generated a new, single-use 25% off coupon.</div>
                                    </div>
                                </div>

                                <!-- Identified -->
                                <div class="px-3 py-2.5 bg-amber-50 rounded border border-amber-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Identified</div>
                                        <div class="flex-1 text-xs text-gray-900">The customer is using a coupon that expired yesterday</div>
                                    </div>
                                </div>

                                <!-- More Suggestions -->
                                <div class="px-3 py-2.5 bg-purple-50 rounded border border-violet-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Suggestion</div>
                                        <div class="flex-1 text-xs text-gray-900">Standard procedure for expired coupons is to apologize</div>
                                    </div>
                                </div>

                                <!-- More Identified -->
                                <div class="px-3 py-2.5 bg-amber-50 rounded border border-amber-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Identified</div>
                                        <div class="flex-1 text-xs text-gray-900">Code status: Expired. (Valid through: Sept 30, 2025)</div>
                                    </div>
                                </div>

                                <!-- Lookup -->
                                <div class="px-3 py-2.5 bg-slate-50 rounded border border-indigo-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Lookup</div>
                                        <div class="flex-1 text-xs text-gray-900">Checking validity of coupon code: SAVE25SUMMER.</div>
                                    </div>
                                </div>

                                <!-- Analyzing -->
                                <div class="px-3 py-2.5 bg-teal-50 rounded border border-emerald-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Analyzing</div>
                                        <div class="flex-1 text-xs text-gray-900">Customer query: "coupon not working".</div>
                                    </div>
                                </div>

                                <!-- Context -->
                                <div class="px-3 py-2.5 bg-teal-50 rounded border border-emerald-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Context</div>
                                        <div class="flex-1 text-xs text-gray-900">Customer identified: Emma Parker (High-Value: Gold Member)</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function addChatButtons(buttons) {
            const chatMessages = document.getElementById('chat-messages');
            const buttonDiv = document.createElement('div');
            buttonDiv.className = 'flex justify-start';

            const buttonContainer = document.createElement('div');
            buttonContainer.className = 'space-y-2';

            buttons.forEach((button, index) => {
                const buttonElement = document.createElement('button');
                buttonElement.className = 'block w-full text-left px-4 py-3 bg-white border-2 border-blue-600 hover:bg-blue-50 text-sm transition-colors duration-200';
                buttonElement.style.borderRadius = '4px';

                // Create button content without checkbox icon
                buttonElement.innerHTML = `
                    <span class="text-blue-600 font-medium">${button.text}</span>
                `;

                buttonElement.addEventListener('click', button.action);
                buttonContainer.appendChild(buttonElement);
            });

            buttonDiv.appendChild(buttonContainer);
            chatMessages.appendChild(buttonDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function handleEmmaParkerFlow() {
            console.log('Handling Emma Parker flow for persona:', currentPersona);

            // For Leslie (in-store agent), show Customer 360 lookup instead of approval flow
            if (currentPersona === 'in-store') {
                showCustomer360Lookup();
                return;
            }

            // Original flow for Pierre (customer service)
            console.log('Handling Emma Parker flow');
            showAIThinking();

            setTimeout(() => {
                // Don't hide thinking - it stays in chat with expand/collapse
                addChatMessage("<strong>Approval Needed: Emma Parker</strong><br><br>The AI agent in Emma Parker's live chat requires human approval.<br><br>Please select an action:", 'ai');

                setTimeout(() => {
                    console.log('Adding chat buttons');
                    addChatButtons([
                        { text: "üîç Check approval request", action: showApprovalRequest },
                        { text: "üë§ Check full profile", action: showCustomerProfile }
                    ]);
                }, 500);
            }, 4500); // Adjusted timeout for 4 thinking steps
        }

        function showCustomer360Lookup() {
            console.log('Showing Customer 360 lookup for Leslie');

            // Add customer lookup message
            addChatMessage("Customer Profile Found", 'ai');

            // Show Customer 360 view in the main content
            setTimeout(() => {
                showCustomer360View();
            }, 1000);
        }

        function showCustomer360View() {
            console.log('Displaying Customer 360 view');

            // Get the main content area and replace it with Customer 360 interface
            const mainContent = document.getElementById('main-content');

            // Create Customer 360 interface
            const customer360Html = `
                <div class="flex h-screen" style="height: calc(100vh - 70px);">
                    <!-- Left: Customer 360 Information -->
                    <div class="flex-1 bg-white overflow-auto">
                        <!-- Header with Store Info -->
                        <div class="bg-gray-900 text-white px-6 py-4 flex items-center justify-between">
                            <div class="flex items-center space-x-3">
                                <span class="text-lg font-bold">Treasure Apparel POS</span>
                            </div>
                            <div class="text-right">
                                <div class="text-sm">Store #247 ‚Ä¢ Downtown</div>
                            </div>
                        </div>

                        <div class="p-6">
                            <!-- Customer Header -->
                            <div class="flex items-center space-x-4 mb-6">
                                <div class="w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center text-white text-xl font-semibold">
                                    EP
                                </div>
                                <div class="flex-1">
                                    <h1 class="text-2xl font-bold text-gray-900">Emma Parker</h1>
                                    <p class="text-gray-600">emma.p@email.com ‚Ä¢ (555) 123-4567</p>
                                    <div class="flex items-center space-x-3 mt-2">
                                        <span class="bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-sm font-medium">Gold Member</span>
                                        <span class="bg-green-100 text-green-800 px-2 py-1 rounded text-sm font-medium">Verified ID</span>
                                    </div>
                                </div>
                                <div class="text-right">
                                    <div class="text-sm text-gray-600">Customer Since</div>
                                    <div class="font-semibold">March 2022</div>
                                </div>
                            </div>

                            <!-- Customer Metrics -->
                            <div class="grid grid-cols-4 gap-4 mb-6">
                                <div class="text-center">
                                    <div class="text-2xl font-bold text-teal-600">$2,450</div>
                                    <div class="text-sm text-gray-600">Lifetime Value</div>
                                </div>
                                <div class="text-center">
                                    <div class="text-2xl font-bold text-gray-900">17</div>
                                    <div class="text-sm text-gray-600">Total Orders</div>
                                </div>
                                <div class="text-center">
                                    <div class="text-2xl font-bold text-orange-600">$144</div>
                                    <div class="text-sm text-gray-600">Avg Order</div>
                                </div>
                                <div class="text-center">
                                    <div class="text-2xl font-bold text-blue-600">3 wks</div>
                                    <div class="text-sm text-gray-600">Last Visit</div>
                                </div>
                            </div>

                            <!-- Current Transaction -->
                            <div class="mb-6">
                                <h3 class="font-semibold text-gray-900 mb-3">Current Transaction</h3>
                                <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                                    <div class="flex items-start space-x-3">
                                        <svg class="w-5 h-5 text-yellow-600 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                            <path fill-rule="evenodd" d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z" clip-rule="evenodd" />
                                        </svg>
                                        <div class="flex-1">
                                            <h4 class="font-medium text-gray-900">Exchange Request</h4>
                                            <p class="text-sm text-gray-700 mt-1">
                                                <strong>Item:</strong> The Seaside Linen Dress<br>
                                                <strong>Reason:</strong> Size doesn't fit (M ‚Üí S)<br>
                                                <strong>Original Order:</strong> #987122
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Recent Orders -->
                            <div class="mb-6">
                                <h3 class="font-semibold text-gray-900 mb-3">Recent Orders</h3>
                                <div class="space-y-3">
                                    <div class="flex items-center justify-between py-3 border-b border-gray-100">
                                        <div class="flex-1">
                                            <div class="font-medium text-gray-900">Order #987122</div>
                                            <div class="text-sm text-gray-600">3 weeks ago ‚Ä¢ Online</div>
                                            <div class="text-sm text-gray-600">The Seaside Linen Dress ‚Ä¢ Size M</div>
                                        </div>
                                        <div class="text-right">
                                            <div class="font-semibold text-gray-900">$189.99</div>
                                            <div class="text-sm text-teal-600">Delivered</div>
                                        </div>
                                    </div>
                                    <div class="flex items-center justify-between py-3 border-b border-gray-100">
                                        <div class="flex-1">
                                            <div class="font-medium text-gray-900">Order #985034</div>
                                            <div class="text-sm text-gray-600">6 weeks ago ‚Ä¢ In-store</div>
                                            <div class="text-sm text-gray-600">Autumn Cashmere Sweater ‚Ä¢ Size S</div>
                                        </div>
                                        <div class="text-right">
                                            <div class="font-semibold text-gray-900">$124.50</div>
                                            <div class="text-sm text-green-600">Completed</div>
                                        </div>
                                    </div>
                                    <div class="flex items-center justify-between py-3">
                                        <div class="flex-1">
                                            <div class="font-medium text-gray-900">Order #982156</div>
                                            <div class="text-sm text-gray-600">8 weeks ago ‚Ä¢ Online</div>
                                            <div class="text-sm text-gray-600">Summer Collection Bundle ‚Ä¢ Size M</div>
                                        </div>
                                        <div class="text-right">
                                            <div class="font-semibold text-gray-900">$95.00</div>
                                            <div class="text-sm text-teal-600">Delivered</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Right: AI Signals Panel -->
                    <div class="w-96 bg-gray-50 overflow-auto">
                        <!-- Header with AI Signals -->
                        <div class="bg-gray-900 text-white px-6 py-4 flex items-center justify-between">
                            <div class="flex items-center space-x-3">
                                <div class="flex items-center space-x-3">
                                    <svg class="w-5 h-5 text-blue-400" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z" clip-rule="evenodd" />
                                    </svg>
                                    <span class="text-sm font-medium">AI Signals</span>
                                </div>
                            </div>
                            <div class="text-right">
                                <div class="text-sm">Powered by Treasure Data</div>
                            </div>
                        </div>

                        <div class="p-4">
                            <!-- Next Best Action Card -->
                            <div class="bg-white border border-gray-200 rounded-lg p-4 mb-4">
                                <div class="flex items-center space-x-3 mb-3">
                                    <div class="w-8 h-8 bg-yellow-100 rounded-lg flex items-center justify-center">
                                        <svg class="w-4 h-4 text-yellow-600" fill="currentColor" viewBox="0 0 20 20">
                                            <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03zM12.12 15.12A3 3 0 017 13s.879.5 2.5.5c0-1 .5-4 1.25-4.5.5 1 .786 1.293 1.371 1.879A2.99 2.99 0 0113 13a2.99 2.99 0 01-.879 2.121z" clip-rule="evenodd" />
                                        </svg>
                                    </div>
                                    <div>
                                        <h3 class="font-semibold text-gray-900">Next Best Action</h3>
                                        <p class="text-sm text-gray-600">High-confidence recommendation</p>
                                    </div>
                                </div>

                                <div class="bg-purple-50 border border-purple-200 rounded-lg p-4">
                                    <h4 class="font-semibold text-purple-900 mb-2">Promote Store Credit Card</h4>
                                    <p class="text-sm text-purple-800 mb-3">
                                        <strong>Why now:</strong> Emma is a loyal Gold member with high lifetime value ($2,450). She's making a return and likely browsing for new items.
                                    </p>
                                    <p class="text-sm text-purple-800 mb-3">
                                        <strong>Benefits to highlight:</strong>
                                    </p>
                                    <ul class="text-sm text-purple-800 mb-4 space-y-1">
                                        <li>‚Ä¢ 15% off today's purchase</li>
                                        <li>‚Ä¢ 5% cashback on all future purchases</li>
                                        <li>‚Ä¢ Exclusive early access to sales</li>
                                        <li>‚Ä¢ Free shipping on all orders</li>
                                    </ul>

                                    <div class="bg-gray-50 border border-gray-200 rounded p-3 mb-4">
                                        <div class="flex items-center space-x-3 mb-2">
                                            <svg class="w-4 h-4 text-gray-600" fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" />
                                            </svg>
                                            <span class="text-sm font-medium text-gray-900">Suggested Talk Track</span>
                                        </div>
                                        <p class="text-sm text-gray-700 italic">
                                            "Emma, since you're one of our valued Gold members, I'd love to tell you about our store credit card. You'd get 15% off your purchase today, plus 5% cashback on all future orders. Given how much you shop with us, that could add up to significant savings!"
                                        </p>
                                        <p class="text-xs text-gray-600 mt-2">
                                            <strong>Key points:</strong> Emphasize immediate savings + long-term benefits for frequent shoppers
                                        </p>
                                    </div>

                                    <div class="bg-white border border-gray-200 rounded p-3">
                                        <h5 class="text-sm font-medium text-gray-900 mb-2">Customer Signals</h5>
                                        <div class="space-y-1 text-sm">
                                            <div class="flex items-center space-x-3">
                                                <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                                                <span class="text-gray-700">High purchase frequency (17 orders)</span>
                                            </div>
                                            <div class="flex items-center space-x-3">
                                                <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                                                <span class="text-gray-700">Above-average order value ($144)</span>
                                            </div>
                                            <div class="flex items-center space-x-3">
                                                <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                                                <span class="text-gray-700">No existing store credit card</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            mainContent.innerHTML = customer360Html;
        }

        function showApprovalRequest() {
            console.log('Show approval request clicked - Starting Scene 1');

            // Find the elements
            const welcomeState = document.getElementById('welcome-state');
            const conversationView = document.getElementById('conversation-view');
            const customerProfileView = document.getElementById('customer-profile-view');

            console.log('Elements found:', {
                welcomeState: !!welcomeState,
                conversationView: !!conversationView,
                customerProfileView: !!customerProfileView
            });

            // Hide all other views
            if (welcomeState) {
                welcomeState.classList.add('hidden');
            }
            if (customerProfileView) {
                customerProfileView.classList.add('hidden');
            }

            // Show loading state in right column
            showRightColumnLoading();

            // Add thinking process for loading conversation
            showLoadingThinking();

            // Load Scene 1 directly after thinking process
            setTimeout(() => {
                console.log('Loading Scene 1 after timeout...');
                loadScene1();
                if (conversationView) {
                    conversationView.classList.remove('hidden');
                    console.log('Conversation view should now be visible');
                } else {
                    console.error('Conversation view element not found when trying to show it');
                }
            }, 3000);
        }

        function loadScene1() {
            console.log('Loading Scene 1...');

            // Create the Scene 1 content directly in the conversation view
            const conversationView = document.getElementById('conversation-view');
            conversationView.innerHTML = `
                <div class="h-full flex justify-center">
                    <!-- Left Column: Emma Parker Chat Window -->
                    <div class="mr-6" style="flex: 0 0 calc((100% - 25rem) * 0.9);">
                        <div class="bg-white rounded-lg border border-gray-200 h-full flex flex-col">
                            <!-- Customer Header -->
                            <div class="border-b border-gray-200 px-4 py-3">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-3">
                                        <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face&auto=format"
                                             alt="Emma Parker"
                                             class="w-8 h-8 rounded-full object-cover border border-gray-200">
                                        <div>
                                            <div class="flex items-center space-x-3">
                                                <span class="font-medium">Emma Parker</span>
                                                <span class="text-sm bg-gray-100 px-2 py-1 rounded">Web</span>
                                            </div>
                                            <div class="flex items-center space-x-3 text-sm text-gray-600">
                                                <span>emma.parker@email.com</span>
                                                <span>‚Ä¢</span>
                                                <span class="bg-green-100 text-green-800 px-2 py-1 rounded text-xs" id="demo-conversation-status">Active</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="flex items-center space-x-3">
                                        <button class="p-2 hover:bg-gray-100 rounded">üìû</button>
                                        <button class="p-2 hover:bg-gray-100 rounded">üé•</button>
                                        <button class="p-2 hover:bg-gray-100 rounded">üë•</button>
                                        <button class="p-2 hover:bg-gray-100 rounded">‚ãØ</button>
                                    </div>
                                </div>
                                <div class="mt-2 text-sm text-gray-600">
                                    Conversation started 6/15/2023 ‚Ä¢ 5 messages
                                </div>
                            </div>

                            <!-- AI Action Approval Request -->
                            <div class="border-t border-b border-gray-200 p-4" style="background-color: #FDE7E9;" id="demo-approval-request">
                                <div class="flex items-center space-x-3 mb-3">
                                    <span class="text-purple-600">ü§ñ</span>
                                    <span class="font-semibold" style="color: #471EA3;">AI Action Approval Request</span>
                                </div>

                                <!-- Two-column layout -->
                                <div class="flex gap-3 mb-4">
                                    <!-- Left Column: Main Request (2/3 width) -->
                                    <div class="flex-1 w-2/3">
                                        <div class="bg-white border border-purple-200 rounded-lg p-4 h-full">
                                            <div class="mb-3">
                                                <h4 class="font-semibold text-gray-900 text-lg">Issue $15 goodwill credit</h4>
                                                <p class="text-sm text-gray-600">(exceeds autonomy threshold of $10)</p>
                                            </div>

                                            <!-- Confidence -->
                                            <div class="text-sm text-purple-700 font-medium mb-3">82% confidence</div>

                                            <!-- Quick Rationale -->
                                            <div class="text-xs text-gray-600 space-y-1">
                                                <div>‚Ä¢ High LTV customer (3+ years, $2,400 total)</div>
                                                <div>‚Ä¢ Gold member tier with excellent history</div>
                                                <div>‚Ä¢ Sentiment recovering from frustrated</div>
                                            </div>

                                            <!-- Show more reasons link -->
                                            <div class="mt-1">
                                                <span class="text-xs text-blue-600 hover:text-blue-700 cursor-pointer">Show 4 more reasons</span>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Right Column: Automatically Completed (1/3 width) -->
                                    <div class="w-1/3">
                                        <div class="h-full">
                                            <div class="flex items-center space-x-1 mb-2">
                                                <span class="text-green-700 text-sm">‚úÖ</span>
                                                <span class="text-sm font-medium text-green-700">Automatically completed</span>
                                            </div>
                                            <div class="bg-green-50 border border-green-700 rounded p-2">
                                                <div class="text-xs text-gray-900">
                                                    Expired coupon reissued
                                                </div>
                                                <div class="text-xs text-gray-500 mt-1">(policy KB-COUP-101)</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Action Buttons -->
                                <div class="flex items-center justify-between space-x-3">
                                    <button class="bg-white border border-gray-300 text-gray-700 px-3 py-2 rounded text-sm font-medium hover:bg-gray-50 transition-colors">
                                        Check Details
                                    </button>
                                    <div class="flex space-x-3">
                                        <button class="bg-white border border-gray-300 text-gray-700 px-3 py-2 rounded text-sm font-medium hover:bg-gray-50 transition-colors">
                                            Deny & take over chat
                                        </button>
                                        <button class="bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded text-sm font-medium transition-colors" onclick="loadEmmaParkerScene2()">
                                            Approve $15 credit
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- Chat Messages - Scene 1: First 3 messages only -->
                            <div class="flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50" id="demo-chat-messages">
                                <!-- Emma's first message -->
                                <div class="flex items-start space-x-3">
                                    <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face&auto=format"
                                         alt="Emma Parker"
                                         class="w-8 h-8 rounded-full object-cover border border-gray-200 flex-shrink-0">
                                    <div class="flex-1">
                                        <div class="flex items-center space-x-3 mb-1">
                                            <span class="font-medium text-sm">Emma Parker</span>
                                            <span class="text-xs text-gray-500">15 min ago</span>
                                        </div>
                                        <div class="bg-white border border-gray-200 rounded-lg p-3 max-w-md">
                                            Hi, I'm trying to use the coupon code I received, but it isn't working at checkout.
                                        </div>
                                    </div>
                                </div>

                                <!-- AI Agent response -->
                                <div class="flex items-start space-x-3 justify-end">
                                    <div class="flex-1 flex justify-end">
                                        <div class="max-w-md">
                                            <div class="flex items-center space-x-3 mb-1 justify-end">
                                                <span class="text-xs text-gray-500">10 min ago</span>
                                                <span class="font-medium text-sm">Alex (AI agent)</span>
                                            </div>
                                            <div class="bg-blue-500 text-white rounded-lg p-3">
                                                I'm sorry about that, Emma. I see the coupon you're using has expired. Let me take care of this for you ‚Äî I've just generated a brand-new 25% off coupon you can use right away: TREASURE25.
                                            </div>
                                            <div class="text-xs text-green-600 mt-1 text-right">‚úì Delivered</div>
                                        </div>
                                    </div>
                                    <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0">
                                        <span class="text-white text-xs">AI</span>
                                    </div>
                                </div>

                                <!-- Emma's response -->
                                <div class="flex items-start space-x-3">
                                    <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face&auto=format"
                                         alt="Emma Parker"
                                         class="w-8 h-8 rounded-full object-cover border border-gray-200 flex-shrink-0">
                                    <div class="flex-1">
                                        <div class="flex items-center space-x-3 mb-1">
                                            <span class="font-medium text-sm">Emma Parker</span>
                                            <span class="text-xs text-gray-500">5 min ago</span>
                                        </div>
                                        <div class="bg-white border border-gray-200 rounded-lg p-3 max-w-md">
                                            Oh great, thank you!
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Right Column: Customer Lens & AI Thought Process -->
                    <div class="w-96 flex flex-col bg-gray-50 h-full py-4">
                        <!-- Customer Lens Card -->
                        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-4 ml-4 mr-4 flex-shrink-0">
                            <h3 class="font-semibold text-gray-900 mb-4">Customer Lens</h3>

                            <div class="flex items-center space-x-3 mb-4">
                                <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face&auto=format"
                                     alt="Emma Parker"
                                     class="w-10 h-10 rounded-full object-cover border-2 border-gray-200">
                                <div>
                                    <div class="font-medium text-gray-900">Emma Parker</div>
                                    <div class="text-sm text-gray-600">emma.p@email.com</div>
                                </div>
                            </div>

                            <div class="space-y-2 text-sm">
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Loyalty Status:</span>
                                    <span class="bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs font-medium text-right">Gold Member</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Lifetime Value:</span>
                                    <span class="font-medium text-right">$2,450</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Last Purchase:</span>
                                    <span class="text-xs text-right">
                                        Order #987122<br>
                                        <span class="text-gray-500">3 weeks ago</span>
                                    </span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Recent Activity:</span>
                                    <span class="text-xs text-right">
                                        Viewed "Autumn Collection"<br>
                                        <span class="text-gray-500">2 days ago</span>
                                    </span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Active Offers:</span>
                                    <span class="text-xs text-right" id="demo-active-offers"><span class="text-green-600 font-medium">TREASURE25</span></span>
                                </div>
                            </div>
                        </div>

                        <!-- 24px space between cards -->
                        <div style="height: 24px;"></div>

                        <!-- AI Thought Process Card -->
                        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-4 ml-4 mr-4 flex-1 flex flex-col min-h-0">
                            <h3 class="font-semibold text-gray-900 mb-4 flex-shrink-0">AI Thought Process</h3>

                            <div class="flex flex-col gap-3 overflow-y-auto min-h-0 flex-1 pr-2" id="demo-thought-process">
                                <!-- Scene 1: Flag at top, everything else below -->
                                <div class="px-3 py-2.5 bg-red-50 rounded border border-red-200" id="demo-flag-message">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Flag</div>
                                        <div class="flex-1 text-xs text-gray-900">Goodwill credit exceeds AI autonomy limits. Requires human approval</div>
                                    </div>
                                </div>

                                <!-- All items underneath the flag -->
                                <div class="px-3 py-2.5 bg-purple-50 rounded border border-violet-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Suggestion</div>
                                        <div class="flex-1 text-xs text-gray-900">Goodwill Gesture Recommendation: Based on customer's high lifetime value and recent browsing activity, offer a $15 credit as a special apology</div>
                                    </div>
                                </div>

                                <div class="px-3 py-2.5 bg-purple-50 rounded border border-violet-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Suggestion</div>
                                        <div class="flex-1 text-xs text-gray-900">Exception for Gold Members: Permitted to issue a replacement coupon of equal value. Generated a new, single-use 25% off coupon.</div>
                                    </div>
                                </div>

                                <div class="px-3 py-2.5 bg-amber-50 rounded border border-amber-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Identified</div>
                                        <div class="flex-1 text-xs text-gray-900">The customer is using a coupon that expired yesterday</div>
                                    </div>
                                </div>

                                <div class="px-3 py-2.5 bg-purple-50 rounded border border-violet-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Suggestion</div>
                                        <div class="flex-1 text-xs text-gray-900">Standard procedure for expired coupons is to apologize</div>
                                    </div>
                                </div>

                                <div class="px-3 py-2.5 bg-amber-50 rounded border border-amber-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Identified</div>
                                        <div class="flex-1 text-xs text-gray-900">Code status: Expired. (Valid through: Sept 30, 2025)</div>
                                    </div>
                                </div>

                                <div class="px-3 py-2.5 bg-slate-50 rounded border border-indigo-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Lookup</div>
                                        <div class="flex-1 text-xs text-gray-900">Checking validity of coupon code: SAVE25SUMMER.</div>
                                    </div>
                                </div>

                                <div class="px-3 py-2.5 bg-teal-50 rounded border border-emerald-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Analyzing</div>
                                        <div class="flex-1 text-xs text-gray-900">Customer query: "coupon not working".</div>
                                    </div>
                                </div>

                                <div class="px-3 py-2.5 bg-teal-50 rounded border border-emerald-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Context</div>
                                        <div class="flex-1 text-xs text-gray-900">Customer identified: Emma Parker (High-Value: Gold Member)</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function setupScene1AIThoughtProcess() {
            const thoughtProcess = document.getElementById('ai-thought-process');
            thoughtProcess.innerHTML = `
                <!-- Flag at the top -->
                <div class="px-3 py-2.5 bg-red-50 rounded border border-red-200" id="flag-message">
                    <div class="flex items-start gap-2">
                        <div class="w-16 text-xs font-semibold text-gray-900">Flag</div>
                        <div class="flex-1 text-xs text-gray-900">Goodwill credit exceeds AI autonomy limits. Requires human approval</div>
                    </div>
                </div>

                <!-- All items underneath the flag -->
                <div class="px-3 py-2.5 bg-purple-50 rounded border border-violet-200">
                    <div class="flex items-start gap-2">
                        <div class="w-16 text-xs font-semibold text-gray-900">Suggestion</div>
                        <div class="flex-1 text-xs text-gray-900">Goodwill Gesture Recommendation: Based on customer's high lifetime value and recent browsing activity, offer a $15 credit as a special apology</div>
                    </div>
                </div>

                <div class="px-3 py-2.5 bg-purple-50 rounded border border-violet-200">
                    <div class="flex items-start gap-2">
                        <div class="w-16 text-xs font-semibold text-gray-900">Suggestion</div>
                        <div class="flex-1 text-xs text-gray-900">Exception for Gold Members: Permitted to issue a replacement coupon of equal value. Generated a new, single-use 25% off coupon.</div>
                    </div>
                </div>

                <div class="px-3 py-2.5 bg-amber-50 rounded border border-amber-200">
                    <div class="flex items-start gap-2">
                        <div class="w-16 text-xs font-semibold text-gray-900">Identified</div>
                        <div class="flex-1 text-xs text-gray-900">The customer is using a coupon that expired yesterday</div>
                    </div>
                </div>

                <div class="px-3 py-2.5 bg-purple-50 rounded border border-violet-200">
                    <div class="flex items-start gap-2">
                        <div class="w-16 text-xs font-semibold text-gray-900">Suggestion</div>
                        <div class="flex-1 text-xs text-gray-900">Standard procedure for expired coupons is to apologize</div>
                    </div>
                </div>

                <div class="px-3 py-2.5 bg-amber-50 rounded border border-amber-200">
                    <div class="flex items-start gap-2">
                        <div class="w-16 text-xs font-semibold text-gray-900">Identified</div>
                        <div class="flex-1 text-xs text-gray-900">Code status: Expired. (Valid through: Sept 30, 2025)</div>
                    </div>
                </div>

                <div class="px-3 py-2.5 bg-slate-50 rounded border border-indigo-200">
                    <div class="flex items-start gap-2">
                        <div class="w-16 text-xs font-semibold text-gray-900">Lookup</div>
                        <div class="flex-1 text-xs text-gray-900">Checking validity of coupon code: SAVE25SUMMER.</div>
                    </div>
                </div>

                <div class="px-3 py-2.5 bg-teal-50 rounded border border-emerald-200">
                    <div class="flex items-start gap-2">
                        <div class="w-16 text-xs font-semibold text-gray-900">Analyzing</div>
                        <div class="flex-1 text-xs text-gray-900">Customer query: "coupon not working".</div>
                    </div>
                </div>

                <div class="px-3 py-2.5 bg-teal-50 rounded border border-emerald-200">
                    <div class="flex items-start gap-2">
                        <div class="w-16 text-xs font-semibold text-gray-900">Context</div>
                        <div class="flex-1 text-xs text-gray-900">Customer identified: Emma Parker (High-Value: Gold Member)</div>
                    </div>
                </div>
            `;
        }

        function loadScene2() {
            console.log('Starting Scene 2: Approve button clicked');

            // Animate AI Action Approval Request section disappearing
            const approvalRequest = document.getElementById('demo-approval-request');
            if (approvalRequest) {
                // Add transition and fade out
                approvalRequest.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                approvalRequest.style.opacity = '0';
                approvalRequest.style.transform = 'translateY(-10px)';

                // Hide completely after animation
                setTimeout(() => {
                    approvalRequest.style.display = 'none';
                    // Start the AI thought process animations after approval section disappears
                    animateScene2Items();
                }, 500);
            } else {
                // Fallback if element not found
                animateScene2Items();
            }
        }

        function animateScene2Items() {
            const thoughtProcessContainer = document.getElementById('demo-thought-process');

            // Add Status message first (at the very top)
            setTimeout(() => {
                const statusItem = `
                    <div class="px-3 py-2.5 bg-purple-50 rounded border border-violet-200" style="opacity: 0; transform: translateY(-10px); transition: all 0.5s ease;">
                        <div class="flex items-start gap-2">
                            <div class="w-16 text-xs font-semibold text-gray-900">Status</div>
                            <div class="flex-1 text-xs text-gray-900">Human Agent Sarah Miller has approved the proposed actions</div>
                        </div>
                    </div>
                `;
                thoughtProcessContainer.insertAdjacentHTML('afterbegin', statusItem);
                const statusElement = thoughtProcessContainer.firstElementChild;
                setTimeout(() => {
                    statusElement.style.opacity = '1';
                    statusElement.style.transform = 'translateY(0)';
                }, 100);
            }, 300);

            // Add first Executing message (newest at top)
            setTimeout(() => {
                const executingItem1 = `
                    <div class="px-3 py-2.5 bg-green-50 rounded border border-green-800" style="opacity: 0; transform: translateY(-10px); transition: all 0.5s ease;">
                        <div class="flex items-start gap-2">
                            <div class="w-16 text-xs font-semibold text-gray-900">Executing</div>
                            <div class="flex-1 text-xs text-gray-900">Generating new coupon code... Done</div>
                        </div>
                    </div>
                `;
                thoughtProcessContainer.insertAdjacentHTML('afterbegin', executingItem1);
                const execElement1 = thoughtProcessContainer.firstElementChild;
                setTimeout(() => {
                    execElement1.style.opacity = '1';
                    execElement1.style.transform = 'translateY(0)';
                }, 100);
            }, 900);

            // Add second Executing message (newest at top)
            setTimeout(() => {
                const executingItem2 = `
                    <div class="px-3 py-2.5 bg-green-50 rounded border border-green-800" style="opacity: 0; transform: translateY(-10px); transition: all 0.5s ease;">
                        <div class="flex items-start gap-2">
                            <div class="w-16 text-xs font-semibold text-gray-900">Executing</div>
                            <div class="flex-1 text-xs text-gray-900">Applying $15 credit to account... Done</div>
                        </div>
                    </div>
                `;
                thoughtProcessContainer.insertAdjacentHTML('afterbegin', executingItem2);
                const execElement2 = thoughtProcessContainer.firstElementChild;
                setTimeout(() => {
                    execElement2.style.opacity = '1';
                    execElement2.style.transform = 'translateY(0)';

                    // Add 1 second buffer before updating Active Offers
                    setTimeout(() => {
                        updateActiveOffers();

                        // Add 1.5 second buffer before starting Scene 3 after active offers are updated
                        setTimeout(() => {
                            loadScene3();
                        }, 1500);
                    }, 1000);
                }, 100);
            }, 1500);
        }

        function updateActiveOffers() {
            console.log('Updating Active Offers...');
            const activeOffersElement = document.getElementById('demo-active-offers');
            if (activeOffersElement) {
                activeOffersElement.style.transition = 'all 0.3s ease';
                activeOffersElement.style.opacity = '0.5';

                setTimeout(() => {
                    activeOffersElement.innerHTML = `
                        <div class="text-xs space-y-1">
                            <div class="text-green-600 font-medium">TREASURE25</div>
                            <div class="text-blue-600 font-medium">$15 Account Credit</div>
                        </div>
                    `;
                    activeOffersElement.style.opacity = '1';
                }, 200);
            }
        }

        function loadScene3() {
            console.log('Starting Scene 3: Loading final chat messages');

            const chatMessages = document.getElementById('demo-chat-messages');

            // Add Alex (AI agent) "Since you're a Gold Member..." message
            setTimeout(() => {
                const aiSecondMessage = `
                    <div class="flex items-start space-x-3 justify-end" style="opacity: 0; transform: translateY(10px); transition: all 0.5s ease;">
                        <div class="flex-1 flex justify-end">
                            <div class="max-w-md">
                                <div class="flex items-center space-x-3 mb-1 justify-end">
                                    <span class="text-xs text-gray-500">4 min ago</span>
                                    <span class="font-medium text-sm">Alex (AI agent)</span>
                                </div>
                                <div class="bg-blue-500 text-white rounded-lg p-3">
                                    Since you're a Gold Member and a loyal customer, I've also added a $15 credit to your account as a goodwill gesture. You'll see it automatically applied to your next purchase.
                                </div>
                                <div class="text-xs text-green-600 mt-1 text-right">‚úì Delivered</div>
                            </div>
                        </div>
                        <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0">
                            <span class="text-white text-xs">AI</span>
                        </div>
                    </div>
                `;

                chatMessages.insertAdjacentHTML('beforeend', aiSecondMessage);
                const aiElement = chatMessages.lastElementChild;
                setTimeout(() => {
                    aiElement.style.opacity = '1';
                    aiElement.style.transform = 'translateY(0)';
                }, 100);
            }, 400);

            // Add Emma's typing indicator first (1.5 second buffer)
            setTimeout(() => {
                const typingIndicator = `
                    <div class="flex items-start space-x-3" id="emma-typing" style="opacity: 0; transform: translateY(10px); transition: all 0.5s ease;">
                        <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face&auto=format"
                             alt="Emma Parker"
                             class="w-8 h-8 rounded-full object-cover border border-gray-200 flex-shrink-0">
                        <div class="flex-1">
                            <div class="flex items-center space-x-3 mb-1">
                                <span class="font-medium text-sm">Emma Parker</span>
                                <span class="text-xs text-gray-500">is typing...</span>
                            </div>
                            <div class="bg-white border border-gray-200 rounded-lg p-3 max-w-md">
                                <div class="flex space-x-1">
                                    <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce"></div>
                                    <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style="animation-delay: 0.1s;"></div>
                                    <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style="animation-delay: 0.2s;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;

                chatMessages.insertAdjacentHTML('beforeend', typingIndicator);
                const typingElement = chatMessages.lastElementChild;
                setTimeout(() => {
                    typingElement.style.opacity = '1';
                    typingElement.style.transform = 'translateY(0)';
                }, 100);

                // Replace typing indicator with actual message after 3 seconds
                setTimeout(() => {
                    typingElement.remove();

                    const emmaFinalMessage = `
                        <div class="flex items-start space-x-3" style="opacity: 0; transform: translateY(10px); transition: all 0.5s ease;">
                            <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face&auto=format"
                                 alt="Emma Parker"
                                 class="w-8 h-8 rounded-full object-cover border border-gray-200 flex-shrink-0">
                            <div class="flex-1">
                                <div class="flex items-center space-x-3 mb-1">
                                    <span class="font-medium text-sm">Emma Parker</span>
                                    <span class="text-xs text-gray-500">2 min ago</span>
                                </div>
                                <div class="bg-white border border-gray-200 rounded-lg p-3 max-w-md">
                                    Wow, that's really thoughtful. Appreciate the quick help!
                                </div>
                            </div>
                        </div>
                    `;

                    chatMessages.insertAdjacentHTML('beforeend', emmaFinalMessage);
                    const emmaElement = chatMessages.lastElementChild;
                    setTimeout(() => {
                        emmaElement.style.opacity = '1';
                        emmaElement.style.transform = 'translateY(0)';

                        // Add chat closed message after Emma's message appears
                        setTimeout(() => {
                            addChatClosedMessage();

                            // Update conversation status to Complete after chat closed message
                            setTimeout(() => {
                                updateConversationStatus();
                            }, 1500);
                        }, 1500);
                    }, 100);

                    console.log('Demo flow complete!');
                }, 3000);
            }, 1500);
        }

        function addChatClosedMessage() {
            const chatMessages = document.getElementById('demo-chat-messages');

            const chatClosedMessage = `
                <div class="flex justify-center" style="opacity: 0; transform: translateY(10px); transition: all 0.5s ease; margin-top: 40px;">
                    <div class="bg-gray-100 text-gray-600 px-4 py-2 rounded-full text-sm">
                        üí¨ Chat has been closed
                    </div>
                </div>
            `;

            chatMessages.insertAdjacentHTML('beforeend', chatClosedMessage);
            const closedElement = chatMessages.lastElementChild;
            setTimeout(() => {
                closedElement.style.opacity = '1';
                closedElement.style.transform = 'translateY(0)';
            }, 100);
        }

        function updateConversationStatus() {
            const statusElement = document.getElementById('demo-conversation-status');
            if (statusElement) {
                statusElement.textContent = 'Complete';
                statusElement.className = 'bg-gray-200 text-gray-700 px-2 py-1 rounded text-xs';
            }
        }

        function showRightColumnLoading() {
            const conversationView = document.getElementById('conversation-view');

            // Show loading state
            conversationView.innerHTML = `
                <div class="h-full flex items-center justify-center bg-gray-50">
                    <div class="text-center">
                        <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                            <svg class="w-6 h-6 text-blue-600 animate-spin" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                            </svg>
                        </div>
                        <h3 class="text-lg font-semibold text-gray-900 mb-2">Loading Conversation</h3>
                        <p class="text-gray-600">Accessing Emma Parker's live chat session...</p>
                    </div>
                </div>
            `;

            conversationView.classList.remove('hidden');
        }

        function showCustomerProfile() {
            // Hide welcome state and show customer profile
            document.getElementById('welcome-state').classList.add('hidden');
            document.getElementById('customer-profile-view').classList.remove('hidden');

            // Add response to chat
            addChatMessage("Loading Emma Parker's customer profile...", 'ai');
        }

        // loadConversationView function removed


        // Initialize chat functionality
        function initChatInterface() {
            const voiceSubmitBtn = document.getElementById('voice-submit-btn');
            const aiTextarea = document.getElementById('ai-textarea');
            const chatInput = document.getElementById('chat-input');
            const chatSendBtn = document.getElementById('chat-send-btn');
            const sidebar = document.getElementById('expanded-nav');

            // Handle home page chat submission
            if (voiceSubmitBtn && aiTextarea) {
                console.log('Found voice submit button and textarea, adding event listener');
                voiceSubmitBtn.addEventListener('click', function() {
                    console.log('Voice submit button clicked!');
                    const query = aiTextarea.value.trim();
                    console.log('Voice submit clicked with query:', query);
                    if (query) {
                        console.log('Starting chat interface...');
                        startChatInterface(query);
                    } else {
                        console.log('No query entered');
                    }
                });
                aiTextarea.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter' && !e.shiftKey) {
                        e.preventDefault();
                        const query = this.value.trim();
                        if (query) {
                            startChatInterface(query);
                        }
                    }
                });
            } else {
                console.log('Could not find voice submit button or textarea elements');
                console.log('voiceSubmitBtn:', voiceSubmitBtn);
                console.log('aiTextarea:', aiTextarea);
            }

            // Handle chat interface input
            if (chatInput && chatSendBtn) {
                chatSendBtn.addEventListener('click', function() {
                    const message = chatInput.value.trim();
                    if (message) {
                        addChatMessage(message, 'user');
                        chatInput.value = '';
                    }
                });

                chatInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        const message = this.value.trim();
                        if (message) {
                            addChatMessage(message, 'user');
                            this.value = '';
                        }
                    }
                });
            }

            // Sidebar hover functionality
            if (sidebar) {
                sidebar.addEventListener('mouseenter', function() {
                    if (isInChatMode || isCustomer360Mode) {
                        this.classList.remove('sidebar-collapsed');
                        this.style.width = ''; // Remove inline style to allow expansion
                        console.log('Sidebar expanded on hover (chat mode:', isInChatMode, ', customer 360 mode:', isCustomer360Mode, ')');
                    }
                });

                sidebar.addEventListener('mouseleave', function() {
                    if (isInChatMode || isCustomer360Mode) {
                        this.classList.add('sidebar-collapsed');
                        this.style.width = '60px'; // Force collapse
                        console.log('Sidebar collapsed on mouse leave (chat mode:', isInChatMode, ', customer 360 mode:', isCustomer360Mode, ')');
                    }
                });
            }

            // Handle Emma Parker's Check Details button with retry mechanism
            function attachEmmaParkerListener() {
                const emmaCheckDetailsBtn = document.getElementById('emma-check-details-btn');
                if (emmaCheckDetailsBtn) {
                    console.log('Found Emma Parker Check Details button, adding event listener');
                    emmaCheckDetailsBtn.addEventListener('click', function(e) {
                        e.preventDefault();
                        console.log('Emma Parker Check Details button clicked!');
                        // Start the new demo flow
                        startEmmaParkerDemoFlow();
                    });
                } else {
                    console.log('Emma Parker Check Details button not found, retrying...');
                    // Retry after a short delay
                    setTimeout(attachEmmaParkerListener, 100);
                }
            }
            attachEmmaParkerListener();

            // Also add event delegation as fallback
            document.addEventListener('click', function(e) {
                if (e.target.closest('#emma-check-details-btn')) {
                    e.preventDefault();
                    console.log('Emma Parker Check Details button clicked via delegation!');
                    startEmmaParkerDemoFlow();
                }
            });


        }


        // URL routing function
        function handleRouting() {
            const path = window.location.hash.substring(1) || window.location.pathname;

            if (path === '/chat' || path === 'chat') {
                // Direct access to chat interface - load approval state with Emma Parker conversation
                showPage('chat-interface');

                // Enable chat mode and collapse sidebar
                isInChatMode = true;
                const sidebar = document.getElementById('expanded-nav');
                if (sidebar) {
                    sidebar.classList.add('sidebar-collapsed');
                    sidebar.style.width = '60px';
                    console.log('Direct URL access: Sidebar collapsed for chat mode');
                }

                // Set up the approval state (left column only, right column stays empty)
                setTimeout(() => {
                    // Left column: Add the approval needed message and buttons
                    addChatMessage("<strong>Approval Needed: Emma Parker</strong><br><br>The AI agent in Emma Parker's live chat requires human approval.<br><br>Please select an action:", 'ai');

                    setTimeout(() => {
                        addChatButtons([
                            { text: "üîç Check approval request", action: showApprovalRequest },
                            { text: "üë§ Check full profile", action: showCustomerProfile }
                        ]);
                    }, 500);

                    // Right column: Keep welcome state visible (empty state)
                    const welcomeState = document.getElementById('welcome-state');
                    const conversationView = document.getElementById('conversation-view');
                    const customerProfileView = document.getElementById('customer-profile-view');

                    if (welcomeState) {
                        welcomeState.classList.remove('hidden');
                    }
                    if (conversationView) {
                        conversationView.classList.add('hidden');
                    }
                    if (customerProfileView) {
                        customerProfileView.classList.add('hidden');
                    }
                }, 100);
            } else {
                // Default to home page
                showPage('home');
                initAnimatedPlaceholder();

                // Ensure we're not in chat mode
                isInChatMode = false;
                const sidebar = document.getElementById('expanded-nav');
                if (sidebar) {
                    sidebar.classList.remove('sidebar-collapsed');
                    sidebar.style.width = '';
                }
            }
        }

        // Update URL when navigating to chat
        function goToChat() {
            window.location.hash = 'chat';
            handleRouting();
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            handleRouting();
            initChatInterface();
        });

        // Handle browser back/forward buttons
        window.addEventListener('hashchange', handleRouting);

        // AI Settings Navigation Functions
        function showAISubPage(subPageId) {
            // Hide all AI sub-pages
            document.querySelectorAll('.ai-subpage').forEach(page => {
                page.classList.add('hidden');
            });

            // Remove active state from all nav items
            document.querySelectorAll('.ai-nav-subitem').forEach(item => {
                item.classList.remove('text-blue-600', 'bg-blue-50', 'font-medium');
                item.classList.add('text-gray-600');
            });

            // Show selected sub-page
            const targetPage = document.getElementById(`ai-${subPageId}-page`);
            if (targetPage) {
                targetPage.classList.remove('hidden');
            }

            // Highlight active nav item if it's a train subsection
            if (['content', 'guidance', 'tasks'].includes(subPageId)) {
                const activeNavItem = Array.from(document.querySelectorAll('.ai-nav-subitem')).find(item =>
                    item.onclick?.toString().includes(`showAISubPage('${subPageId}')`)
                );
                if (activeNavItem) {
                    activeNavItem.classList.remove('text-gray-600');
                    activeNavItem.classList.add('text-blue-600', 'bg-blue-50', 'font-medium');
                }

                // Ensure train section is expanded
                const trainSubsections = document.getElementById('train-subsections');
                if (trainSubsections) {
                    trainSubsections.classList.remove('hidden');
                }
            }
        }

        function toggleTrainSection() {
            const trainSubsections = document.getElementById('train-subsections');
            const chevron = document.getElementById('train-chevron');

            if (trainSubsections) {
                trainSubsections.classList.toggle('hidden');

                // Rotate chevron
                if (chevron) {
                    if (trainSubsections.classList.contains('hidden')) {
                        chevron.style.transform = 'rotate(0deg)';
                    } else {
                        chevron.style.transform = 'rotate(180deg)';
                    }
                }
            }
        }

        // Initialize AI Settings page - show content by default and expand train section
        document.addEventListener('DOMContentLoaded', function() {
            // Show content page by default when AI Settings is opened
            setTimeout(() => {
                const trainSubsections = document.getElementById('train-subsections');
                if (trainSubsections) {
                    trainSubsections.classList.remove('hidden');
                    const chevron = document.getElementById('train-chevron');
                    if (chevron) {
                        chevron.style.transform = 'rotate(180deg)';
                    }
                }
            }, 100);
        });

        // Profile Selector Functions
        function toggleProfileDropdown() {
            const dropdown = document.getElementById('profile-dropdown');
            const chevron = document.getElementById('dropdown-chevron');

            if (dropdown.classList.contains('hidden')) {
                dropdown.classList.remove('hidden');
                chevron.style.transform = 'rotate(180deg)';
            } else {
                dropdown.classList.add('hidden');
                chevron.style.transform = 'rotate(0deg)';
            }
        }

        // Persona data structure
        const personas = {
            'customer-service': {
                name: 'Pierre',
                role: 'Customer Service Agent',
                avatar: 'https://images.unsplash.com/photo-1560250097-0b93528c311a?w=150&h=150&fit=crop&crop=face&auto=format',
                borderColor: 'border-blue-200'
            },
            'in-store': {
                name: 'Leslie',
                role: 'In-Store Agent',
                avatar: 'https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?w=150&h=150&fit=crop&crop=face&auto=format',
                borderColor: 'border-green-200'
            },
            'admin': {
                name: 'Steve',
                role: 'Admin',
                avatar: 'https://images.unsplash.com/photo-1519085360753-af0119f7cbe7?w=150&h=150&fit=crop&crop=face&auto=format',
                borderColor: 'border-orange-200'
            }
        };

        // Global variable to track current persona
        let currentPersona = 'customer-service'; // Default to Pierre

        function resetMainContentToDefault() {
            // Reset main content to its default state, removing any custom views like Customer 360
            const mainContent = document.getElementById('main-content');
            if (mainContent) {
                // Check if we're in a special view state and reset if needed
                const hasCustomContent = mainContent.innerHTML.includes('Customer 360') ||
                                       mainContent.innerHTML.includes('AI Signals') ||
                                       mainContent.innerHTML.includes('Treasure Apparel POS');

                if (hasCustomContent) {
                    console.log('Resetting main content from special view');
                    // This will be reset by showPage() and updateHomePageContent()
                    // The actual content restoration will happen through the normal page navigation
                }
            }

            // Hide the home page Customer 360 response area if it's visible
            const homeResponseArea = document.getElementById('home-response-area');
            if (homeResponseArea) {
                homeResponseArea.classList.add('hidden');
                console.log('Hidden home page Customer 360 response area');
            }

            // Clear the home page textarea if it has content
            const homeTextarea = document.getElementById('ai-textarea');
            if (homeTextarea && homeTextarea.value.trim()) {
                homeTextarea.value = '';
                console.log('Cleared home page textarea');
            }

            // Reset Customer 360 mode
            isCustomer360Mode = false;

            // Hide Pierre's AI response area if visible
            const pierreResponseArea = document.getElementById('pierre-ai-response');
            if (pierreResponseArea) {
                pierreResponseArea.classList.add('hidden');
                console.log('Hidden Pierre AI response area');
            }

            // Reset chat interface if coming from Leslie's Customer 360 chat
            if (isInChatMode) {
                isInChatMode = false;
                // Clear chat messages
                const chatMessages = document.getElementById('chat-messages');
                if (chatMessages) {
                    chatMessages.innerHTML = '';
                }
                console.log('Reset chat interface state');
            }

            // Restore the sidebar to expanded state when resetting
            const sidebar = document.getElementById('expanded-nav');
            if (sidebar && sidebar.classList.contains('sidebar-collapsed')) {
                console.log('Restoring sidebar to expanded state');
                sidebar.classList.remove('sidebar-collapsed');
                sidebar.style.width = ''; // Remove inline width to restore default
                console.log('Sidebar restored to expanded state');
            }
        }

        function switchPersona(personaId) {
            console.log('Switching to persona:', personaId);

            const persona = personas[personaId];
            if (!persona) {
                console.error('Persona not found:', personaId);
                return;
            }

            // Update current persona tracking
            currentPersona = personaId;

            // Update the profile selector display
            updateProfileSelector(persona);

            // Close the dropdown
            const dropdown = document.getElementById('profile-dropdown');
            const chevron = document.getElementById('dropdown-chevron');
            dropdown.classList.add('hidden');
            chevron.style.transform = 'rotate(0deg)';

            // Reset any special states (like Customer 360 view)
            resetMainContentToDefault();

            // Navigate to home page first
            showPage('home');

            // Update home page content based on persona
            updateHomePageContent(personaId);

            console.log('Profile switched to:', persona.name, '-', persona.role);
        }

        function updateProfileSelector(persona) {
            // Update avatar
            const avatar = document.getElementById('current-user-avatar');
            if (avatar) {
                avatar.src = persona.avatar;
                avatar.alt = persona.name;
            }

            // Update name
            const nameEl = document.getElementById('current-user-name');
            if (nameEl) {
                nameEl.textContent = persona.name;
            }

            // Update role
            const roleEl = document.getElementById('current-user-role');
            if (roleEl) {
                roleEl.textContent = persona.role;
            }
        }

        function updateHomePageContent(personaId) {
            const heroSection = document.getElementById('hero-section');
            const homeContentSections = document.getElementById('home-content-sections');

            // Show/hide sections based on persona
            switch (personaId) {
                case 'customer-service':
                    // Pierre - Show core service features, hide admin-only items
                    if (heroSection) heroSection.style.display = 'block';
                    if (homeContentSections) homeContentSections.style.display = 'grid';
                    showPierreNavItems();
                    console.log('Showing customized home page for Customer Service Agent');
                    break;

                case 'in-store':
                    // Leslie - Only show conversation box (hero section) and hide ALL nav items except Home
                    if (heroSection) heroSection.style.display = 'block';
                    if (homeContentSections) homeContentSections.style.display = 'none';
                    hideLeslieNavItems();
                    console.log('Showing only conversation box for In-Store Agent');
                    break;

                case 'admin':
                    // Steve - Full access to all features (home page + all navigation items)
                    if (heroSection) heroSection.style.display = 'block';
                    if (homeContentSections) homeContentSections.style.display = 'grid';
                    showAllNavItems();
                    console.log('Showing full home page and all navigation for Admin');
                    break;

                default:
                    // Fallback - show everything
                    if (heroSection) heroSection.style.display = 'block';
                    if (homeContentSections) homeContentSections.style.display = 'grid';
                    showAllNavItems();
                    console.log('Showing full home page (default)');
            }
        }

        function hideLeslieNavItems() {
            // Hide only the expanded navigation panel for Leslie (In-Store Agent)
            // Keep the dark sidebar visible
            const expandedNav = document.getElementById('expanded-nav');
            if (expandedNav) {
                expandedNav.style.display = 'none';
            }

            // Adjust main content margin to account for only the dark sidebar (56px)
            const mainContent = document.getElementById('main-content');
            if (mainContent) {
                mainContent.style.marginLeft = '56px'; // Only account for the dark sidebar (14 * 4 = 56px)
            }

            // Adjust chat interface layout to start right after dark sidebar (56px)
            const chatInterface = document.querySelector('.chat-interface-layout');
            if (chatInterface) {
                chatInterface.style.left = '56px'; // Position right after dark sidebar
                chatInterface.style.width = 'calc(100vw - 56px)'; // Full width minus dark sidebar
            }

            console.log('Expanded navigation hidden for Leslie, dark sidebar remains visible, chat interface adjusted');
        }

        function showAllNavItems() {
            // Show the entire left navigation panel for Admin (Steve)
            const expandedNav = document.getElementById('expanded-nav');
            if (expandedNav) {
                expandedNav.style.display = 'flex'; // Restore the navigation panel
            }

            // Restore main content margin
            const mainContent = document.getElementById('main-content');
            if (mainContent) {
                mainContent.style.marginLeft = '320px'; // Default margin for expanded nav (80 * 4 = 320px)
            }

            // Restore default chat interface positioning
            const chatInterface = document.querySelector('.chat-interface-layout');
            if (chatInterface) {
                chatInterface.style.left = '116px'; // Default position after dark sidebar + collapsed nav
                chatInterface.style.width = 'calc(100vw - 116px)'; // Default width
            }
            // Show ALL navigation items for Admin (Steve)
            const navItems = ['nav-home', 'nav-outreach', 'nav-conversations', 'nav-ai-settings', 'nav-integrations'];
            navItems.forEach(navId => {
                const navElement = document.getElementById(navId);
                if (navElement) {
                    navElement.style.display = 'block';
                    navElement.style.visibility = 'visible';
                    // Remove any conflicting styles
                    navElement.style.removeProperty('display');
                    navElement.style.display = 'block';
                }
            });

            console.log('Navigation restored: showing ALL items for Admin');
            console.log('Visible items:', navItems.map(id => document.getElementById(id)?.style.display));
        }

        function showPierreNavItems() {
            // Show the entire left navigation panel for Pierre (Customer Service Agent)
            const expandedNav = document.getElementById('expanded-nav');
            if (expandedNav) {
                expandedNav.style.display = 'flex'; // Restore the navigation panel
            }

            // Restore main content margin
            const mainContent = document.getElementById('main-content');
            if (mainContent) {
                mainContent.style.marginLeft = '320px'; // Default margin for expanded nav (80 * 4 = 320px)
            }

            // Restore default chat interface positioning
            const chatInterface = document.querySelector('.chat-interface-layout');
            if (chatInterface) {
                chatInterface.style.left = '116px'; // Default position after dark sidebar + collapsed nav
                chatInterface.style.width = 'calc(100vw - 116px)'; // Default width
            }
            // Show navigation items relevant to Pierre (Customer Service Agent)
            // Hide admin-only features like AI Agent Settings and Integrations
            const showItems = ['nav-home', 'nav-outreach', 'nav-conversations'];
            const hideItems = ['nav-ai-settings', 'nav-integrations'];

            showItems.forEach(navId => {
                const navElement = document.getElementById(navId);
                if (navElement) {
                    navElement.style.display = 'block';
                    navElement.style.visibility = 'visible';
                }
            });

            hideItems.forEach(navId => {
                const navElement = document.getElementById(navId);
                if (navElement) {
                    navElement.style.display = 'none !important';
                    navElement.style.visibility = 'hidden';
                }
            });

            console.log('Navigation customized for Pierre: showing core service items, hiding admin features');
            console.log('Hidden items:', hideItems.map(id => document.getElementById(id)?.style.display));
        }

        // Close dropdown when clicking outside
        document.addEventListener('click', function(event) {
            const profileSelector = document.getElementById('profile-selector');
            const dropdown = document.getElementById('profile-dropdown');
            const chevron = document.getElementById('dropdown-chevron');

            if (profileSelector && dropdown && !profileSelector.contains(event.target)) {
                dropdown.classList.add('hidden');
                chevron.style.transform = 'rotate(0deg)';
            }
        });

        // Initialize profile selector on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Set initial persona (Pierre - Customer Service) with slight delay to ensure DOM is ready
            setTimeout(() => {
                const initialPersona = personas[currentPersona];
                updateProfileSelector(initialPersona);
                updateHomePageContent(currentPersona); // Set initial home page state
                console.log('Profile selector initialized with:', initialPersona.name);

                // Force navigation update for Pierre specifically
                if (currentPersona === 'customer-service') {
                    console.log('Forcing navigation update for Pierre...');
                    showPierreNavItems();
                }
            }, 100);
        });

        // Leslie's Query Handling
        function handleLeslieQuery() {
            const queryInput = document.getElementById('leslie-query-input');
            const query = queryInput.value.trim().toLowerCase();

            if (!query) return;

            console.log('Leslie querying:', query);

            // Add query to history
            addQueryToHistory(query);

            // Clear input
            queryInput.value = '';

            // Handle different types of queries
            if (query.includes('emma parker') || query.includes('emma')) {
                showEmmaParkerResponse();
            } else if (query.includes('inventory') || query.includes('stock')) {
                showInventoryResponse(query);
            } else if (query.includes('order') && /\d+/.test(query)) {
                const orderNumber = query.match(/\d+/)[0];
                showOrderResponse(orderNumber);
            } else {
                showGenericResponse(query);
            }
        }

        function addQueryToHistory(query) {
            const queryHistory = document.getElementById('query-history');
            const queryDiv = document.createElement('div');
            queryDiv.className = 'flex justify-end mb-2';
            queryDiv.innerHTML = `
                <div class="bg-blue-600 text-white px-4 py-2 rounded-lg max-w-md">
                    ${query}
                </div>
            `;
            queryHistory.appendChild(queryDiv);
            queryHistory.scrollTop = queryHistory.scrollHeight;
        }

        function showEmmaParkerResponse() {
            console.log('Showing Emma Parker customer data');

            // Show response panel
            const responsePanel = document.getElementById('response-panel');
            responsePanel.classList.remove('hidden');

            // Populate Customer Lens content
            const customerLensContent = document.getElementById('customer-lens-content');
            customerLensContent.innerHTML = `
                <!-- Header -->
                <div class="flex items-center justify-between mb-6">
                    <div class="flex items-center space-x-3">
                        <div class="w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center text-white font-bold text-lg">
                            EP
                        </div>
                        <div>
                            <h2 class="text-xl font-bold text-gray-900">Emma Parker</h2>
                            <div class="flex items-center space-x-4 text-sm text-gray-600">
                                <span>emma.p@email.com ‚Ä¢ (555) 123-4567</span>
                            </div>
                        </div>
                    </div>
                    <div class="text-right">
                        <div class="text-sm text-gray-600">Customer Since</div>
                        <div class="font-semibold">March 2022</div>
                    </div>
                </div>

                <!-- Customer Status Badges -->
                <div class="flex items-center space-x-3 mb-6">
                    <span class="bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs font-medium">Gold Member</span>
                    <span class="bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium">Verified ID</span>
                </div>

                <!-- Customer Metrics -->
                <div class="grid grid-cols-4 gap-4 mb-6">
                    <div class="text-center">
                        <div class="text-2xl font-bold text-teal-600">$2,450</div>
                        <div class="text-xs text-gray-600">Lifetime Value</div>
                    </div>
                    <div class="text-center">
                        <div class="text-2xl font-bold text-gray-900">17</div>
                        <div class="text-xs text-gray-600">Total Orders</div>
                    </div>
                    <div class="text-center">
                        <div class="text-2xl font-bold text-orange-600">$144</div>
                        <div class="text-xs text-gray-600">Avg Order</div>
                    </div>
                    <div class="text-center">
                        <div class="text-2xl font-bold text-blue-600">3 wks</div>
                        <div class="text-xs text-gray-600">Last Visit</div>
                    </div>
                </div>

                <!-- Current Transaction -->
                <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6">
                    <h3 class="font-semibold text-gray-900 mb-2">Current Transaction</h3>
                    <div class="space-y-2">
                        <div class="flex justify-between items-center">
                            <span class="text-sm">üîÑ Exchange Request</span>
                        </div>
                        <div class="text-sm text-gray-600">
                            <div><strong>Item:</strong> The Seaside Linen Dress</div>
                            <div><strong>Reason:</strong> Size doesn't fit (M ‚Üí S)</div>
                            <div><strong>Original Order:</strong> #987122</div>
                        </div>
                    </div>
                </div>

                <!-- Recent Orders -->
                <div>
                    <h3 class="font-semibold text-gray-900 mb-3">Recent Orders</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center py-2 border-b border-gray-100">
                            <div>
                                <div class="font-medium text-sm">Order #987122</div>
                                <div class="text-xs text-gray-600">3 weeks ago ‚Ä¢ Online</div>
                                <div class="text-xs text-gray-600">The Seaside Linen Dress ‚Ä¢ Size M</div>
                            </div>
                            <div class="text-right">
                                <div class="font-semibold">$189.99</div>
                                <div class="text-xs text-green-600">Delivered</div>
                            </div>
                        </div>
                        <div class="flex justify-between items-center py-2 border-b border-gray-100">
                            <div>
                                <div class="font-medium text-sm">Order #985034</div>
                                <div class="text-xs text-gray-600">6 weeks ago ‚Ä¢ In-store</div>
                                <div class="text-xs text-gray-600">Autumn Cashmere Sweater ‚Ä¢ Size S</div>
                            </div>
                            <div class="text-right">
                                <div class="font-semibold">$124.50</div>
                                <div class="text-xs text-green-600">Completed</div>
                            </div>
                        </div>
                        <div class="flex justify-between items-center py-2 border-b border-gray-100">
                            <div>
                                <div class="font-medium text-sm">Order #982156</div>
                                <div class="text-xs text-gray-600">8 weeks ago ‚Ä¢ Online</div>
                                <div class="text-xs text-gray-600">Summer Collection Bundle ‚Ä¢ Size M</div>
                            </div>
                            <div class="text-right">
                                <div class="font-semibold">$95.00</div>
                                <div class="text-xs text-green-600">Delivered</div>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            // Populate AI Signals content
            const aiSignalsContent = document.getElementById('ai-signals-content');
            aiSignalsContent.innerHTML = `
                <!-- Header -->
                <div class="flex items-center justify-between mb-3">
                    <div class="flex items-center space-x-2">
                        <svg class="w-4 h-4 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                        </svg>
                        <h3 class="font-bold text-gray-900 text-sm">AI Signals</h3>
                    </div>
                </div>

                <div class="text-xs text-gray-600 mb-3">Powered by <span class="font-semibold">Treasure Data</span></div>

                <!-- Next Best Action -->
                <div class="bg-white rounded-lg p-3 border border-gray-200 mb-3">
                    <div class="flex items-center space-x-2 mb-2">
                        <div class="w-3 h-1 bg-orange-500 rounded"></div>
                        <span class="font-semibold text-gray-900 text-sm">Next Best Action</span>
                    </div>
                    <div class="text-xs text-gray-600 mb-2">High-confidence recommendation</div>

                    <div class="bg-purple-50 border-l-3 border-purple-500 rounded p-2">
                        <h4 class="font-bold text-purple-900 text-sm mb-1">Promote Store Credit Card</h4>

                        <div class="mb-2">
                            <div class="font-semibold text-purple-900 text-xs mb-1">Why now:</div>
                            <div class="text-xs text-purple-800 mb-1">
                                Emma is a loyal Gold member with high lifetime value ($2,450). She's making a return and likely browsing for new items.
                            </div>
                        </div>

                        <div>
                            <div class="font-semibold text-purple-900 text-xs mb-1">Benefits to highlight:</div>
                            <ul class="list-disc list-inside text-xs text-purple-800 space-y-0.5">
                                <li>15% off today's purchase</li>
                                <li>5% cashback on all future purchases</li>
                                <li>Exclusive early access to sales</li>
                                <li>Free shipping on all orders</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Suggested Talk Track -->
                <div class="bg-white rounded-lg p-3 border border-gray-200 mb-3">
                    <div class="flex items-center space-x-2 mb-2">
                        <svg class="w-3 h-3 text-gray-600" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z" clip-rule="evenodd"/>
                        </svg>
                        <span class="font-semibold text-gray-900 text-sm">Suggested Talk Track</span>
                    </div>

                    <div class="bg-gray-50 border-l-3 border-gray-400 rounded p-2">
                        <div class="italic text-gray-800 text-xs leading-relaxed">
                            "Emma, since you're one of our valued Gold members, I'd love to tell you about our store credit card. You'd get 15% off your purchase today, plus 5% cashback on all future orders. Given how much you shop with us, that could add up to significant savings!"
                        </div>

                        <div class="mt-2 pt-2 border-t border-gray-300">
                            <div class="text-xs text-gray-600">
                                <strong>Key points:</strong> Emphasize immediate savings + long-term benefits for frequent shoppers
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Customer Signals -->
                <div class="bg-white rounded-lg p-3 border border-gray-200">
                    <h4 class="font-semibold text-gray-900 text-sm mb-2">Customer Signals</h4>
                    <div class="space-y-1">
                        <div class="flex items-center space-x-2">
                            <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                            <span class="text-xs text-gray-700">High purchase frequency (17 orders)</span>
                        </div>
                        <div class="flex items-center space-x-2">
                            <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                            <span class="text-xs text-gray-700">Above-average order value ($144)</span>
                        </div>
                        <div class="flex items-center space-x-2">
                            <div class="w-2 h-2 bg-red-500 rounded-full"></div>
                            <span class="text-xs text-gray-700">No existing store credit card</span>
                        </div>
                    </div>
                </div>
            `;
        }

        function showInventoryResponse(query) {
            console.log('Showing inventory response for:', query);

            const responsePanel = document.getElementById('response-panel');
            responsePanel.classList.remove('hidden');

            const customerLensContent = document.getElementById('customer-lens-content');
            customerLensContent.innerHTML = `
                <h2 class="text-xl font-bold text-gray-900 mb-4">Inventory Search Results</h2>
                <div class="space-y-4">
                    <div class="border border-gray-200 rounded-lg p-4">
                        <h3 class="font-semibold">Seasonal Items - Fall Collection</h3>
                        <p class="text-sm text-gray-600 mt-2">Low stock alert on several items</p>
                        <!-- Add inventory details here -->
                    </div>
                </div>
            `;

            const aiSignalsContent = document.getElementById('ai-signals-content');
            aiSignalsContent.innerHTML = `
                <h3 class="font-bold text-gray-900 text-sm mb-2">Inventory Insights</h3>
                <div class="text-xs text-gray-600">
                    <p>‚Ä¢ Fall items moving fast</p>
                    <p>‚Ä¢ Reorder recommended</p>
                </div>
            `;
        }

        function showOrderResponse(orderNumber) {
            console.log('Showing order response for:', orderNumber);

            const responsePanel = document.getElementById('response-panel');
            responsePanel.classList.remove('hidden');

            const customerLensContent = document.getElementById('customer-lens-content');
            customerLensContent.innerHTML = `
                <h2 class="text-xl font-bold text-gray-900 mb-4">Order #${orderNumber}</h2>
                <div class="space-y-4">
                    <div class="border border-gray-200 rounded-lg p-4">
                        <h3 class="font-semibold">Order Details</h3>
                        <p class="text-sm text-gray-600 mt-2">Order information would appear here</p>
                    </div>
                </div>
            `;

            const aiSignalsContent = document.getElementById('ai-signals-content');
            aiSignalsContent.innerHTML = `
                <h3 class="font-bold text-gray-900 text-sm mb-2">Order Insights</h3>
                <div class="text-xs text-gray-600">
                    <p>‚Ä¢ Customer satisfaction: High</p>
                    <p>‚Ä¢ Upsell opportunity</p>
                </div>
            `;
        }

        function showGenericResponse(query) {
            console.log('Showing generic response for:', query);

            const responsePanel = document.getElementById('response-panel');
            responsePanel.classList.remove('hidden');

            const customerLensContent = document.getElementById('customer-lens-content');
            customerLensContent.innerHTML = `
                <h2 class="text-xl font-bold text-gray-900 mb-4">Search Results</h2>
                <div class="space-y-4">
                    <div class="border border-gray-200 rounded-lg p-4">
                        <h3 class="font-semibold">Query: "${query}"</h3>
                        <p class="text-sm text-gray-600 mt-2">No specific results found. Try searching for a customer name, order number, or inventory item.</p>
                    </div>
                </div>
            `;

            const aiSignalsContent = document.getElementById('ai-signals-content');
            aiSignalsContent.innerHTML = `
                <h3 class="font-bold text-gray-900 text-sm mb-2">Suggestions</h3>
                <div class="text-xs text-gray-600">
                    <p>‚Ä¢ Try "Emma Parker"</p>
                    <p>‚Ä¢ Try "Order 987122"</p>
                    <p>‚Ä¢ Try "Inventory"</p>
                </div>
            `;
        }

        // Function to simulate Leslie looking up Emma Parker's profile
        function lookupEmmaParker() {
            console.log('Leslie is looking up Emma Parker profile');

            // First show the conversation view if not already shown
            const welcomeState = document.getElementById('welcome-state');
            const conversationView = document.getElementById('conversation-view');

            if (welcomeState && conversationView) {
                welcomeState.classList.add('hidden');
                conversationView.classList.remove('hidden');

                // Add Emma Parker to the query input and trigger the search
                const queryInput = document.getElementById('leslie-query-input');
                queryInput.value = 'Emma Parker';

                // Show response after a brief delay for realism
                setTimeout(() => {
                    handleLeslieQuery();
                }, 500);
            }
        }

        // Leslie's Chat Interface with Customer 360 on the right side
        function showLeslieCustomer360ChatInterface(query) {
            console.log('Showing Leslie chat interface with Customer 360 for query:', query);

            // Switch to chat interface
            isInChatMode = true;
            showPage('chat-interface');

            // Collapse the sidebar
            const sidebar = document.getElementById('expanded-nav');
            if (sidebar) {
                sidebar.classList.add('sidebar-collapsed');
                sidebar.style.width = '60px';
            }

            // Clear the home page textarea
            const textarea = document.getElementById('ai-textarea');
            if (textarea) {
                textarea.value = '';
            }

            // Add initial message to chat
            setTimeout(() => {
                addChatMessage(`Looking up customer: <strong>${query}</strong>`, 'user');

                // Add thinking message
                setTimeout(() => {
                    addChatMessage("Retrieving customer profile...", 'ai');

                    // Show Customer 360 on the right side after a delay
                    setTimeout(() => {
                        showCustomer360InChatInterface();
                    }, 1500);
                }, 500);
            }, 100);
        }

        function showCustomer360InChatInterface() {
            // Get the chat interface right column and replace it with Customer 360 content
            const conversationView = document.getElementById('conversation-view');
            const welcomeState = document.getElementById('welcome-state');
            const customerProfileView = document.getElementById('customer-profile-view');

            // Hide welcome state and any other views
            if (welcomeState) welcomeState.classList.add('hidden');
            if (customerProfileView) customerProfileView.classList.add('hidden');

            // Show conversation view and populate it with Customer 360 content
            if (conversationView) {
                conversationView.classList.remove('hidden');
                conversationView.innerHTML = `
                    <div class="h-full overflow-y-auto bg-gray-50 p-4">
                        <div class="w-full">
                            <h2 class="text-xl font-semibold text-gray-900 mb-6">Customer 360 - Emma Parker</h2>

                            <!-- Customer Lens and AI Signals Container -->
                            <div class="flex" style="height: calc(100vh - 200px);">
                                <!-- Customer Lens Panel (70% width) -->
                                <div style="width: 70%;" class="border-r border-gray-200 p-4 overflow-y-auto" id="chat-customer-lens-content">
                                    <!-- Customer content will be loaded here -->
                                </div>

                                <!-- AI Signals Panel (30% width) -->
                                <div style="width: 30%;" class="p-4 bg-gray-50 overflow-y-auto" id="chat-ai-signals-content">
                                    <!-- AI signals content will be loaded here -->
                                </div>
                            </div>
                        </div>
                    </div>
                `;

                // Populate the Customer 360 content
                setTimeout(() => {
                    const customerLensContainer = document.getElementById('chat-customer-lens-content');
                    const aiSignalsContainer = document.getElementById('chat-ai-signals-content');

                    if (customerLensContainer) {
                        populateHomeCustomerLens(customerLensContainer);
                    }
                    if (aiSignalsContainer) {
                        populateHomeAISignals(aiSignalsContainer);
                    }

                    // Add completion message to chat
                    addChatMessage("‚úÖ Customer profile loaded successfully! Emma Parker's details are now displayed on the right.", 'ai');
                }, 200);
            }
        }

        // Home Page Customer 360 functionality
        function showHomePageCustomer360(query) {
            console.log('Showing Customer 360 on home page for query:', query);

            // Enable Customer 360 mode for hover behavior
            isCustomer360Mode = true;

            // Collapse the sidebar to give more space for query results
            const sidebar = document.getElementById('expanded-nav');
            console.log('Collapsing sidebar for Leslie query results');
            if (sidebar) {
                console.log('Adding sidebar-collapsed class for Customer 360');
                sidebar.classList.add('sidebar-collapsed');
                // Force immediate layout update
                sidebar.style.width = '60px';
                console.log('Sidebar collapsed for Customer 360, width set to 60px');
            } else {
                console.error('Sidebar element not found for Customer 360!');
            }

            // Clear the textarea after query
            const textarea = document.getElementById('ai-textarea');
            if (textarea) {
                textarea.value = '';
            }

            // Show the response area
            const responseArea = document.getElementById('home-response-area');
            if (responseArea) {
                responseArea.classList.remove('hidden');
            }

            // Show Customer Lens content using the same content as the chat interface
            const customerLensContent = document.getElementById('home-customer-lens-content');
            const aiSignalsContent = document.getElementById('home-ai-signals-content');

            if (customerLensContent && aiSignalsContent) {
                // Use the same content generation functions but for home page elements
                populateHomeCustomerLens(customerLensContent);
                populateHomeAISignals(aiSignalsContent);
            }

            // Scroll to the response area
            setTimeout(() => {
                responseArea.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 100);
        }

        function populateHomeCustomerLens(container) {
            container.innerHTML = `
                <!-- Header -->
                <div class="flex items-center justify-between mb-6">
                    <div class="flex items-center space-x-3">
                        <div class="w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center text-white font-bold text-lg">
                            EP
                        </div>
                        <div>
                            <h2 class="text-xl font-bold text-gray-900">Emma Parker</h2>
                            <div class="flex items-center space-x-4 text-sm text-gray-600">
                                <span>emma.p@email.com ‚Ä¢ (555) 123-4567</span>
                            </div>
                        </div>
                    </div>
                    <div class="text-right">
                        <div class="text-sm text-gray-600">Customer Since</div>
                        <div class="font-semibold">March 2022</div>
                    </div>
                </div>

                <!-- Customer Status Badges -->
                <div class="flex items-center space-x-3 mb-6">
                    <span class="bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs font-medium">Gold Member</span>
                    <span class="bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium">Verified ID</span>
                </div>

                <!-- Customer Metrics -->
                <div class="grid grid-cols-4 gap-4 mb-6">
                    <div class="text-center">
                        <div class="text-2xl font-bold text-teal-600">$2,450</div>
                        <div class="text-xs text-gray-600">Lifetime Value</div>
                    </div>
                    <div class="text-center">
                        <div class="text-2xl font-bold text-gray-900">17</div>
                        <div class="text-xs text-gray-600">Total Orders</div>
                    </div>
                    <div class="text-center">
                        <div class="text-2xl font-bold text-orange-600">$144</div>
                        <div class="text-xs text-gray-600">Avg Order</div>
                    </div>
                    <div class="text-center">
                        <div class="text-2xl font-bold text-blue-600">3 wks</div>
                        <div class="text-xs text-gray-600">Last Visit</div>
                    </div>
                </div>

                <!-- Current Transaction -->
                <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6">
                    <h3 class="font-semibold text-gray-900 mb-2">Current Transaction</h3>
                    <div class="space-y-2">
                        <div class="flex justify-between items-center">
                            <span class="text-sm">üîÑ Exchange Request</span>
                        </div>
                        <div class="text-sm text-gray-600">
                            <div><strong>Item:</strong> The Seaside Linen Dress</div>
                            <div><strong>Reason:</strong> Size doesn't fit (M ‚Üí S)</div>
                            <div><strong>Original Order:</strong> #987122</div>
                        </div>
                    </div>
                </div>

                <!-- Recent Orders -->
                <div class="mb-6">
                    <h3 class="font-semibold text-gray-900 mb-3">Recent Orders</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center py-2 border-b border-gray-100">
                            <div>
                                <div class="font-medium text-sm">Order #987122</div>
                                <div class="text-xs text-gray-600">3 weeks ago ‚Ä¢ Online</div>
                                <div class="text-xs text-gray-600">The Seaside Linen Dress ‚Ä¢ Size M</div>
                            </div>
                            <div class="text-right">
                                <div class="font-semibold">$189.99</div>
                                <div class="text-xs text-green-600">Delivered</div>
                            </div>
                        </div>
                        <div class="flex justify-between items-center py-2 border-b border-gray-100">
                            <div>
                                <div class="font-medium text-sm">Order #985034</div>
                                <div class="text-xs text-gray-600">6 weeks ago ‚Ä¢ In-store</div>
                                <div class="text-xs text-gray-600">Autumn Cashmere Sweater ‚Ä¢ Size S</div>
                            </div>
                            <div class="text-right">
                                <div class="font-semibold">$124.50</div>
                                <div class="text-xs text-green-600">Completed</div>
                            </div>
                        </div>
                        <div class="flex justify-between items-center py-2 border-b border-gray-100">
                            <div>
                                <div class="font-medium text-sm">Order #982156</div>
                                <div class="text-xs text-gray-600">8 weeks ago ‚Ä¢ Online</div>
                                <div class="text-xs text-gray-600">Summer Collection Bundle ‚Ä¢ Size M</div>
                            </div>
                            <div class="text-right">
                                <div class="font-semibold">$95.00</div>
                                <div class="text-xs text-green-600">Delivered</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Personal & Demographic -->
                <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6">
                    <h3 class="font-semibold text-gray-900 mb-3">üë• Personal & Demographic</h3>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <h4 class="font-medium text-sm text-gray-900 mb-2">Special Occasions</h4>
                            <div class="text-xs text-gray-600 space-y-1">
                                <div>üéÇ <strong>Birthday:</strong> March 15</div>
                                <div>üíë <strong>Anniversary:</strong> June 10</div>
                            </div>
                        </div>
                        <div>
                            <h4 class="font-medium text-sm text-gray-900 mb-2">Family Information</h4>
                            <div class="text-xs text-gray-600 space-y-1">
                                <div>üë®‚Äçüë©‚Äçüëß‚Äçüë¶ <strong>Family:</strong> Spouse, 2 children</div>
                                <div>üéÅ <strong>Gift Recipients:</strong> Frequent buyer for family</div>
                            </div>
                        </div>
                        <div>
                            <h4 class="font-medium text-sm text-gray-900 mb-2">Location Details</h4>
                            <div class="text-xs text-gray-600 space-y-1">
                                <div>üè† <strong>Home:</strong> Downtown</div>
                                <div>üè¢ <strong>Work:</strong> Financial District</div>
                            </div>
                        </div>
                        <div>
                            <h4 class="font-medium text-sm text-gray-900 mb-2">Lifestyle Indicators</h4>
                            <div class="text-xs text-gray-600 space-y-1">
                                <div>üèÉ‚Äç‚ôÄÔ∏è Active lifestyle</div>
                                <div>üëî Professional</div>
                                <div>üë™ Family-oriented</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Loyalty & Rewards -->
                <div class="bg-purple-50 border border-purple-200 rounded-lg p-4 mb-6">
                    <h3 class="font-semibold text-gray-900 mb-3">üéÅ Loyalty & Rewards</h3>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <h4 class="font-medium text-sm text-gray-900 mb-2">Points & Status</h4>
                            <div class="text-xs text-gray-600 space-y-1">
                                <div>‚≠ê <strong>Points Balance:</strong> 2,450 points ($24.50 value)</div>
                                <div>üèÜ <strong>Tier Progress:</strong> Gold member</div>
                                <div>üìà <strong>To Platinum:</strong> 550 points needed</div>
                            </div>
                        </div>
                        <div>
                            <h4 class="font-medium text-sm text-gray-900 mb-2">Recent Activity</h4>
                            <div class="text-xs text-gray-600 space-y-1">
                                <div>üí∞ <strong>Last Redemption:</strong> $10 off in January</div>
                                <div>üéâ <strong>Birthday Perk:</strong> 20% off (unused)</div>
                                <div>üí≥ <strong>Goodwill Credit:</strong> $15 (unused)</div>
                            </div>
                        </div>
                        <div class="col-span-2">
                            <h4 class="font-medium text-sm text-gray-900 mb-2">Referral Activity</h4>
                            <div class="text-xs text-gray-600">
                                <div>üë• <strong>Referrals:</strong> Referred 3 friends, earned $30 credit</div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function populateHomeAISignals(container) {
            container.innerHTML = `
                <!-- Header -->
                <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center space-x-2">
                        <svg class="w-5 h-5 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                        </svg>
                        <h3 class="font-bold text-gray-900">AI Signals</h3>
                    </div>
                </div>

                <div class="text-xs text-gray-600 mb-4">Powered by <span class="font-semibold">Treasure Data</span></div>

                <!-- Next Best Action -->
                <div class="bg-white rounded-lg p-4 border border-gray-200 mb-4">
                    <div class="flex items-center space-x-2 mb-2">
                        <div class="w-4 h-1 bg-orange-500 rounded"></div>
                        <span class="font-semibold text-gray-900">Next Best Action</span>
                    </div>
                    <div class="text-xs text-gray-600 mb-3">High-confidence recommendation</div>

                    <div class="bg-purple-50 border-l-4 border-purple-500 rounded-lg p-3">
                        <h4 class="font-bold text-purple-900 text-lg mb-2">Promote Store Credit Card</h4>

                        <div class="mb-3">
                            <div class="font-semibold text-purple-900 text-sm mb-1">Why now:</div>
                            <div class="text-sm text-purple-800 mb-2">
                                Emma is a loyal Gold member with high lifetime value ($2,450). She's making a return and likely browsing for new items.
                            </div>
                        </div>

                        <div>
                            <div class="font-semibold text-purple-900 text-sm mb-2">Benefits to highlight:</div>
                            <ul class="list-disc list-inside text-sm text-purple-800 space-y-1">
                                <li>15% off today's purchase</li>
                                <li>5% cashback on all future purchases</li>
                                <li>Exclusive early access to sales</li>
                                <li>Free shipping on all orders</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Suggested Talk Track -->
                <div class="bg-white rounded-lg p-4 border border-gray-200 mb-4">
                    <div class="flex items-center space-x-2 mb-2">
                        <svg class="w-4 h-4 text-gray-600" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z" clip-rule="evenodd"/>
                        </svg>
                        <span class="font-semibold text-gray-900">Suggested Talk Track</span>
                    </div>

                    <div class="bg-gray-50 border-l-4 border-gray-400 rounded p-3">
                        <div class="italic text-gray-800 text-sm leading-relaxed">
                            "Emma, since you're one of our valued Gold members, I'd love to tell you about our store credit card. You'd get 15% off your purchase today, plus 5% cashback on all future orders. Given how much you shop with us, that could add up to significant savings!"
                        </div>

                        <div class="mt-3 pt-3 border-t border-gray-300">
                            <div class="text-xs text-gray-600">
                                <strong>Key points:</strong> Emphasize immediate savings + long-term benefits for frequent shoppers
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Customer Signals -->
                <div class="bg-white rounded-lg p-4 border border-gray-200">
                    <h4 class="font-semibold text-gray-900 mb-3">Customer Signals</h4>
                    <div class="space-y-2">
                        <div class="flex items-center space-x-2">
                            <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                            <span class="text-sm text-gray-700">High purchase frequency (17 orders)</span>
                        </div>
                        <div class="flex items-center space-x-2">
                            <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                            <span class="text-sm text-gray-700">Above-average order value ($144)</span>
                        </div>
                        <div class="flex items-center space-x-2">
                            <div class="w-2 h-2 bg-red-500 rounded-full"></div>
                            <span class="text-sm text-gray-700">No existing store credit card</span>
                        </div>
                    </div>
                </div>
            `;
        }

        // Sample AI responses for Pierre's queries
        const pierreAIResponses = {
            "warranty claim for product sku abc123": {
                response: `üõ°Ô∏è **Warranty Claim Analysis - SKU ABC123**

**Product Details:**
‚Ä¢ **Item:** Premium Wireless Bluetooth Headphones
‚Ä¢ **SKU:** ABC123
‚Ä¢ **Purchase Date:** March 15, 2024
‚Ä¢ **Warranty Period:** 2 years (expires March 15, 2026)
‚Ä¢ **Status:** ‚úÖ **Active Warranty**

**üìã Claim Information:**
‚Ä¢ **Customer:** Maria Rodriguez (maria.r@email.com)
‚Ä¢ **Issue Reported:** "Right earbud stopped working after 8 months"
‚Ä¢ **Claim Type:** Manufacturing Defect
‚Ä¢ **Priority:** Standard (2-3 business days)

**üîç Warranty Coverage:**
‚úÖ **Covered:** Manufacturing defects, hardware failures
‚úÖ **Includes:** Full replacement or repair
‚ùå **Not Covered:** Physical damage, water damage, normal wear

**üìù Next Steps:**
1. **Verify purchase** - Order #789123 confirmed
2. **Request photos** of the defective unit
3. **Send replacement** via expedited shipping
4. **Provide return label** for defective unit

**üí° Suggested Actions:**
‚Ä¢ Send pre-paid return label immediately
‚Ä¢ Process replacement shipment (est. 1-2 days)
‚Ä¢ Follow up in 48 hours for customer satisfaction

Would you like me to initiate the replacement process or escalate this claim?`,
                delay: 2000
            },
            "track shipment for order #456789": {
                response: `üì¶ **Shipment Tracking - Order #456789**

**üìç Current Status:** Out for Delivery
**üìÖ Expected Delivery:** Today by 8:00 PM

**üë§ Customer Information:**
‚Ä¢ **Name:** Sarah Chen
‚Ä¢ **Email:** sarah.chen@email.com
‚Ä¢ **Address:** 123 Oak Street, Chicago, IL 60614

**üöö Shipping Details:**
‚Ä¢ **Carrier:** FedEx Ground
‚Ä¢ **Tracking #:** 1Z999AA1234567890
‚Ä¢ **Service:** Standard Ground (3-5 business days)
‚Ä¢ **Shipped:** January 19, 2025

**üìã Package Contents:**
‚Ä¢ 1x Wireless Bluetooth Headphones - Premium (Black) - $149.99
‚Ä¢ 1x Phone Case - iPhone 15 Pro (Clear) - $29.99
‚Ä¢ **Total Value:** $179.98

**üïê Tracking Timeline:**
‚Ä¢ **Jan 22, 6:45 AM** - Out for delivery (Local FedEx facility)
‚Ä¢ **Jan 21, 11:30 PM** - Arrived at destination facility (Chicago, IL)
‚Ä¢ **Jan 20, 2:15 PM** - In transit (Memphis, TN sorting facility)
‚Ä¢ **Jan 19, 4:20 PM** - Package picked up (Dallas, TX warehouse)

**üí° Customer Communication Options:**
‚Ä¢ üì± Send SMS with tracking link
‚Ä¢ üìß Email detailed tracking info
‚Ä¢ üîî Set up delivery notifications
‚Ä¢ üìû Schedule delivery appointment

**üéØ Recommended Actions:**
‚úÖ Customer can expect delivery today
üì± Send proactive delivery notification
üè† Confirm delivery address with customer

Would you like me to send the tracking information to the customer or set up delivery notifications?`,
                delay: 2500
            }
        };

        // Function to handle Pierre's AI queries with thinking animation and growing text
        function handlePierreAIQuery(query) {
            const normalizedQuery = query.toLowerCase().trim();

            // Check if we have a predefined response
            const responseData = pierreAIResponses[normalizedQuery];
            if (!responseData) {
                // Generic response for unhandled queries
                showPierreGenericResponse(query);
                return;
            }

            // Show the response area and thinking animation
            const responseArea = document.getElementById('pierre-ai-response');
            const thinkingDiv = document.getElementById('ai-thinking');
            const contentDiv = document.getElementById('ai-response-content');
            const textDiv = document.getElementById('ai-response-text');

            // Clear previous content
            textDiv.innerHTML = '';

            // Show response area and thinking animation
            responseArea.classList.remove('hidden');
            thinkingDiv.classList.remove('hidden');
            contentDiv.classList.add('hidden');

            // Scroll to response area smoothly
            setTimeout(() => {
                responseArea.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 100);

            // After thinking delay, start typing the response
            setTimeout(() => {
                thinkingDiv.classList.add('hidden');
                contentDiv.classList.remove('hidden');
                typeResponse(textDiv, responseData.response);
            }, responseData.delay);
        }

        // Function to type out response character by character
        function typeResponse(element, text, speed = 30) {
            let index = 0;
            const lines = text.split('\n');

            function typeLine() {
                if (index < lines.length) {
                    const line = lines[index];
                    let charIndex = 0;

                    // Create a new div for this line
                    const lineDiv = document.createElement('div');
                    if (line.trim() === '') {
                        lineDiv.innerHTML = '<br>';
                        element.appendChild(lineDiv);
                        index++;
                        setTimeout(typeLine, 100);
                        return;
                    }

                    element.appendChild(lineDiv);

                    function typeChar() {
                        if (charIndex < line.length) {
                            lineDiv.innerHTML = formatMarkdown(line.substring(0, charIndex + 1));
                            charIndex++;
                            setTimeout(typeChar, speed);
                        } else {
                            index++;
                            setTimeout(typeLine, 150);
                        }
                    }

                    typeChar();
                }
            }

            typeLine();
        }

        // Simple markdown formatter for AI responses
        function formatMarkdown(text) {
            return text
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                .replace(/\*(.*?)\*/g, '<em>$1</em>')
                .replace(/^‚Ä¢ /gm, '&nbsp;&nbsp;‚Ä¢ ')
                .replace(/^‚úÖ/gm, '<span style="color: #059669;">‚úÖ</span>')
                .replace(/^‚ùå/gm, '<span style="color: #DC2626;">‚ùå</span>')
                .replace(/^üì¶|^üìç|^üë§|^üöö|^üìã|^üïê|^üí°|^üéØ|^üõ°Ô∏è|^üìù|^üîç/gm, '<span style="font-size: 1.1em;">$&</span>');
        }

        // Generic response for unhandled queries
        function showPierreGenericResponse(query) {
            const responseArea = document.getElementById('pierre-ai-response');
            const thinkingDiv = document.getElementById('ai-thinking');
            const contentDiv = document.getElementById('ai-response-content');
            const textDiv = document.getElementById('ai-response-text');

            responseArea.classList.remove('hidden');
            thinkingDiv.classList.remove('hidden');
            contentDiv.classList.add('hidden');

            setTimeout(() => {
                thinkingDiv.classList.add('hidden');
                contentDiv.classList.remove('hidden');
                textDiv.innerHTML = `
                    <div class="text-center py-8">
                        <div class="text-gray-600 mb-4">
                            <svg class="w-12 h-12 mx-auto text-gray-400 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
                            </svg>
                        </div>
                        <p class="text-gray-600 mb-2">I understand you're asking about:</p>
                        <p class="font-semibold text-gray-800 mb-4">"${query}"</p>
                        <p class="text-sm text-gray-500">Try asking about:</p>
                        <div class="mt-3 space-y-1 text-sm text-blue-600">
                            <div>‚Ä¢ "Track shipment for order #456789"</div>
                            <div>‚Ä¢ "Warranty claim for product SKU ABC123"</div>
                        </div>
                    </div>
                `;
            }, 1500);
        }

        // Allow Enter key to submit query
        document.addEventListener('DOMContentLoaded', function() {
            const queryInput = document.getElementById('leslie-query-input');
            if (queryInput) {
                queryInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        handleLeslieQuery();
                    }
                });
            }
        });

        // Add a demo button or trigger for the Customer 360 view
        window.demoShowCustomer360 = lookupEmmaParker;

        // Platform details function for integrations page
        function showPlatformDetails(platformId) {
            console.log('showPlatformDetails called with platformId:', platformId);

            // Platform data
            const platformData = {
                zendesk: {
                    name: 'Zendesk',
                    category: 'Help Desk & Ticketing',
                    description: 'Zendesk is a complete customer service solution that makes it easy to track, prioritize, and solve customer support tickets. Our AI integration provides seamless context and automated response suggestions.',
                    icon: '<span class="text-white font-bold text-xl">Z</span>',
                    setupTime: '5-10 minutes',
                    features: [
                        'Automatic ticket categorization and routing',
                        'AI-powered response suggestions from knowledge base',
                        'Customer sentiment analysis and priority scoring',
                        'Real-time integration with existing workflows',
                        'Advanced reporting and analytics dashboard'
                    ],
                    requirements: [
                        'Zendesk admin access required',
                        'API access enabled in your Zendesk instance',
                        'Agent permissions for AI integration',
                        'Knowledge base setup (recommended)'
                    ],
                    connectText: 'Connect Zendesk'
                },
                salesforce: {
                    name: 'Salesforce',
                    category: 'CRM & Service Cloud',
                    description: 'Salesforce Service Cloud integration provides comprehensive customer context by connecting CRM data with support interactions. Access customer history, opportunities, and account details.',
                    icon: '<svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2L2 7v10c0 5.55 3.84 9.74 9 9.74s9-4.19 9-9.74V7l-10-5z"/></svg>',
                    setupTime: '10-15 minutes',
                    features: [
                        'Complete customer 360-degree view',
                        'Case and opportunity synchronization',
                        'Einstein Analytics integration',
                        'Automated lead scoring and routing',
                        'Custom workflow automation'
                    ],
                    requirements: [
                        'Salesforce admin permissions',
                        'Service Cloud license',
                        'API limits availability',
                        'Custom fields setup (optional)'
                    ],
                    connectText: 'Connect Salesforce'
                },
                amazonconnect: {
                    name: 'Amazon Connect',
                    category: 'Cloud Contact Center',
                    description: 'Amazon Connect cloud-based contact center service integration enables intelligent call routing, real-time analytics, and AI-powered customer interactions.',
                    icon: '<svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"/></svg>',
                    setupTime: '15-20 minutes',
                    features: [
                        'Intelligent call routing and queuing',
                        'Real-time contact center analytics',
                        'AI-powered conversation insights',
                        'Voice and chat integration',
                        'Performance monitoring dashboards'
                    ],
                    requirements: [
                        'Amazon Connect instance access',
                        'IAM permissions for API access',
                        'Contact flow configuration',
                        'Agent workspace setup'
                    ],
                    connectText: 'Connect Amazon Connect'
                },
                freshdesk: {
                    name: 'Freshdesk',
                    category: 'Customer Support Software',
                    description: 'Freshdesk integration provides modern customer support capabilities with AI-enhanced ticket management, automation, and customer satisfaction tracking.',
                    icon: '<div class="w-6 h-6 bg-white rounded-full"></div>',
                    setupTime: '8-12 minutes',
                    features: [
                        'Smart ticket assignment and prioritization',
                        'Multi-channel support integration',
                        'Customer satisfaction surveys',
                        'Performance analytics and reporting',
                        'Collaboration tools and team chat'
                    ],
                    requirements: [
                        'Freshdesk admin account access',
                        'API key generation enabled',
                        'Agent permissions configuration',
                        'Custom fields setup (optional)'
                    ],
                    connectText: 'Connect Freshdesk'
                },
                front: {
                    name: 'Front',
                    category: 'Team Inbox Platform',
                    description: 'Front collaborative inbox integration brings team communication and customer support together, enabling efficient team workflows and customer interactions.',
                    icon: '<span class="text-white font-bold text-xl">F</span>',
                    setupTime: '6-10 minutes',
                    features: [
                        'Shared team inbox management',
                        'Internal collaboration and notes',
                        'Workflow automation rules',
                        'Performance analytics and insights',
                        'Customer context and history'
                    ],
                    requirements: [
                        'Front admin access',
                        'Inbox configuration permissions',
                        'API integration enabled',
                        'Team member assignments'
                    ],
                    connectText: 'Connect Front'
                },
                gorgias: {
                    name: 'Gorgias',
                    category: 'Ecommerce Helpdesk',
                    description: 'Gorgias ecommerce-focused helpdesk integration provides specialized support for online retailers with order management and customer service automation.',
                    icon: '<span class="text-white font-bold text-xl">G</span>',
                    setupTime: '10-15 minutes',
                    features: [
                        'Order and customer data integration',
                        'Ecommerce-specific automation rules',
                        'Revenue impact tracking',
                        'Shopify/BigCommerce integration',
                        'Customer lifetime value insights'
                    ],
                    requirements: [
                        'Gorgias admin account',
                        'Ecommerce platform connection',
                        'API permissions enabled',
                        'Customer data access'
                    ],
                    connectText: 'Connect Gorgias'
                },
                helpscout: {
                    name: 'Help Scout',
                    category: 'Customer Service Platform',
                    description: 'Help Scout customer service platform integration focuses on personal, helpful customer interactions with AI-enhanced response suggestions and workflow automation.',
                    icon: '<svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2L2 7v10c0 5.55 3.84 9.74 9 9.74s9-4.19 9-9.74V7l-10-5z"/></svg>',
                    setupTime: '7-12 minutes',
                    features: [
                        'Personal customer conversation management',
                        'Knowledge base integration',
                        'Customer satisfaction tracking',
                        'Team performance analytics',
                        'Workflow automation and routing'
                    ],
                    requirements: [
                        'Help Scout admin access',
                        'Mailbox configuration permissions',
                        'API key generation',
                        'User management access'
                    ],
                    connectText: 'Connect Help Scout'
                },
                hubspot: {
                    name: 'HubSpot',
                    category: 'CRM & Service Hub',
                    description: 'HubSpot CRM and Service Hub integration provides comprehensive customer relationship management with marketing, sales, and service alignment.',
                    icon: '<span class="text-white font-bold text-xl">H</span>',
                    setupTime: '12-18 minutes',
                    features: [
                        'Unified customer database and history',
                        'Marketing and sales context integration',
                        'Service ticket and CRM synchronization',
                        'Customer journey analytics',
                        'Automated workflows and sequences'
                    ],
                    requirements: [
                        'HubSpot admin portal access',
                        'Service Hub subscription',
                        'API access permissions',
                        'Custom properties setup'
                    ],
                    connectText: 'Connect HubSpot'
                },
                servicenow: {
                    name: 'ServiceNow',
                    category: 'Enterprise Service Management',
                    description: 'ServiceNow enterprise service management integration provides ITSM capabilities with AI-enhanced incident management and workflow automation.',
                    icon: '<div class="w-6 h-6 bg-white rounded"></div>',
                    setupTime: '20-30 minutes',
                    features: [
                        'Enterprise ITSM integration',
                        'Incident and change management',
                        'Workflow automation and approval processes',
                        'Service catalog integration',
                        'Advanced reporting and analytics'
                    ],
                    requirements: [
                        'ServiceNow admin access',
                        'Instance configuration permissions',
                        'REST API access enabled',
                        'User role management'
                    ],
                    connectText: 'Connect ServiceNow'
                },
                zohodesk: {
                    name: 'Zoho Desk',
                    category: 'Context-Aware Help Desk',
                    description: 'Zoho Desk context-aware help desk integration provides intelligent customer support with AI-powered insights and multi-channel communication.',
                    icon: '<span class="text-white font-bold text-xl">Z</span>',
                    setupTime: '8-15 minutes',
                    features: [
                        'Context-aware customer support',
                        'Multi-channel communication hub',
                        'AI-powered insights and suggestions',
                        'Customer happiness tracking',
                        'Advanced automation workflows'
                    ],
                    requirements: [
                        'Zoho Desk admin access',
                        'Department configuration permissions',
                        'API access enabled',
                        'Agent profile setup'
                    ],
                    connectText: 'Connect Zoho Desk'
                },
                other: {
                    name: 'Custom Integration',
                    category: 'Custom Platform',
                    description: 'Create a custom integration for your platform using our flexible API and webhook system. Perfect for proprietary systems or platforms not yet supported.',
                    icon: '<svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/></svg>',
                    setupTime: '30-60 minutes',
                    features: [
                        'Custom API endpoint configuration',
                        'Flexible webhook integration',
                        'Custom field mapping',
                        'Tailored workflow automation',
                        'Developer documentation and support'
                    ],
                    requirements: [
                        'API documentation for your platform',
                        'Development team or technical resource',
                        'Authentication credentials',
                        'Testing environment access'
                    ],
                    connectText: 'Start Custom Integration'
                }
            };

            const platform = platformData[platformId];

            if (!platform) {
                console.error('Platform not found:', platformId);
                return;
            }

            // Hide welcome message and show details
            document.getElementById('platform-welcome').classList.add('hidden');
            document.getElementById('platform-details').classList.remove('hidden');

            // Update platform information
            document.getElementById('platform-name').textContent = platform.name;
            document.getElementById('platform-category').textContent = platform.category;
            document.getElementById('platform-description').textContent = platform.description;
            document.getElementById('platform-setup-time').textContent = platform.setupTime;
            document.getElementById('platform-connect-btn').textContent = platform.connectText;

            // Update icon
            document.getElementById('platform-icon').innerHTML = platform.icon;

            // Update features
            const featuresContainer = document.getElementById('platform-features');
            featuresContainer.innerHTML = '';
            platform.features.forEach(feature => {
                const featureElement = document.createElement('div');
                featureElement.className = 'flex items-center space-x-3';
                featureElement.innerHTML = `
                    <svg class="w-4 h-4 text-green-500 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                    </svg>
                    <span class="text-sm text-gray-700">${feature}</span>
                `;
                featuresContainer.appendChild(featureElement);
            });

            // Update requirements
            const requirementsContainer = document.getElementById('platform-requirements');
            requirementsContainer.innerHTML = '';
            platform.requirements.forEach(requirement => {
                const requirementElement = document.createElement('div');
                requirementElement.className = 'flex items-center space-x-3';
                requirementElement.innerHTML = `
                    <svg class="w-4 h-4 text-blue-500 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                    <span class="text-sm text-gray-700">${requirement}</span>
                `;
                requirementsContainer.appendChild(requirementElement);
            });

            // Update header background color based on platform
            const header = document.querySelector('#platform-details .bg-gradient-to-r');
            if (platformId === 'salesforce') {
                header.className = 'bg-gradient-to-r from-blue-400 to-teal-500 p-4 text-white';
            } else if (platformId === 'amazonconnect') {
                header.className = 'bg-gradient-to-r from-orange-500 to-orange-600 p-4 text-white';
            } else if (platformId === 'freshdesk') {
                header.className = 'bg-gradient-to-r from-green-500 to-green-600 p-4 text-white';
            } else if (platformId === 'front') {
                header.className = 'bg-gradient-to-r from-purple-500 to-purple-600 p-4 text-white';
            } else if (platformId === 'gorgias') {
                header.className = 'bg-gradient-to-r from-gray-500 to-gray-600 p-4 text-white';
            } else if (platformId === 'helpscout') {
                header.className = 'bg-gradient-to-r from-blue-500 to-blue-600 p-4 text-white';
            } else if (platformId === 'hubspot') {
                header.className = 'bg-gradient-to-r from-orange-500 to-orange-600 p-4 text-white';
            } else if (platformId === 'servicenow') {
                header.className = 'bg-gradient-to-r from-green-500 to-green-600 p-4 text-white';
            } else if (platformId === 'zohodesk') {
                header.className = 'bg-gradient-to-r from-green-500 to-green-600 p-4 text-white';
            } else if (platformId === 'other') {
                header.className = 'bg-gradient-to-r from-gray-500 to-gray-600 p-4 text-white';
            } else {
                // Default: Zendesk
                header.className = 'bg-gradient-to-r from-blue-500 to-blue-600 p-4 text-white';
            }
        }

    </script>

</body>
</html>