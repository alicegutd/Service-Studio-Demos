<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Service Studio - Demo</title>
    <!-- Updated: 2025-01-16 to force GitHub Pages rebuild -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'nav-dark': '#1e1b4b', // Very dark navy blue
                        'nav-medium': '#312e81', // Medium navy
                        'nav-light': '#4338ca', // Lighter purple-blue
                    }
                }
            }
        }
    </script>
    <style>
        body { margin: 0; padding: 0; }
        .nav-icon {
            width: 20px;
            height: 20px;
        }
        .nav-active {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
        }
        #rotating-text {
            min-width: 140px;
            text-align: left;
            position: relative;
        }
        #rotating-text::after {
            content: '|';
            animation: blink 1s infinite;
            margin-left: 2px;
        }
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }
        #animated-placeholder {
            transition: opacity 0.3s ease-in-out;
        }
        .sidebar-collapsed {
            width: 60px !important;
        }
        .sidebar-collapsed .nav-text {
            display: none !important;
        }
        .sidebar-collapsed .nav-link {
            justify-content: center !important;
            padding-left: 0.75rem !important;
            padding-right: 0.75rem !important;
        }
        .sidebar-collapsed .space-y-1 {
            padding-left: 0 !important;
            padding-right: 0 !important;
        }
        .sidebar-collapsed .flex-1.overflow-y-auto {
            padding-left: 8px !important;
            padding-right: 8px !important;
        }
        #expanded-nav {
            transition: width 0.3s ease-in-out;
        }
        .chat-interface-layout {
            height: calc(100vh - 70px);
            width: calc(100vw - 116px);
            position: fixed;
            top: 70px;
            left: 116px; /* Position after dark strip (56px) + collapsed sidebar (60px) */
            z-index: 5;
        }
        .chat-interface-layout .w-1\/4 {
            height: 100%;
        }
        .chat-interface-layout .flex-1 {
            height: 100%;
        }

        /* Custom scrollbar for AI Thought Process */
        .overflow-y-auto::-webkit-scrollbar {
            width: 6px;
        }
        .overflow-y-auto::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 3px;
        }
        .overflow-y-auto::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 3px;
        }
        .overflow-y-auto::-webkit-scrollbar-thumb:hover {
            background: #a1a1a1;
        }
    </style>
</head>
<body class="bg-gray-50">
    <div class="flex h-screen">
        <!-- Level 1: Fixed Dark Sidebar with Icons -->
        <div class="w-14 text-white h-screen fixed left-0 top-0 flex flex-col z-20" style="background: linear-gradient(180deg, #141023 0%, #2E41A6 100%)">
            <!-- Logo Section -->
            <div class="pt-5 pb-3 px-3 flex items-center justify-center">
                <svg width="31" height="21" viewBox="0 0 31 21" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-8 h-auto">
                    <g clip-path="url(#clip0_12637_19232)">
                        <path d="M16.3172 20.5608L30.1146 6.52144C30.3912 6.23992 30.5465 5.85816 30.5465 5.4601C30.5465 5.06204 30.3912 4.68027 30.1146 4.39876L26.4913 0.710614C26.2698 0.485271 26.0068 0.306532 25.7174 0.184603C25.428 0.0626741 25.1179 -5.76524e-05 24.8046 -7.59947e-06H5.74369C5.43046 -5.76524e-05 5.12029 0.0626741 4.83089 0.184603C4.54149 0.306532 4.27853 0.485271 4.05702 0.710614L0.43373 4.39876C0.157157 4.68027 0.001791 5.06204 0.001791 5.4601C0.001791 5.85816 0.157157 6.23992 0.43373 6.52144L14.2311 20.5608C14.5078 20.8422 14.883 21.0003 15.2742 21.0003C15.6654 21.0003 16.0405 20.8422 16.3172 20.5608Z" fill="url(#paint0_linear_12637_19232)"/>
                        <path opacity="0.4" d="M3.95572 0.81288C4.20159 0.563066 4.50441 0.379051 4.83715 0.277248C5.16989 0.175446 5.52222 0.15902 5.86272 0.229436L29.8213 5.18411C29.928 5.2064 30.0286 5.25261 30.1155 5.31939C30.2025 5.38617 30.2738 5.47184 30.3241 5.57017C30.3745 5.6685 30.4027 5.77701 30.4066 5.88781C30.4106 5.99861 30.3902 6.10892 30.347 6.21071C30.5097 5.92473 30.5751 5.59207 30.5329 5.26442C30.4907 4.93677 30.3434 4.63246 30.1138 4.39876L26.4905 0.710614C26.269 0.485271 26.006 0.306532 25.7166 0.184603C25.4272 0.0626741 25.1171 -5.76525e-05 24.8038 -7.59947e-06H5.74289C5.42967 -5.76525e-05 5.1195 0.0626741 4.8301 0.184603C4.5407 0.306532 4.27774 0.485271 4.05623 0.710614L3.95572 0.81288Z" fill="url(#paint1_linear_12637_19232)"/>
                        <path opacity="0.4" d="M25.2782 1.06978L23.8763 3.95421L29.828 5.18534C29.9347 5.20763 30.0352 5.25384 30.1222 5.32062C30.2092 5.3874 30.2804 5.47307 30.3308 5.5714C30.3811 5.66973 30.4093 5.77824 30.4133 5.88904C30.4172 5.99984 30.3969 6.11015 30.3537 6.21194C30.5164 5.92596 30.5817 5.5933 30.5396 5.26565C30.4974 4.938 30.3501 4.63369 30.1204 4.39999L26.4907 0.710534C26.2692 0.485191 26.0062 0.306452 25.7168 0.184523C25.4274 0.0625943 25.1173 -0.000137481 24.804 -8.74283e-05H24.6198C24.7442 -0.00116846 24.8668 0.0302137 24.9759 0.0910635C25.085 0.151913 25.177 0.240201 25.243 0.347499C25.3091 0.454797 25.347 0.577525 25.3531 0.70397C25.3593 0.830415 25.3335 0.956357 25.2782 1.06978V1.06978Z" fill="url(#paint2_linear_12637_19232)"/>
                        <path d="M30.3469 6.21076C30.3902 6.10897 30.4105 5.99867 30.4066 5.88786C30.4026 5.77706 30.3744 5.66855 30.3241 5.57022C30.2737 5.4719 30.2025 5.38623 30.1155 5.31944C30.0285 5.25266 29.928 5.20645 29.8212 5.18416L23.8696 3.95304L15.8808 20.3746C15.7778 20.5876 15.6036 20.7563 15.3894 20.8505C15.1753 20.9447 14.9352 20.9582 14.7121 20.8886C14.9815 21.0022 15.278 21.0319 15.564 20.9741C15.85 20.9162 16.1127 20.7733 16.3189 20.5634L30.1137 6.52149C30.2046 6.42886 30.2831 6.32438 30.3469 6.21076V6.21076Z" fill="url(#paint3_linear_12637_19232)"/>
                    </g>
                    <defs>
                        <linearGradient id="paint0_linear_12637_19232" x1="9.54538" y1="14.7954" x2="18.3355" y2="1.56416" gradientUnits="userSpaceOnUse">
                            <stop stop-color="#EFECFF"/>
                            <stop offset="1" stop-color="#A4C9EB"/>
                        </linearGradient>
                        <linearGradient id="paint1_linear_12637_19232" x1="18.1359" y1="1.90908" x2="19.2014" y2="-4.73774" gradientUnits="userSpaceOnUse">
                            <stop offset="0.07" stop-color="white"/>
                            <stop offset="0.89" stop-color="#009FFF"/>
                        </linearGradient>
                        <linearGradient id="paint2_linear_12637_19232" x1="3743.52" y1="1482.75" x2="4101.12" y2="1154.22" gradientUnits="userSpaceOnUse">
                            <stop offset="0.07" stop-color="white"/>
                            <stop offset="0.89" stop-color="#009FFF"/>
                        </linearGradient>
                        <linearGradient id="paint3_linear_12637_19232" x1="19.5678" y1="10.4999" x2="27.7267" y2="14.7077" gradientUnits="userSpaceOnUse">
                            <stop stop-color="#EAF0FF"/>
                            <stop offset="0.98" stop-color="#7BA2CB"/>
                        </linearGradient>
                        <clipPath id="clip0_12637_19232">
                            <rect width="30.5455" height="21" fill="white"/>
                        </clipPath>
                    </defs>
                </svg>
            </div>

            <!-- Navigation Icons -->
            <nav class="flex-1 py-6">
                <ul class="space-y-2 px-2">
                    <li>
                        <div class="w-10 h-10 flex items-center justify-center rounded-lg text-white">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
                            </svg>
                        </div>
                    </li>
                    <li>
                        <div class="w-10 h-10 flex items-center justify-center rounded-lg text-white">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-6 h-6">
                                <path d="M9.7668 5.68674C9.97222 5.13161 10.7574 5.1316 10.9628 5.68674L12.3376 9.40205C12.7251 10.4492 13.5508 11.2749 14.598 11.6624L18.3133 13.0372C18.8684 13.2426 18.8684 14.0278 18.3133 14.2332L14.598 15.608C13.5508 15.9955 12.7251 16.8211 12.3376 17.8683L10.9628 21.5836C10.7574 22.1388 9.97222 22.1388 9.7668 21.5836L8.39201 17.8683C8.00451 16.8211 7.17886 15.9955 6.13166 15.608L2.41635 14.2332C1.86122 14.0278 1.86122 13.2426 2.41635 13.0372L6.13166 11.6624C7.17886 11.2749 8.00451 10.4492 8.39201 9.40205L9.7668 5.68674Z" fill="currentColor"/>
                                <path d="M18.4149 2.16654C18.497 1.94449 18.8111 1.94449 18.8933 2.16654L19.4432 3.65266C19.5982 4.07154 19.9285 4.4018 20.3473 4.5568L21.8335 5.10672C22.0555 5.18889 22.0555 5.50296 21.8335 5.58513L20.3473 6.13504C19.9285 6.29004 19.5982 6.6203 19.4432 7.03918L18.8933 8.5253C18.8111 8.74736 18.497 8.74736 18.4149 8.5253L17.865 7.03918C17.71 6.6203 17.3797 6.29004 16.9608 6.13504L15.4747 5.58513C15.2526 5.50296 15.2526 5.18889 15.4747 5.10672L16.9608 4.5568C17.3797 4.4018 17.71 4.07154 17.865 3.65266L18.4149 2.16654Z" fill="currentColor"/>
                            </svg>
                        </div>
                    </li>
                    <li>
                        <div class="w-10 h-10 flex items-center justify-center rounded-lg text-white" style="background-color: #824BFB">
                            <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-6 h-6">
                                <path d="M1.5 13.1111H4.66667C5.22657 13.1111 5.76354 13.3335 6.15945 13.7294C6.55536 14.1254 6.77778 14.6623 6.77778 15.2222V18.3889C6.77778 18.9488 6.55536 19.4858 6.15945 19.8817C5.76354 20.2776 5.22657 20.5 4.66667 20.5H3.61111C3.05121 20.5 2.51424 20.2776 2.11833 19.8817C1.72242 19.4858 1.5 18.9488 1.5 18.3889V11C1.5 8.48044 2.50089 6.06408 4.28249 4.28249C6.06408 2.50089 8.48044 1.5 11 1.5C13.5196 1.5 15.9359 2.50089 17.7175 4.28249C19.4991 6.06408 20.5 8.48044 20.5 11V18.3889C20.5 18.9488 20.2776 19.4858 19.8817 19.8817C19.4858 20.2776 18.9488 20.5 18.3889 20.5H17.3333C16.7734 20.5 16.2365 20.2776 15.8406 19.8817C15.4446 19.4858 15.2222 18.9488 15.2222 18.3889V15.2222C15.2222 14.6623 15.4446 14.1254 15.8406 13.7294C16.2365 13.3335 16.7734 13.1111 17.3333 13.1111H20.5" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                    </li>
                </ul>
            </nav>

            <!-- Bottom Icons -->
            <div class="p-3 space-y-2 flex flex-col items-center">
                <div class="w-10 h-10 flex items-center justify-center rounded-lg text-white hover:bg-gray-700 hover:text-white transition-colors cursor-pointer">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                    </svg>
                </div>
                <div class="w-10 h-10 flex items-center justify-center">
                    <span class="text-base font-medium text-white">A</span>
                </div>
            </div>
        </div>

        <!-- Level 2: Expanded Navigation Panel -->
        <div id="expanded-nav" class="w-64 bg-white h-screen fixed left-14 flex flex-col z-10 transition-all duration-300 border-r border-gray-200" style="top: 70px;">

            <!-- Navigation Content -->
            <div class="flex-1 overflow-y-auto p-4 pt-6">
                <div class="space-y-1">
                    <!-- Home -->
                    <a href="#" onclick="showPage('home')" class="nav-link flex items-center space-x-3 px-3 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors" style="height: 48px;">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/>
                            <polyline stroke-linecap="round" stroke-linejoin="round" stroke-width="2" points="9,22 9,12 15,12 15,22"/>
                        </svg>
                        <span class="nav-text">Home</span>
                    </a>

                    <!-- Customers -->
                    <a href="#" onclick="showPage('customers')" class="nav-link flex items-center space-x-3 px-3 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors" style="height: 48px;">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/>
                        </svg>
                        <span class="nav-text">Customers</span>
                    </a>

                    <!-- Conversations -->
                    <a href="#" onclick="showPage('conversations')" class="nav-link flex items-center space-x-3 px-3 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors" style="height: 48px;">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"/>
                        </svg>
                        <span class="nav-text">Conversations</span>
                    </a>

                    <!-- AI Agent Settings -->
                    <a href="#" onclick="showPage('ai-settings')" class="nav-link flex items-center space-x-3 px-3 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors" style="height: 48px;">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4 h-4">
                            <path d="M9.7668 5.68674C9.97222 5.13161 10.7574 5.1316 10.9628 5.68674L12.3376 9.40205C12.7251 10.4492 13.5508 11.2749 14.598 11.6624L18.3133 13.0372C18.8684 13.2426 18.8684 14.0278 18.3133 14.2332L14.598 15.608C13.5508 15.9955 12.7251 16.8211 12.3376 17.8683L10.9628 21.5836C10.7574 22.1388 9.97222 22.1388 9.7668 21.5836L8.39201 17.8683C8.00451 16.8211 7.17886 15.9955 6.13166 15.608L2.41635 14.2332C1.86122 14.0278 1.86122 13.2426 2.41635 13.0372L6.13166 11.6624C7.17886 11.2749 8.00451 10.4492 8.39201 9.40205L9.7668 5.68674Z" fill="currentColor"/>
                            <path d="M18.4149 2.16654C18.497 1.94449 18.8111 1.94449 18.8933 2.16654L19.4432 3.65266C19.5982 4.07154 19.9285 4.4018 20.3473 4.5568L21.8335 5.10672C22.0555 5.18889 22.0555 5.50296 21.8335 5.58513L20.3473 6.13504C19.9285 6.29004 19.5982 6.6203 19.4432 7.03918L18.8933 8.5253C18.8111 8.74736 18.497 8.74736 18.4149 8.5253L17.865 7.03918C17.71 6.6203 17.3797 6.29004 16.9608 6.13504L15.4747 5.58513C15.2526 5.50296 15.2526 5.18889 15.4747 5.10672L16.9608 4.5568C17.3797 4.4018 17.71 4.07154 17.865 3.65266L18.4149 2.16654Z" fill="currentColor"/>
                        </svg>
                        <span class="nav-text">AI Agent Settings</span>
                    </a>

                    <!-- Integrations -->
                    <a href="#" onclick="showPage('integrations')" class="nav-link flex items-center space-x-3 px-3 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors" style="height: 48px;">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>
                        </svg>
                        <span class="nav-text">Integrations</span>
                    </a>
                </div>
            </div>
        </div>

        <!-- Top Masthead - 70px height, spans across entire top -->
        <div class="bg-white fixed top-0 left-14 right-0 z-15 border-b border-gray-200" style="height: 70px;">
            <div class="px-6 flex items-center h-full">
                <h1 class="text-2xl font-bold text-gray-900">Service Studio</h1>
            </div>
        </div>

        <!-- Main Content Area -->
        <main id="main-content" class="ml-80 flex-1 overflow-auto bg-gray-50 transition-all duration-300" style="margin-top: 70px;">

            <div class="p-6 pt-8">
                <!-- Home Page -->
                <div id="home-page" class="page-content">
                    <div class="space-y-8">

                        <!-- Hero Section -->
                        <div class="text-center mb-12">
                            <h1 class="text-4xl font-bold text-gray-900 mb-4">What are we solving today?</h1>
                            <p class="text-lg text-gray-600 mb-8">Helping and empowering customers with Treasure Data Service AI</p>

                            <!-- AI Chat Interface -->
                            <div class="max-w-4xl mx-auto">
                                <div class="relative">
                                    <textarea
                                        id="ai-textarea"
                                        class="w-full p-6 text-lg border-2 border-blue-300 rounded-2xl resize-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400 bg-white shadow-sm"
                                        rows="4"
                                    ></textarea>
                                    <!-- Animated placeholder overlay -->
                                    <div id="animated-placeholder" class="absolute top-6 left-6 text-lg text-gray-400 pointer-events-none">
                                        Ask Service AI about <span id="rotating-text" class="inline-block">customers</span>
                                    </div>
                                    <!-- Dictation Button (no background) -->
                                    <button class="absolute bottom-6 right-20 text-gray-600 hover:text-gray-800 p-3 transition-colors">
                                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"/>
                                            <path d="M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"/>
                                        </svg>
                                    </button>
                                    <!-- Voice Command / Submit Button (with lighter gray background) -->
                                    <button id="voice-submit-btn" class="absolute bottom-6 right-6 bg-gray-200 hover:bg-gray-300 text-gray-700 p-3 rounded-full transition-colors">
                                        <!-- Voice Mode Icon (default) -->
                                        <svg id="voice-icon" class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                            <rect x="11" y="6" width="2" height="12" rx="1"/>
                                            <rect x="7" y="8" width="2" height="8" rx="1"/>
                                            <rect x="15" y="8" width="2" height="8" rx="1"/>
                                            <rect x="3" y="10" width="2" height="4" rx="1"/>
                                            <rect x="19" y="10" width="2" height="4" rx="1"/>
                                        </svg>
                                        <!-- Submit Icon (hidden by default) -->
                                        <svg id="submit-icon" class="w-5 h-5 hidden" fill="currentColor" viewBox="0 0 16 16">
                                            <path d="M13.4636 7.15162C13.6587 7.34616 13.6587 7.65374 13.4636 7.84828C13.2684 8.04285 12.9596 8.04287 12.7644 7.84828L8.60234 3.69644V12.2C8.60234 12.4761 8.37686 12.7 8.10006 12.7C7.82328 12.7 7.59778 12.4761 7.59778 12.2L7.59778 3.69644L3.43574 7.84828L3.39869 7.88141C3.19813 8.03361 2.89702 8.02367 2.70851 7.84828C2.51979 7.67273 2.50979 7.37254 2.68695 7.18487L2.70851 7.15162L7.57423 2.30982C7.59993 2.28463 7.62776 2.2618 7.65657 2.24207C7.68599 2.22083 7.71788 2.20317 7.75128 2.18931C7.78467 2.17545 7.81825 2.16608 7.85098 2.16094C7.87691 2.15651 7.90419 2.15326 7.93206 2.15326C7.96044 2.15325 7.98821 2.1564 8.01471 2.16094C8.04554 2.16564 8.07581 2.17404 8.10469 2.18594L8.11054 2.18797C8.12855 2.1946 8.1447 2.20277 8.16128 2.21047C8.19093 2.22563 8.21893 2.24397 8.24389 2.26673L13.4636 7.15162Z"/>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Two Column Layout -->
                        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                            <!-- Left Column (2/3 width) -->
                            <div class="lg:col-span-2 space-y-8">
                                <!-- Section 1: Active Tickets - Requiring Attention -->
                                <div class="bg-white rounded-lg shadow-sm border border-gray-200">
                                    <div class="px-6 py-4 border-b border-gray-200">
                                        <h2 class="text-xl font-semibold text-gray-900">Requiring Attention</h2>
                                    </div>

                                    <div class="divide-y divide-gray-200">
                                        <!-- Sarah Johnson - Approval Needed -->
                                        <div class="p-6 border-l-4" style="border-left-color: #FCD3D6;">
                                            <div class="flex items-start justify-between mb-4">
                                                <div class="flex items-center space-x-3">
                                                    <img src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face&auto=format"
                                                         alt="Sarah Johnson"
                                                         class="w-10 h-10 rounded-full object-cover border-2 border-gray-200">
                                                    <div>
                                                        <h3 class="font-semibold text-gray-900">Sarah Johnson</h3>
                                                        <p class="text-sm text-gray-500">Bronze Member • Treasure Apparel</p>
                                                    </div>
                                                </div>
                                                <div class="text-right">
                                                    <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium" style="background-color: #FEF4F5; color: #7A121A;">
                                                        URGENT APPROVAL
                                                    </span>
                                                    <p class="text-sm text-gray-500 mt-1">1 min ago</p>
                                                </div>
                                            </div>

                                            <div class="mb-4">
                                                <p class="font-medium text-gray-900 mb-2">Issue: Multiple failed payment attempts triggering fraud alert</p>
                                            </div>

                                            <!-- AI Agent Analysis -->
                                            <div class="bg-gray-50 rounded-lg p-4 mb-4">
                                                <div class="mb-3">
                                                    <h4 class="font-medium text-gray-900">AI Agent Analysis</h4>
                                                </div>
                                                <div class="grid grid-cols-2 gap-4">
                                                    <div class="flex items-center space-x-2">
                                                        <span class="text-sm">⚠️</span>
                                                        <span class="text-sm text-gray-600">5 failed payments (30 min)</span>
                                                    </div>
                                                    <div class="flex items-center space-x-2">
                                                        <span class="text-sm">🏠</span>
                                                        <span class="text-sm text-gray-600">Same billing address</span>
                                                    </div>
                                                    <div class="flex items-center space-x-2">
                                                        <span class="text-sm">📱</span>
                                                        <span class="text-sm text-gray-600">Same device & IP</span>
                                                    </div>
                                                    <div class="flex items-center space-x-2">
                                                        <span class="text-sm">💳</span>
                                                        <span class="text-sm text-gray-600">Different card numbers</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- AI Recommendation -->
                                            <div class="bg-orange-50 rounded-lg p-4 mb-4">
                                                <div class="mb-3">
                                                    <h4 class="font-medium text-gray-900">AI Risk Assessment for Sarah</h4>
                                                </div>
                                                <ol class="space-y-2">
                                                    <li class="flex items-start space-x-2">
                                                        <span class="font-medium text-black">1.</span>
                                                        <span class="text-sm"><strong>Low fraud risk</strong> - customer behavior matches previous patterns</span>
                                                    </li>
                                                    <li class="flex items-start space-x-2">
                                                        <span class="font-medium text-black">2.</span>
                                                        <span class="text-sm"><strong>Contact customer</strong> - verify payment method and offer assistance</span>
                                                    </li>
                                                </ol>
                                            </div>

                                            <!-- Action Buttons -->
                                            <div class="flex space-x-3">
                                                <button class="flex-1 px-4 py-2 text-white text-sm font-medium rounded-lg flex items-center justify-center space-x-2" style="background-color: #047857; hover:background-color: #065f46;">
                                                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                                    </svg>
                                                    <span>Clear Alert</span>
                                                </button>
                                                <button class="flex-1 px-4 py-2 text-white text-sm font-medium rounded-lg flex items-center justify-center space-x-2" style="background-color: #1e40af; color: white;">
                                                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"/>
                                                    </svg>
                                                    <span>Call Customer</span>
                                                </button>
                                                <button class="flex-1 px-4 py-2 text-white text-sm font-medium rounded-lg flex items-center justify-center space-x-2" style="background-color: #b91c1c;">
                                                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                        <path fill-rule="evenodd" d="M13.477 14.89A6 6 0 015.11 6.524l8.367 8.368zm1.414-1.414L6.524 5.11a6 6 0 008.367 8.367zM18 10a8 8 0 11-16 0 8 8 0 0116 0z" clip-rule="evenodd"/>
                                                    </svg>
                                                    <span>Block Account</span>
                                                </button>
                                            </div>
                                        </div>

                                        <!-- Emma Parker - Approval Needed -->
                                        <div class="p-6 border-l-4" style="border-left-color: #FFE689;">
                                            <div class="flex items-start justify-between mb-4">
                                                <div class="flex items-center space-x-3">
                                                    <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face&auto=format"
                                                         alt="Emma Parker"
                                                         class="w-10 h-10 rounded-full object-cover border-2 border-gray-200">
                                                    <div>
                                                        <h3 class="font-semibold text-gray-900">Emma Parker</h3>
                                                        <p class="text-sm text-gray-500">Gold Member • Treasure Apparel</p>
                                                    </div>
                                                </div>
                                                <div class="text-right">
                                                    <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium" style="background-color: #FFF7DB; color: #826E25;">
                                                        APPROVAL NEEDED
                                                    </span>
                                                    <p class="text-sm text-gray-500 mt-1">3 min ago</p>
                                                </div>
                                            </div>

                                            <div class="mb-4">
                                                <p class="font-medium text-gray-900 mb-2">Issue: Coupon code 'FALL20' failed at checkout</p>
                                            </div>

                                            <!-- AI Agent Analysis -->
                                            <div class="bg-gray-50 rounded-lg p-4 mb-4">
                                                <div class="mb-3">
                                                    <h4 class="font-medium text-gray-900">AI Agent Analysis</h4>
                                                </div>
                                                <div class="grid grid-cols-2 gap-4">
                                                    <div class="flex items-center space-x-2">
                                                        <span class="text-sm">🏷️</span>
                                                        <span class="text-sm text-gray-600">Coupon expired yesterday</span>
                                                    </div>
                                                    <div class="flex items-center space-x-2">
                                                        <span class="text-sm">💎</span>
                                                        <span class="text-sm text-gray-600">Gold loyalty tier</span>
                                                    </div>
                                                    <div class="flex items-center space-x-2">
                                                        <span class="text-sm">💰</span>
                                                        <span class="text-sm text-gray-600">$2,300 lifetime value</span>
                                                    </div>
                                                    <div class="flex items-center space-x-2">
                                                        <span class="text-sm">⭐</span>
                                                        <span class="text-sm text-gray-600">4.8/5 satisfaction rating</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- AI Recommendation -->
                                            <div class="bg-green-50 rounded-lg p-4 mb-4">
                                                <div class="mb-3">
                                                    <h4 class="font-medium text-gray-900">AI Recommendation for Emma</h4>
                                                </div>
                                                <ol class="space-y-2">
                                                    <li class="flex items-start space-x-2">
                                                        <span class="font-medium text-black">1.</span>
                                                        <span class="text-sm"><strong>Extend coupon</strong> - within policy for Gold members</span>
                                                    </li>
                                                    <li class="flex items-start space-x-2">
                                                        <span class="font-medium text-black">2.</span>
                                                        <span class="text-sm"><strong>Add $20 goodwill credit</strong> - based on loyalty tier & LTV</span>
                                                    </li>
                                                </ol>
                                            </div>

                                            <!-- Action Buttons -->
                                            <div class="flex space-x-3">
                                                <button class="flex-1 px-4 py-2 text-white text-sm font-medium rounded-lg flex items-center justify-center space-x-2" style="background-color: #047857; hover:background-color: #065f46;">
                                                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                                    </svg>
                                                    <span>Approve All</span>
                                                </button>
                                                <button class="flex-1 px-4 py-2 text-white text-sm font-medium rounded-lg flex items-center justify-center space-x-2" style="background-color: #1e40af; color: white;">
                                                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"/>
                                                    </svg>
                                                    <span>Partial Approval</span>
                                                </button>
                                                <button class="flex-1 px-4 py-2 text-white text-sm font-medium rounded-lg flex items-center justify-center space-x-2" style="background-color: #b91c1c;">
                                                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
                                                    </svg>
                                                    <span>Take Over</span>
                                                </button>
                                            </div>
                                        </div>

                                        <!-- Marcus Chen - Approval Needed -->
                                        <div class="p-6 border-l-4" style="border-left-color: #FFE689;">
                                            <div class="flex items-start justify-between mb-4">
                                                <div class="flex items-center space-x-3">
                                                    <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face&auto=format"
                                                         alt="Marcus Chen"
                                                         class="w-10 h-10 rounded-full object-cover border-2 border-gray-200">
                                                    <div>
                                                        <h3 class="font-semibold text-gray-900">Marcus Chen</h3>
                                                        <p class="text-sm text-gray-500">Silver Member • Treasure Apparel</p>
                                                    </div>
                                                </div>
                                                <div class="text-right">
                                                    <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium" style="background-color: #FFF7DB; color: #826E25;">
                                                        APPROVAL NEEDED
                                                    </span>
                                                    <p class="text-sm text-gray-500 mt-1">2 min ago</p>
                                                </div>
                                            </div>

                                            <div class="mb-4">
                                                <p class="font-medium text-gray-900 mb-2">Issue: Refund request for damaged item exceeds policy limit</p>
                                            </div>

                                            <!-- AI Agent Analysis -->
                                            <div class="bg-gray-50 rounded-lg p-4 mb-4">
                                                <div class="mb-3">
                                                    <h4 class="font-medium text-gray-900">AI Agent Analysis</h4>
                                                </div>
                                                <div class="grid grid-cols-2 gap-4">
                                                    <div class="flex items-center space-x-2">
                                                        <span class="text-sm">📦</span>
                                                        <span class="text-sm text-gray-600">Package damaged in transit</span>
                                                    </div>
                                                    <div class="flex items-center space-x-2">
                                                        <span class="text-sm">💰</span>
                                                        <span class="text-sm text-gray-600">Refund: $185 (limit: $150)</span>
                                                    </div>
                                                    <div class="flex items-center space-x-2">
                                                        <span class="text-sm">🕒</span>
                                                        <span class="text-sm text-gray-600">Purchased 3 days ago</span>
                                                    </div>
                                                    <div class="flex items-center space-x-2">
                                                        <span class="text-sm">🏆</span>
                                                        <span class="text-sm text-gray-600">3rd order this month</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- AI Recommendation -->
                                            <div class="bg-green-50 rounded-lg p-4 mb-4">
                                                <div class="mb-3">
                                                    <h4 class="font-medium text-gray-900">AI Recommendation for Marcus</h4>
                                                </div>
                                                <ol class="space-y-2">
                                                    <li class="flex items-start space-x-2">
                                                        <span class="font-medium text-black">1.</span>
                                                        <span class="text-sm"><strong>Approve full refund</strong> - shipping carrier confirmed damage</span>
                                                    </li>
                                                    <li class="flex items-start space-x-2">
                                                        <span class="font-medium text-black">2.</span>
                                                        <span class="text-sm"><strong>Update policy exception</strong> - add note for future carrier claims</span>
                                                    </li>
                                                </ol>
                                            </div>

                                            <!-- Action Buttons -->
                                            <div class="flex space-x-3">
                                                <button class="flex-1 px-4 py-2 text-white text-sm font-medium rounded-lg flex items-center justify-center space-x-2" style="background-color: #047857; hover:background-color: #065f46;">
                                                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                                    </svg>
                                                    <span>Approve Exception</span>
                                                </button>
                                                <button class="flex-1 px-4 py-2 text-white text-sm font-medium rounded-lg flex items-center justify-center space-x-2" style="background-color: #1e40af; color: white;">
                                                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"/>
                                                    </svg>
                                                    <span>Partial Refund</span>
                                                </button>
                                                <button class="flex-1 px-4 py-2 text-white text-sm font-medium rounded-lg flex items-center justify-center space-x-2" style="background-color: #b91c1c;">
                                                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
                                                    </svg>
                                                    <span>Escalate</span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Section 2: AI Insights & Recommendations -->
                                <div class="bg-white rounded-lg shadow-sm border border-gray-200">
                                    <div class="px-6 py-4 border-b border-gray-200">
                                        <div class="flex items-center justify-between">
                                            <h3 class="text-lg font-semibold text-gray-900">
                                                <span>AI Insights & Recommendations</span>
                                            </h3>
                                            <span class="text-xs text-gray-500">Updated 5 minutes ago</span>
                                        </div>
                                    </div>

                                    <div class="p-6 space-y-5">
                                        <!-- Trending Issue Detected -->
                                        <div class="flex items-start justify-between pt-0 pb-5 border-b border-gray-100 last:border-b-0">
                                            <div class="flex items-start space-x-3 flex-1">
                                                <div class="w-2 h-2 bg-red-500 rounded-full mt-2 flex-shrink-0"></div>
                                                <div class="flex-1 min-w-0">
                                                    <div class="flex items-center justify-between mb-2">
                                                        <h4 class="font-semibold text-gray-900 text-base">Trending Issue Detected</h4>
                                                        <span class="inline-flex items-center justify-center text-xs font-normal ml-3" style="padding-left: 12px; padding-right: 12px; padding-top: 4px; padding-bottom: 4px; background: #FCD3D3; border-radius: 10150.83px; color: #991B1B; font-size: 11px; line-height: 18px;">
                                                            High Priority
                                                        </span>
                                                    </div>
                                                    <p class="text-sm text-gray-600 mb-3">8 new tickets about the checkout page error after latest deployment</p>
                                                    <button class="inline-flex items-center text-sm font-medium" style="color: #1957DB;">
                                                        <span>View Related Tickets</span>
                                                        <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                                                        </svg>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Auto-Resolution Opportunity -->
                                        <div class="flex items-start justify-between pt-0 pb-5 border-b border-gray-100 last:border-b-0">
                                            <div class="flex items-start space-x-3 flex-1">
                                                <div class="w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"></div>
                                                <div class="flex-1 min-w-0">
                                                    <div class="flex items-center justify-between mb-2">
                                                        <h4 class="font-semibold text-gray-900 text-base">Auto-Resolution Opportunity</h4>
                                                        <span class="inline-flex items-center justify-center text-xs font-normal ml-3" style="padding-left: 12px; padding-right: 12px; padding-top: 4px; padding-bottom: 4px; background: #D3DBF6; border-radius: 10150.83px; color: #3730A3; font-size: 11px; line-height: 18px;">
                                                            Medium Priority
                                                        </span>
                                                    </div>
                                                    <p class="text-sm text-gray-600 mb-3">72% of password reset tickets can be automated with current AI model</p>
                                                    <button class="inline-flex items-center text-sm font-medium" style="color: #1957DB;">
                                                        <span>Enable Automation</span>
                                                        <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                                                        </svg>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Customer Satisfaction Alert -->
                                        <div class="flex items-start justify-between pt-0 pb-5 border-b border-gray-100 last:border-b-0">
                                            <div class="flex items-start space-x-3 flex-1">
                                                <div class="w-2 h-2 bg-orange-500 rounded-full mt-2 flex-shrink-0"></div>
                                                <div class="flex-1 min-w-0">
                                                    <div class="flex items-center justify-between mb-2">
                                                        <h4 class="font-semibold text-gray-900 text-base">Customer Satisfaction Alert</h4>
                                                        <span class="inline-flex items-center justify-center text-xs font-normal ml-3" style="padding-left: 12px; padding-right: 12px; padding-top: 4px; padding-bottom: 4px; background: #FCD3D3; border-radius: 10150.83px; color: #991B1B; font-size: 11px; line-height: 18px;">
                                                            High Priority
                                                        </span>
                                                    </div>
                                                    <p class="text-sm text-gray-600 mb-3">Enterprise segment satisfaction dropped 6% this week</p>
                                                    <button class="inline-flex items-center text-sm font-medium" style="color: #1957DB;">
                                                        <span>View Analytics</span>
                                                        <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                                                        </svg>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Right Column (1/3 width) -->
                            <div class="space-y-6">
                                <!-- Active AI Agent -->
                                <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-4">
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center space-x-2">
                                            <span class="text-3xl font-bold text-green-600">9</span>
                                            <span class="text-sm text-gray-500">active AI agents</span>
                                        </div>
                                        <div class="text-right">
                                            <div class="flex items-center space-x-2">
                                                <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
                                                <span class="text-sm text-green-600 font-medium">All operational</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- AI Performance -->
                                <div class="bg-white rounded-lg shadow-sm border border-gray-200">
                                    <div class="px-6 py-4 border-b border-gray-200">
                                        <div class="flex items-center justify-between">
                                            <h3 class="text-lg font-semibold text-gray-900">
                                                <span>AI Performance</span>
                                            </h3>
                                            <span class="text-xs text-gray-500">Last 24 hours</span>
                                        </div>
                                    </div>

                                    <div class="p-6">
                                        <div class="grid grid-cols-2 gap-4">
                                            <!-- Issues Resolved -->
                                            <div class="rounded-lg p-4" style="background-color: #F9FBFF;">
                                                <h4 class="text-sm text-gray-600 mb-1">Issues resolved</h4>
                                                <div class="text-2xl font-bold text-gray-900 mb-1">142</div>
                                                <div class="flex items-center text-sm">
                                                    <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20" style="color: #4AAF5C;">
                                                        <path fill-rule="evenodd" d="M5.293 7.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L6.707 7.707a1 1 0 01-1.414 0z" clip-rule="evenodd"/>
                                                    </svg>
                                                    <span class="font-medium" style="color: #4AAF5C;">+18%</span>
                                                </div>
                                            </div>

                                            <!-- Avg Time to Resolve -->
                                            <div class="rounded-lg p-4" style="background-color: #F9FBFF;">
                                                <h4 class="text-sm text-gray-600 mb-1">Avg. time to resolve</h4>
                                                <div class="text-2xl font-bold text-gray-900 mb-1">4.2m</div>
                                                <div class="flex items-center text-sm">
                                                    <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20" style="color: #4AAF5C;">
                                                        <path fill-rule="evenodd" d="M14.707 12.293a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 111.414-1.414L9 14.586V3a1 1 0 012 0v11.586l2.293-2.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                                    </svg>
                                                    <span class="font-medium" style="color: #4AAF5C;">-12%</span>
                                                </div>
                                            </div>

                                            <!-- Resolution Rate -->
                                            <div class="rounded-lg p-4" style="background-color: #F9FBFF;">
                                                <h4 class="text-sm text-gray-600 mb-1">Resolution rate</h4>
                                                <div class="text-2xl font-bold text-gray-900 mb-1">77%</div>
                                                <div class="flex items-center text-sm">
                                                    <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20" style="color: #4AAF5C;">
                                                        <path fill-rule="evenodd" d="M5.293 7.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L6.707 7.707a1 1 0 01-1.414 0z" clip-rule="evenodd"/>
                                                    </svg>
                                                    <span class="font-medium" style="color: #4AAF5C;">+5%</span>
                                                </div>
                                            </div>

                                            <!-- Customer Satisfaction -->
                                            <div class="rounded-lg p-4" style="background-color: #F9FBFF;">
                                                <h4 class="text-sm text-gray-600 mb-1">Customer satisfaction</h4>
                                                <div class="text-2xl font-bold text-gray-900 mb-1">4.7</div>
                                                <div class="flex items-center text-sm">
                                                    <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20" style="color: #4AAF5C;">
                                                        <path fill-rule="evenodd" d="M5.293 7.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L6.707 7.707a1 1 0 01-1.414 0z" clip-rule="evenodd"/>
                                                    </svg>
                                                    <span class="font-medium" style="color: #4AAF5C;">+0.3</span>
                                                </div>
                                            </div>

                                            <!-- Upsells Made -->
                                            <div class="rounded-lg p-4" style="background-color: #F9FBFF;">
                                                <h4 class="text-sm text-gray-600 mb-1">Upsells made</h4>
                                                <div class="text-2xl font-bold text-gray-900 mb-1">21</div>
                                                <div class="flex items-center text-sm">
                                                    <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20" style="color: #4AAF5C;">
                                                        <path fill-rule="evenodd" d="M5.293 7.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L6.707 7.707a1 1 0 01-1.414 0z" clip-rule="evenodd"/>
                                                    </svg>
                                                    <span class="font-medium" style="color: #4AAF5C;">+7%</span>
                                                </div>
                                            </div>

                                            <!-- Upsells Amount -->
                                            <div class="rounded-lg p-4" style="background-color: #F9FBFF;">
                                                <h4 class="text-sm text-gray-600 mb-1">Upsells amount ($)</h4>
                                                <div class="text-2xl font-bold text-gray-900 mb-1">$7,890</div>
                                                <div class="flex items-center text-sm">
                                                    <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20" style="color: #4AAF5C;">
                                                        <path fill-rule="evenodd" d="M5.293 7.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L6.707 7.707a1 1 0 01-1.414 0z" clip-rule="evenodd"/>
                                                    </svg>
                                                    <span class="font-medium" style="color: #4AAF5C;">+$1,734</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Customer Sentiment -->
                                <div class="bg-white rounded-lg shadow-sm border border-gray-200">
                                    <div class="px-6 py-4 border-b border-gray-200">
                                        <div class="flex items-center justify-between">
                                            <h3 class="text-lg font-semibold text-gray-900">Customer Sentiment</h3>
                                            <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800">
                                                <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd" d="M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                                </svg>
                                                AI Powered
                                            </span>
                                        </div>
                                    </div>

                                    <div class="p-6">
                                        <div class="space-y-4">
                                            <!-- Positive -->
                                            <div class="flex items-center justify-between">
                                                <div class="flex items-center space-x-3">
                                                    <div class="w-6 h-6 rounded-full flex items-center justify-center" style="background-color: #E7FAEA;">
                                                        <span class="text-sm" style="color: #4AAF5C;">😊</span>
                                                    </div>
                                                    <span class="text-sm font-medium text-gray-900">Positive</span>
                                                </div>
                                                <div class="flex items-center space-x-2">
                                                    <span class="text-lg font-bold text-gray-900">62%</span>
                                                    <div class="flex items-center text-sm">
                                                        <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20" style="color: #4AAF5C;">
                                                            <path fill-rule="evenodd" d="M5.293 7.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L6.707 7.707a1 1 0 01-1.414 0z" clip-rule="evenodd"/>
                                                        </svg>
                                                        <span class="font-medium" style="color: #4AAF5C;">+5%</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Neutral -->
                                            <div class="flex items-center justify-between">
                                                <div class="flex items-center space-x-3">
                                                    <div class="w-6 h-6 rounded-full flex items-center justify-center" style="background-color: #EDF2FC;">
                                                        <span class="text-sm" style="color: #1E428E;">😐</span>
                                                    </div>
                                                    <span class="text-sm font-medium text-gray-900">Neutral</span>
                                                </div>
                                                <div class="flex items-center space-x-2">
                                                    <span class="text-lg font-bold text-gray-900">28%</span>
                                                    <div class="flex items-center text-sm">
                                                        <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20" style="color: #4AAF5C;">
                                                            <path fill-rule="evenodd" d="M14.707 12.293a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 111.414-1.414L9 14.586V3a1 1 0 012 0v11.586l2.293-2.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                                        </svg>
                                                        <span class="font-medium" style="color: #4AAF5C;">-2%</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Negative -->
                                            <div class="flex items-center justify-between">
                                                <div class="flex items-center space-x-3">
                                                    <div class="w-6 h-6 rounded-full flex items-center justify-center" style="background-color: #FEF4F5;">
                                                        <span class="text-sm" style="color: #7A121A;">😞</span>
                                                    </div>
                                                    <span class="text-sm font-medium text-gray-900">Negative</span>
                                                </div>
                                                <div class="flex items-center space-x-2">
                                                    <span class="text-lg font-bold text-gray-900">10%</span>
                                                    <div class="flex items-center text-sm">
                                                        <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20" style="color: #4AAF5C;">
                                                            <path fill-rule="evenodd" d="M14.707 12.293a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 111.414-1.414L9 14.586V3a1 1 0 012 0v11.586l2.293-2.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                                        </svg>
                                                        <span class="font-medium" style="color: #4AAF5C;">-3%</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Progress Bar -->
                                            <div class="mt-4">
                                                <div class="w-full bg-gray-200 rounded-full h-3">
                                                    <div class="flex h-3 rounded-full overflow-hidden">
                                                        <div class="flex-1" style="flex-basis: 62%; background-color: #5CD873;"></div>
                                                        <div class="flex-1" style="flex-basis: 28%; background-color: #3068DF;"></div>
                                                        <div class="flex-1" style="flex-basis: 10%; background-color: #EE2233;"></div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="mt-4 pt-4 border-t border-gray-200">
                                                <p class="text-sm text-gray-600 mb-3">Customer sentiment is trending positively this week. Negative sentiment has decreased by 3%.</p>
                                                <button class="text-sm font-medium" style="color: #1957DB;">
                                                    View detailed report →
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Customers Page -->
                <div id="customers-page" class="page-content hidden">
                    <div class="space-y-8">
                        <div>
                            <h1 class="text-3xl font-bold text-gray-900">Customers</h1>
                            <p class="text-gray-600 mt-2">Manage customer relationships and proactive outreach</p>
                        </div>

                        <!-- Customer Lookup -->
                        <div class="mb-8">
                            <div class="relative">
                                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                    <svg class="h-5 w-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                                    </svg>
                                </div>
                                <input
                                    type="text"
                                    class="block w-full pl-10 pr-3 py-4 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 text-lg"
                                    placeholder="Search customers by name, email, ID, or any attribute..."
                                />
                            </div>
                        </div>

                        <!-- AI-Recommended Customer Actions -->
                        <div>
                            <h2 class="text-2xl font-bold text-gray-900 mb-6">Proactive Customer Outreach</h2>

                            <div class="space-y-6">
                                <!-- Customer Card 1: Alex Johnson -->
                                <div class="bg-white rounded-lg shadow-sm border border-gray-200 px-6 pt-6 pb-8 hover:shadow-md transition-all duration-200 relative">
                                    <!-- Top Row: Customer Info on left, Status Badge on right -->
                                    <div class="flex justify-between items-start mb-4">
                                        <!-- Left: Customer Info -->
                                        <div class="flex items-center space-x-4">
                                            <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face&auto=format"
                                                 alt="Alex Johnson"
                                                 class="w-16 h-16 rounded-full object-cover border-2 border-gray-200">
                                            <div>
                                                <h3 class="text-lg font-bold text-gray-900">Alex Johnson</h3>
                                                <p class="text-sm text-gray-600">Bronze Member • Treasure Apparel</p>
                                            </div>
                                        </div>

                                        <!-- Right: Status Badge (pinned to top-right) -->
                                        <div class="flex flex-col items-end text-right">
                                            <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800">
                                                High Upsell Potential
                                            </span>
                                            <span class="text-xs text-green-600 mt-1">95% Success Rate</span>
                                        </div>
                                    </div>

                                    <!-- Bottom Row: AI Recommendation on left, Key Insights on right -->
                                    <div class="flex gap-6">
                                        <!-- Left: AI Recommendation (1/3 width) -->
                                        <div class="w-1/3">
                                            <div class="bg-gray-50 rounded-lg p-4 border border-gray-200">
                                                <h4 class="text-sm font-bold mb-2 flex items-center" style="color: #6F2EFF;">
                                                    <svg class="w-4 h-4 mr-2" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                        <path d="M8.13908 4.73954C8.31026 4.27693 8.96458 4.27692 9.13575 4.73954L10.2814 7.83563C10.6043 8.70825 11.2924 9.39634 12.1651 9.71925L15.2612 10.8649C15.7237 11.0361 15.7237 11.6904 15.2612 11.8616L12.1651 13.0073C11.2924 13.3302 10.6043 14.0182 10.2814 14.8908L9.13575 17.9869C8.96458 18.4496 8.31026 18.4496 8.13908 17.9869L6.99342 14.8908C6.6705 14.0182 5.98246 13.3302 5.1098 13.0073L2.0137 11.8616C1.5511 11.6904 1.5511 11.0361 2.0137 10.8649L5.1098 9.71925C5.98246 9.39634 6.6705 8.70825 6.99342 7.83563L8.13908 4.73954Z" fill="#6F2EFF"/>
                                                        <path d="M15.3458 1.80577C15.4142 1.62073 15.676 1.62073 15.7445 1.80577L16.2027 3.04421C16.3319 3.39327 16.6071 3.66849 16.9561 3.79766L18.1946 4.25592C18.3796 4.3244 18.3796 4.58612 18.1946 4.6546L16.9561 5.11286C16.6071 5.24202 16.3319 5.51724 16.2027 5.86631L15.7445 7.10474C15.676 7.28979 15.4142 7.28979 15.3458 7.10474L14.8876 5.86631C14.7584 5.51724 14.4831 5.24202 14.1341 5.11286L12.8956 4.6546C12.7106 4.58612 12.7106 4.3244 12.8956 4.25592L14.1341 3.79766C14.4831 3.66849 14.7584 3.39327 14.8876 3.04421L15.3458 1.80577Z" fill="#6F2EFF"/>
                                                    </svg>
                                                    AI RECOMMENDED ACTION
                                                </h4>
                                                <p class="text-sm text-gray-800">Offer premium subscription upgrade with 20% discount</p>
                                            </div>
                                        </div>

                                        <!-- Right: Key Insights (2/3 width) -->
                                        <div class="flex-1">
                                            <h4 class="text-sm font-bold text-gray-800 mb-3 flex items-center">
                                                <svg class="w-4 h-4 mr-2 text-green-600" fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                                </svg>
                                                KEY INSIGHTS
                                            </h4>
                                            <ul class="text-sm text-gray-700 space-y-2">
                                                <li class="flex items-start">
                                                    <span class="w-2 h-2 bg-green-500 rounded-full mt-2 mr-3 flex-shrink-0"></span>
                                                    <span><strong>85% feature utilization</strong> - consistently using advanced features</span>
                                                </li>
                                                <li class="flex items-start">
                                                    <span class="w-2 h-2 bg-green-500 rounded-full mt-2 mr-3 flex-shrink-0"></span>
                                                    <span><strong>40% activity increase</strong> - engagement trending upward</span>
                                                </li>
                                                <li class="flex items-start">
                                                    <span class="w-2 h-2 bg-green-500 rounded-full mt-2 mr-3 flex-shrink-0"></span>
                                                    <span><strong>Premium trial engagement</strong> - actively exploring paid features</span>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>

                                    <!-- Action Button (pinned to bottom-right) -->
                                    <div class="absolute bottom-6 right-6">
                                        <button class="bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition-colors duration-200">
                                            Launch Upsell Campaign
                                        </button>
                                    </div>
                                </div>

                                <!-- Customer Card 2: Maria Garcia -->
                                <div class="bg-white rounded-lg shadow-sm border border-gray-200 px-6 pt-6 pb-8 hover:shadow-md transition-all duration-200 relative">
                                    <!-- Top Row: Customer Info on left, Status Badge on right -->
                                    <div class="flex justify-between items-start mb-4">
                                        <!-- Left: Customer Info -->
                                        <div class="flex items-center space-x-4">
                                            <img src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=150&h=150&fit=crop&crop=face&auto=format"
                                                 alt="Maria Garcia"
                                                 class="w-16 h-16 rounded-full object-cover border-2 border-gray-200">
                                            <div>
                                                <h3 class="text-lg font-bold text-gray-900">Maria Garcia</h3>
                                                <p class="text-sm text-gray-600">Standard Member • Tech Solutions</p>
                                            </div>
                                        </div>

                                        <!-- Right: Status Badge (pinned to top-right) -->
                                        <div class="flex flex-col items-end text-right">
                                            <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-yellow-100 text-yellow-800">
                                                Low Sentiment Score
                                            </span>
                                            <span class="text-xs text-yellow-600 mt-1">Needs Attention</span>
                                        </div>
                                    </div>

                                    <!-- Bottom Row: AI Recommendation on left, Key Insights on right -->
                                    <div class="flex gap-6">
                                        <!-- Left: AI Recommendation (1/3 width) -->
                                        <div class="w-1/3">
                                            <div class="bg-gray-50 rounded-lg p-4 border border-gray-200">
                                                <h4 class="text-sm font-bold mb-2 flex items-center" style="color: #6F2EFF;">
                                                    <svg class="w-4 h-4 mr-2" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                        <path d="M8.13908 4.73954C8.31026 4.27693 8.96458 4.27692 9.13575 4.73954L10.2814 7.83563C10.6043 8.70825 11.2924 9.39634 12.1651 9.71925L15.2612 10.8649C15.7237 11.0361 15.7237 11.6904 15.2612 11.8616L12.1651 13.0073C11.2924 13.3302 10.6043 14.0182 10.2814 14.8908L9.13575 17.9869C8.96458 18.4496 8.31026 18.4496 8.13908 17.9869L6.99342 14.8908C6.6705 14.0182 5.98246 13.3302 5.1098 13.0073L2.0137 11.8616C1.5511 11.6904 1.5511 11.0361 2.0137 10.8649L5.1098 9.71925C5.98246 9.39634 6.6705 8.70825 6.99342 7.83563L8.13908 4.73954Z" fill="#6F2EFF"/>
                                                        <path d="M15.3458 1.80577C15.4142 1.62073 15.676 1.62073 15.7445 1.80577L16.2027 3.04421C16.3319 3.39327 16.6071 3.66849 16.9561 3.79766L18.1946 4.25592C18.3796 4.3244 18.3796 4.58612 18.1946 4.6546L16.9561 5.11286C16.6071 5.24202 16.3319 5.51724 16.2027 5.86631L15.7445 7.10474C15.676 7.28979 15.4142 7.28979 15.3458 7.10474L14.8876 5.86631C14.7584 5.51724 14.4831 5.24202 14.1341 5.11286L12.8956 4.6546C12.7106 4.58612 12.7106 4.3244 12.8956 4.25592L14.1341 3.79766C14.4831 3.66849 14.7584 3.39327 14.8876 3.04421L15.3458 1.80577Z" fill="#6F2EFF"/>
                                                    </svg>
                                                    AI RECOMMENDED ACTION
                                                </h4>
                                                <p class="text-sm text-gray-800">Send personalized apology and offer dedicated support session</p>
                                            </div>
                                        </div>

                                        <!-- Right: Key Insights (2/3 width) -->
                                        <div class="flex-1">
                                            <h4 class="text-sm font-bold text-gray-800 mb-3 flex items-center">
                                                <svg class="w-4 h-4 mr-2 text-yellow-600" fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"/>
                                                </svg>
                                                KEY INSIGHTS
                                            </h4>
                                            <ul class="text-sm text-gray-700 space-y-2">
                                                <li class="flex items-start">
                                                    <span class="w-2 h-2 bg-yellow-500 rounded-full mt-2 mr-3 flex-shrink-0"></span>
                                                    <span><strong>2/5 star support rating</strong> - recent negative experience</span>
                                                </li>
                                                <li class="flex items-start">
                                                    <span class="w-2 h-2 bg-yellow-500 rounded-full mt-2 mr-3 flex-shrink-0"></span>
                                                    <span><strong>30% usage decrease</strong> - declining platform engagement</span>
                                                </li>
                                                <li class="flex items-start">
                                                    <span class="w-2 h-2 bg-yellow-500 rounded-full mt-2 mr-3 flex-shrink-0"></span>
                                                    <span><strong>Multiple negative mentions</strong> - survey feedback concerns</span>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>

                                    <!-- Action Button (pinned to bottom-right) -->
                                    <div class="absolute bottom-6 right-6">
                                        <button class="bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition-colors duration-200">
                                            Schedule Recovery Call
                                        </button>
                                    </div>
                                </div>

                                <!-- Customer Card 3: David Kim -->
                                <div class="bg-white rounded-lg shadow-sm border border-gray-200 px-6 pt-6 pb-8 hover:shadow-md transition-all duration-200 relative">
                                    <!-- Top Row: Customer Info on left, Status Badge on right -->
                                    <div class="flex justify-between items-start mb-4">
                                        <!-- Left: Customer Info -->
                                        <div class="flex items-center space-x-4">
                                            <img src="https://images.unsplash.com/photo-1560250097-0b93528c311a?w=150&h=150&fit=crop&crop=face&auto=format"
                                                 alt="David Kim"
                                                 class="w-16 h-16 rounded-full object-cover border-2 border-gray-200">
                                            <div>
                                                <h3 class="text-lg font-bold text-gray-900">David Kim</h3>
                                                <p class="text-sm text-gray-600">Premium Member • DevCorp Solutions</p>
                                            </div>
                                        </div>

                                        <!-- Right: Status Badge (pinned to top-right) -->
                                        <div class="flex flex-col items-end text-right">
                                            <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-800">
                                                At-Risk for Churn
                                            </span>
                                            <span class="text-xs text-red-600 mt-1">URGENT - 10 days left</span>
                                        </div>
                                    </div>

                                    <!-- Bottom Row: AI Recommendation on left, Key Insights on right -->
                                    <div class="flex gap-6">
                                        <!-- Left: AI Recommendation (1/3 width) -->
                                        <div class="w-1/3">
                                            <div class="bg-gray-50 rounded-lg p-4 border border-gray-200">
                                                <h4 class="text-sm font-bold mb-2 flex items-center" style="color: #6F2EFF;">
                                                    <svg class="w-4 h-4 mr-2" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                        <path d="M8.13908 4.73954C8.31026 4.27693 8.96458 4.27692 9.13575 4.73954L10.2814 7.83563C10.6043 8.70825 11.2924 9.39634 12.1651 9.71925L15.2612 10.8649C15.7237 11.0361 15.7237 11.6904 15.2612 11.8616L12.1651 13.0073C11.2924 13.3302 10.6043 14.0182 10.2814 14.8908L9.13575 17.9869C8.96458 18.4496 8.31026 18.4496 8.13908 17.9869L6.99342 14.8908C6.6705 14.0182 5.98246 13.3302 5.1098 13.0073L2.0137 11.8616C1.5511 11.6904 1.5511 11.0361 2.0137 10.8649L5.1098 9.71925C5.98246 9.39634 6.6705 8.70825 6.99342 7.83563L8.13908 4.73954Z" fill="#6F2EFF"/>
                                                        <path d="M15.3458 1.80577C15.4142 1.62073 15.676 1.62073 15.7445 1.80577L16.2027 3.04421C16.3319 3.39327 16.6071 3.66849 16.9561 3.79766L18.1946 4.25592C18.3796 4.3244 18.3796 4.58612 18.1946 4.6546L16.9561 5.11286C16.6071 5.24202 16.3319 5.51724 16.2027 5.86631L15.7445 7.10474C15.676 7.28979 15.4142 7.28979 15.3458 7.10474L14.8876 5.86631C14.7584 5.51724 14.4831 5.24202 14.1341 5.11286L12.8956 4.6546C12.7106 4.58612 12.7106 4.3244 12.8956 4.25592L14.1341 3.79766C14.4831 3.66849 14.7584 3.39327 14.8876 3.04421L15.3458 1.80577Z" fill="#6F2EFF"/>
                                                    </svg>
                                                    AI RECOMMENDED ACTION
                                                </h4>
                                                <p class="text-sm text-gray-800">Schedule urgent retention call with account manager and offer 6-month discount</p>
                                            </div>
                                        </div>

                                        <!-- Right: Key Insights (2/3 width) -->
                                        <div class="flex-1">
                                            <h4 class="text-sm font-bold text-gray-800 mb-3 flex items-center">
                                                <svg class="w-4 h-4 mr-2 text-red-600" fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
                                                </svg>
                                                KEY INSIGHTS
                                            </h4>
                                            <ul class="text-sm text-gray-700 space-y-2">
                                                <li class="flex items-start">
                                                    <span class="w-2 h-2 bg-red-500 rounded-full mt-2 mr-3 flex-shrink-0"></span>
                                                    <span><strong>75% login drop</strong> - severe engagement decline in 2 weeks</span>
                                                </li>
                                                <li class="flex items-start">
                                                    <span class="w-2 h-2 bg-red-500 rounded-full mt-2 mr-3 flex-shrink-0"></span>
                                                    <span><strong>Renewal in 10 days</strong> - critical intervention window</span>
                                                </li>
                                                <li class="flex items-start">
                                                    <span class="w-2 h-2 bg-red-500 rounded-full mt-2 mr-3 flex-shrink-0"></span>
                                                    <span><strong>Churn pattern match</strong> - similar to previous cancellations</span>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>

                                    <!-- Action Button (pinned to bottom-right) -->
                                    <div class="absolute bottom-6 right-6">
                                        <button class="bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition-colors duration-200">
                                            Urgent Intervention
                                        </button>
                                    </div>
                                </div>

                                <!-- Customer Card 4: Emily White -->
                                <div class="bg-white rounded-lg shadow-sm border border-gray-200 px-6 pt-6 pb-8 hover:shadow-md transition-all duration-200 relative">
                                    <!-- Top Row: Customer Info on left, Status Badge on right -->
                                    <div class="flex justify-between items-start mb-4">
                                        <!-- Left: Customer Info -->
                                        <div class="flex items-center space-x-4">
                                            <img src="https://images.unsplash.com/photo-1487412720507-e7ab37603c6f?w=150&h=150&fit=crop&crop=face&auto=format"
                                                 alt="Emily White"
                                                 class="w-16 h-16 rounded-full object-cover border-2 border-gray-200">
                                            <div>
                                                <h3 class="text-lg font-bold text-gray-900">Emily White</h3>
                                                <p class="text-sm text-gray-600">Gold Member • Marketing Agency</p>
                                            </div>
                                        </div>

                                        <!-- Right: Status Badge (pinned to top-right) -->
                                        <div class="flex flex-col items-end text-right">
                                            <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800">
                                                Good for Promotion
                                            </span>
                                            <span class="text-xs text-blue-600 mt-1">High Convert Rate</span>
                                        </div>
                                    </div>

                                    <!-- Bottom Row: AI Recommendation on left, Key Insights on right -->
                                    <div class="flex gap-6">
                                        <!-- Left: AI Recommendation (1/3 width) -->
                                        <div class="w-1/3">
                                            <div class="bg-gray-50 rounded-lg p-4 border border-gray-200">
                                                <h4 class="text-sm font-bold mb-2 flex items-center" style="color: #6F2EFF;">
                                                    <svg class="w-4 h-4 mr-2" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                        <path d="M8.13908 4.73954C8.31026 4.27693 8.96458 4.27692 9.13575 4.73954L10.2814 7.83563C10.6043 8.70825 11.2924 9.39634 12.1651 9.71925L15.2612 10.8649C15.7237 11.0361 15.7237 11.6904 15.2612 11.8616L12.1651 13.0073C11.2924 13.3302 10.6043 14.0182 10.2814 14.8908L9.13575 17.9869C8.96458 18.4496 8.31026 18.4496 8.13908 17.9869L6.99342 14.8908C6.6705 14.0182 5.98246 13.3302 5.1098 13.0073L2.0137 11.8616C1.5511 11.6904 1.5511 11.0361 2.0137 10.8649L5.1098 9.71925C5.98246 9.39634 6.6705 8.70825 6.99342 7.83563L8.13908 4.73954Z" fill="#6F2EFF"/>
                                                        <path d="M15.3458 1.80577C15.4142 1.62073 15.676 1.62073 15.7445 1.80577L16.2027 3.04421C16.3319 3.39327 16.6071 3.66849 16.9561 3.79766L18.1946 4.25592C18.3796 4.3244 18.3796 4.58612 18.1946 4.6546L16.9561 5.11286C16.6071 5.24202 16.3319 5.51724 16.2027 5.86631L15.7445 7.10474C15.676 7.28979 15.4142 7.28979 15.3458 7.10474L14.8876 5.86631C14.7584 5.51724 14.4831 5.24202 14.1341 5.11286L12.8956 4.6546C12.7106 4.58612 12.7106 4.3244 12.8956 4.25592L14.1341 3.79766C14.4831 3.66849 14.7584 3.39327 14.8876 3.04421L15.3458 1.80577Z" fill="#6F2EFF"/>
                                                    </svg>
                                                    AI RECOMMENDED ACTION
                                                </h4>
                                                <p class="text-sm text-gray-800">Send limited-time add-on promotion with 30% discount on team features</p>
                                            </div>
                                        </div>

                                        <!-- Right: Key Insights (2/3 width) -->
                                        <div class="flex-1">
                                            <h4 class="text-sm font-bold text-gray-800 mb-3 flex items-center">
                                                <svg class="w-4 h-4 mr-2 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                                </svg>
                                                KEY INSIGHTS
                                            </h4>
                                            <ul class="text-sm text-gray-700 space-y-2">
                                                <li class="flex items-start">
                                                    <span class="w-2 h-2 bg-blue-500 rounded-full mt-2 mr-3 flex-shrink-0"></span>
                                                    <span><strong>95% promo response rate</strong> - excellent conversion history</span>
                                                </li>
                                                <li class="flex items-start">
                                                    <span class="w-2 h-2 bg-blue-500 rounded-full mt-2 mr-3 flex-shrink-0"></span>
                                                    <span><strong>Team feature interest</strong> - recent collaboration inquiries</span>
                                                </li>
                                                <li class="flex items-start">
                                                    <span class="w-2 h-2 bg-blue-500 rounded-full mt-2 mr-3 flex-shrink-0"></span>
                                                    <span><strong>4.8/5 satisfaction</strong> - highly engaged customer</span>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>

                                    <!-- Action Button (pinned to bottom-right) -->
                                    <div class="absolute bottom-6 right-6">
                                        <button class="bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition-colors duration-200">
                                            Launch Promotion
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Other pages would be similar... -->
                <div id="conversations-page" class="page-content hidden">
                    <div class="space-y-8">
                        <!-- Page Header -->
                        <div>
                            <h1 class="text-3xl font-bold text-gray-900">Conversations</h1>
                            <p class="text-gray-600 mt-2">Monitor and manage customer conversations</p>
                        </div>

                        <!-- Search Box -->
                        <div class="mb-8">
                            <div class="relative">
                                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                    <svg class="h-5 w-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                                    </svg>
                                </div>
                                <input type="text" class="block w-full pl-10 pr-3 py-4 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 text-lg" placeholder="Search conversations, issues, support tickets...">
                            </div>
                        </div>

                        <!-- Requiring Attention Section (Reused from Home Page) -->
                        <div class="bg-white rounded-lg shadow-sm border border-gray-200">
                            <div class="px-6 py-4 border-b border-gray-200">
                                <h2 class="text-xl font-semibold text-gray-900">Requiring Attention</h2>
                            </div>

                            <div class="divide-y divide-gray-200">
                                <!-- Sarah Johnson - Approval Needed -->
                                <div class="p-6 border-l-4" style="border-left-color: #FCD3D6;">
                                    <div class="flex items-start justify-between mb-4">
                                        <div class="flex items-center space-x-3">
                                            <img src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face&auto=format"
                                                 alt="Sarah Johnson"
                                                 class="w-10 h-10 rounded-full object-cover border-2 border-gray-200">
                                            <div>
                                                <h3 class="font-semibold text-gray-900">Sarah Johnson</h3>
                                                <p class="text-sm text-gray-500">Bronze Member • Treasure Apparel</p>
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium" style="background-color: #FEF4F5; color: #7A121A;">
                                                URGENT APPROVAL
                                            </span>
                                            <p class="text-sm text-gray-500 mt-1">1 min ago</p>
                                        </div>
                                    </div>

                                    <div class="mb-4">
                                        <p class="font-medium text-gray-900 mb-2">Issue: Multiple failed payment attempts triggering fraud alert</p>
                                    </div>

                                    <!-- Two-column layout for AI Analysis and Risk Assessment -->
                                    <div class="grid grid-cols-2 gap-4 mb-4">
                                        <!-- AI Agent Analysis -->
                                        <div class="bg-gray-50 rounded-lg p-4">
                                            <div class="mb-3">
                                                <h4 class="font-medium text-gray-900">AI Agent Analysis</h4>
                                            </div>
                                            <div class="grid grid-cols-2 gap-3">
                                                <div class="space-y-2">
                                                    <div class="flex items-center space-x-2">
                                                        <span class="text-sm">⚠️</span>
                                                        <span class="text-sm text-gray-600">5 failed payments (30 min)</span>
                                                    </div>
                                                    <div class="flex items-center space-x-2">
                                                        <span class="text-sm">🏠</span>
                                                        <span class="text-sm text-gray-600">Same billing address</span>
                                                    </div>
                                                </div>
                                                <div class="space-y-2">
                                                    <div class="flex items-center space-x-2">
                                                        <span class="text-sm">📱</span>
                                                        <span class="text-sm text-gray-600">Same device & IP</span>
                                                    </div>
                                                    <div class="flex items-center space-x-2">
                                                        <span class="text-sm">💳</span>
                                                        <span class="text-sm text-gray-600">Different card numbers</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- AI Risk Assessment -->
                                        <div class="bg-orange-50 rounded-lg p-4">
                                            <div class="mb-3">
                                                <h4 class="font-medium text-gray-900">AI Risk Assessment for Sarah</h4>
                                            </div>
                                            <ol class="space-y-2">
                                                <li class="flex items-start space-x-2">
                                                    <span class="font-medium text-black">1.</span>
                                                    <span class="text-sm"><strong>Low fraud risk</strong> - customer behavior matches previous patterns</span>
                                                </li>
                                                <li class="flex items-start space-x-2">
                                                    <span class="font-medium text-black">2.</span>
                                                    <span class="text-sm"><strong>Contact customer</strong> - verify payment method and offer assistance</span>
                                                </li>
                                            </ol>
                                        </div>
                                    </div>

                                    <!-- Action Buttons -->
                                    <div class="flex space-x-3">
                                        <button class="flex-1 px-4 py-2 text-white text-sm font-medium rounded-lg flex items-center justify-center space-x-2" style="background-color: #047857; hover:background-color: #065f46;">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                            </svg>
                                            <span>Clear Alert</span>
                                        </button>
                                        <button class="flex-1 px-4 py-2 text-white text-sm font-medium rounded-lg flex items-center justify-center space-x-2" style="background-color: #1e40af; color: white;">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"/>
                                            </svg>
                                            <span>Call Customer</span>
                                        </button>
                                        <button class="flex-1 px-4 py-2 text-white text-sm font-medium rounded-lg flex items-center justify-center space-x-2" style="background-color: #b91c1c;">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd" d="M13.477 14.89A6 6 0 015.11 6.524l8.367 8.368zm1.414-1.414L6.524 5.11a6 6 0 008.367 8.367zM18 10a8 8 0 11-16 0 8 8 0 0116 0z" clip-rule="evenodd"/>
                                            </svg>
                                            <span>Block Account</span>
                                        </button>
                                    </div>
                                </div>

                                <!-- Emma Parker - Approval Needed -->
                                <div class="p-6 border-l-4" style="border-left-color: #FFE689;">
                                    <div class="flex items-start justify-between mb-4">
                                        <div class="flex items-center space-x-3">
                                            <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face&auto=format"
                                                 alt="Emma Parker"
                                                 class="w-10 h-10 rounded-full object-cover border-2 border-gray-200">
                                            <div>
                                                <h3 class="font-semibold text-gray-900">Emma Parker</h3>
                                                <p class="text-sm text-gray-500">Gold Member • Treasure Apparel</p>
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium" style="background-color: #FFF7DB; color: #826E25;">
                                                APPROVAL NEEDED
                                            </span>
                                            <p class="text-sm text-gray-500 mt-1">3 min ago</p>
                                        </div>
                                    </div>

                                    <div class="mb-4">
                                        <p class="font-medium text-gray-900 mb-2">Issue: Coupon code 'FALL20' failed at checkout</p>
                                    </div>

                                    <!-- Two-column layout for AI Analysis and Recommendation -->
                                    <div class="grid grid-cols-2 gap-4 mb-4">
                                        <!-- AI Agent Analysis -->
                                        <div class="bg-gray-50 rounded-lg p-4">
                                            <div class="mb-3">
                                                <h4 class="font-medium text-gray-900">AI Agent Analysis</h4>
                                            </div>
                                            <div class="grid grid-cols-2 gap-3">
                                                <div class="space-y-2">
                                                    <div class="flex items-center space-x-2">
                                                        <span class="text-sm">🏷️</span>
                                                        <span class="text-sm text-gray-600">Coupon expired yesterday</span>
                                                    </div>
                                                    <div class="flex items-center space-x-2">
                                                        <span class="text-sm">💎</span>
                                                        <span class="text-sm text-gray-600">Gold loyalty tier</span>
                                                    </div>
                                                </div>
                                                <div class="space-y-2">
                                                    <div class="flex items-center space-x-2">
                                                        <span class="text-sm">💰</span>
                                                        <span class="text-sm text-gray-600">$2,300 lifetime value</span>
                                                    </div>
                                                    <div class="flex items-center space-x-2">
                                                        <span class="text-sm">⭐</span>
                                                        <span class="text-sm text-gray-600">4.8/5 satisfaction rating</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- AI Recommendation -->
                                        <div class="bg-green-50 rounded-lg p-4">
                                            <div class="mb-3">
                                                <h4 class="font-medium text-gray-900">AI Recommendation for Emma</h4>
                                            </div>
                                            <ol class="space-y-2">
                                                <li class="flex items-start space-x-2">
                                                    <span class="font-medium text-black">1.</span>
                                                    <span class="text-sm"><strong>Extend coupon</strong> - within policy for Gold members</span>
                                                </li>
                                                <li class="flex items-start space-x-2">
                                                    <span class="font-medium text-black">2.</span>
                                                    <span class="text-sm"><strong>Add $20 goodwill credit</strong> - based on loyalty tier & LTV</span>
                                                </li>
                                            </ol>
                                        </div>
                                    </div>

                                    <!-- Action Buttons -->
                                    <div class="flex space-x-3">
                                        <button class="flex-1 px-4 py-2 text-white text-sm font-medium rounded-lg flex items-center justify-center space-x-2" style="background-color: #047857; hover:background-color: #065f46;">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                            </svg>
                                            <span>Approve All</span>
                                        </button>
                                        <button class="flex-1 px-4 py-2 text-white text-sm font-medium rounded-lg flex items-center justify-center space-x-2" style="background-color: #1e40af; color: white;">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"/>
                                            </svg>
                                            <span>Partial Approval</span>
                                        </button>
                                        <button class="flex-1 px-4 py-2 text-white text-sm font-medium rounded-lg flex items-center justify-center space-x-2" style="background-color: #b91c1c;">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
                                            </svg>
                                            <span>Take Over</span>
                                        </button>
                                    </div>
                                </div>

                                <!-- Marcus Chen - Approval Needed -->
                                <div class="p-6 border-l-4" style="border-left-color: #FFE689;">
                                    <div class="flex items-start justify-between mb-4">
                                        <div class="flex items-center space-x-3">
                                            <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face&auto=format"
                                                 alt="Marcus Chen"
                                                 class="w-10 h-10 rounded-full object-cover border-2 border-gray-200">
                                            <div>
                                                <h3 class="font-semibold text-gray-900">Marcus Chen</h3>
                                                <p class="text-sm text-gray-500">Silver Member • Treasure Apparel</p>
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium" style="background-color: #FFF7DB; color: #826E25;">
                                                APPROVAL NEEDED
                                            </span>
                                            <p class="text-sm text-gray-500 mt-1">2 min ago</p>
                                        </div>
                                    </div>

                                    <div class="mb-4">
                                        <p class="font-medium text-gray-900 mb-2">Issue: Refund request for damaged item exceeds policy limit</p>
                                    </div>

                                    <!-- Two-column layout for AI Analysis and Recommendation -->
                                    <div class="grid grid-cols-2 gap-4 mb-4">
                                        <!-- AI Agent Analysis -->
                                        <div class="bg-gray-50 rounded-lg p-4">
                                            <div class="mb-3">
                                                <h4 class="font-medium text-gray-900">AI Agent Analysis</h4>
                                            </div>
                                            <div class="grid grid-cols-2 gap-3">
                                                <div class="space-y-2">
                                                    <div class="flex items-center space-x-2">
                                                        <span class="text-sm">📦</span>
                                                        <span class="text-sm text-gray-600">Package damaged in transit</span>
                                                    </div>
                                                    <div class="flex items-center space-x-2">
                                                        <span class="text-sm">💰</span>
                                                        <span class="text-sm text-gray-600">Refund: $185 (limit: $150)</span>
                                                    </div>
                                                </div>
                                                <div class="space-y-2">
                                                    <div class="flex items-center space-x-2">
                                                        <span class="text-sm">🕒</span>
                                                        <span class="text-sm text-gray-600">Purchased 3 days ago</span>
                                                    </div>
                                                    <div class="flex items-center space-x-2">
                                                        <span class="text-sm">🏆</span>
                                                        <span class="text-sm text-gray-600">3rd order this month</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- AI Recommendation -->
                                        <div class="bg-green-50 rounded-lg p-4">
                                            <div class="mb-3">
                                                <h4 class="font-medium text-gray-900">AI Recommendation for Marcus</h4>
                                            </div>
                                            <ol class="space-y-2">
                                                <li class="flex items-start space-x-2">
                                                    <span class="font-medium text-black">1.</span>
                                                    <span class="text-sm"><strong>Approve full refund</strong> - shipping carrier confirmed damage</span>
                                                </li>
                                                <li class="flex items-start space-x-2">
                                                    <span class="font-medium text-black">2.</span>
                                                    <span class="text-sm"><strong>Update policy exception</strong> - add note for future carrier claims</span>
                                                </li>
                                            </ol>
                                        </div>
                                    </div>

                                    <!-- Action Buttons -->
                                    <div class="flex space-x-3">
                                        <button class="flex-1 px-4 py-2 text-white text-sm font-medium rounded-lg flex items-center justify-center space-x-2" style="background-color: #047857; hover:background-color: #065f46;">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                            </svg>
                                            <span>Approve Exception</span>
                                        </button>
                                        <button class="flex-1 px-4 py-2 text-white text-sm font-medium rounded-lg flex items-center justify-center space-x-2" style="background-color: #1e40af; color: white;">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"/>
                                            </svg>
                                            <span>Partial Refund</span>
                                        </button>
                                        <button class="flex-1 px-4 py-2 text-white text-sm font-medium rounded-lg flex items-center justify-center space-x-2" style="background-color: #b91c1c;">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
                                            </svg>
                                            <span>Escalate</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Autonomous AI Conversations Section -->
                        <div class="bg-white rounded-lg shadow-sm border border-gray-200">
                            <div class="px-6 py-4 border-b border-gray-200">
                                <h2 class="text-xl font-semibold text-gray-900">AI Agents Handling Autonomously</h2>
                                <p class="text-sm text-gray-600 mt-1">Conversations being managed by AI without human intervention</p>
                            </div>

                            <div class="divide-y divide-gray-200">
                                <!-- James Wilson - Order Status -->
                                <div class="p-6 border-l-4" style="border-left-color: #D4E6F5;">
                                    <div class="flex items-start justify-between mb-3">
                                        <div class="flex items-center space-x-3">
                                            <div class="w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold" style="background-color: #2563EB;">
                                                J
                                            </div>
                                            <div>
                                                <h3 class="font-semibold text-gray-900">James Wilson</h3>
                                                <p class="text-sm text-gray-500">Silver Member • Order #TR-2045</p>
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium" style="background-color: #EBF8FF; color: #1E40AF;">
                                                AI HANDLING
                                            </span>
                                            <p class="text-sm text-gray-500 mt-1">5 min ago</p>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <p class="font-medium text-gray-900 mb-1">Query: "Where is my order? It was supposed to arrive today."</p>
                                        <p class="text-sm text-gray-600">AI Response: Tracking shows slight delay due to weather. Estimated delivery: tomorrow by 2 PM. Offering $5 credit for inconvenience.</p>
                                    </div>
                                    <div class="flex items-center space-x-4 text-sm text-gray-600">
                                        <span class="flex items-center space-x-1">
                                            <span>✅</span>
                                            <span>Confidence: 95%</span>
                                        </span>
                                        <span class="flex items-center space-x-1">
                                            <span>⏱️</span>
                                            <span>Response time: 12s</span>
                                        </span>
                                    </div>
                                </div>

                                <!-- Lisa Brown - Return Process -->
                                <div class="p-6 border-l-4" style="border-left-color: #D4E6F5;">
                                    <div class="flex items-start justify-between mb-3">
                                        <div class="flex items-center space-x-3">
                                            <div class="w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold" style="background-color: #7C3AED;">
                                                L
                                            </div>
                                            <div>
                                                <h3 class="font-semibold text-gray-900">Lisa Brown</h3>
                                                <p class="text-sm text-gray-500">Bronze Member • Return #RT-8834</p>
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium" style="background-color: #EBF8FF; color: #1E40AF;">
                                                AI HANDLING
                                            </span>
                                            <p class="text-sm text-gray-500 mt-1">8 min ago</p>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <p class="font-medium text-gray-900 mb-1">Query: "How do I return this sweater? Wrong size."</p>
                                        <p class="text-sm text-gray-600">AI Response: Generated return label sent to email. Pickup scheduled for tomorrow. Free exchange available for size up/down.</p>
                                    </div>
                                    <div class="flex items-center space-x-4 text-sm text-gray-600">
                                        <span class="flex items-center space-x-1">
                                            <span>✅</span>
                                            <span>Confidence: 98%</span>
                                        </span>
                                        <span class="flex items-center space-x-1">
                                            <span>⏱️</span>
                                            <span>Response time: 8s</span>
                                        </span>
                                    </div>
                                </div>

                                <!-- Michael Chang - Product Inquiry -->
                                <div class="p-6 border-l-4" style="border-left-color: #D4E6F5;">
                                    <div class="flex items-start justify-between mb-3">
                                        <div class="flex items-center space-x-3">
                                            <div class="w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold" style="background-color: #059669;">
                                                M
                                            </div>
                                            <div>
                                                <h3 class="font-semibold text-gray-900">Michael Chang</h3>
                                                <p class="text-sm text-gray-500">Gold Member • Product Inquiry</p>
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium" style="background-color: #EBF8FF; color: #1E40AF;">
                                                AI HANDLING
                                            </span>
                                            <p class="text-sm text-gray-500 mt-1">12 min ago</p>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <p class="font-medium text-gray-900 mb-1">Query: "Do you have this jacket in XL? What's the material?"</p>
                                        <p class="text-sm text-gray-600">AI Response: Yes, XL available. 80% cotton, 20% polyester blend. Premium water-resistant finish. Added to cart with Gold member discount.</p>
                                    </div>
                                    <div class="flex items-center space-x-4 text-sm text-gray-600">
                                        <span class="flex items-center space-x-1">
                                            <span>✅</span>
                                            <span>Confidence: 92%</span>
                                        </span>
                                        <span class="flex items-center space-x-1">
                                            <span>⏱️</span>
                                            <span>Response time: 15s</span>
                                        </span>
                                    </div>
                                </div>

                                <!-- Rachel Martinez - Account Question -->
                                <div class="p-6 border-l-4" style="border-left-color: #D4E6F5;">
                                    <div class="flex items-start justify-between mb-3">
                                        <div class="flex items-center space-x-3">
                                            <div class="w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold" style="background-color: #DC2626;">
                                                R
                                            </div>
                                            <div>
                                                <h3 class="font-semibold text-gray-900">Rachel Martinez</h3>
                                                <p class="text-sm text-gray-500">Silver Member • Account Settings</p>
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium" style="background-color: #EBF8FF; color: #1E40AF;">
                                                AI HANDLING
                                            </span>
                                            <p class="text-sm text-gray-500 mt-1">15 min ago</p>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <p class="font-medium text-gray-900 mb-1">Query: "How do I update my shipping address?"</p>
                                        <p class="text-sm text-gray-600">AI Response: Guided through account settings. Address updated successfully. Confirmed address for pending orders will use new address.</p>
                                    </div>
                                    <div class="flex items-center space-x-4 text-sm text-gray-600">
                                        <span class="flex items-center space-x-1">
                                            <span>✅</span>
                                            <span>Confidence: 97%</span>
                                        </span>
                                        <span class="flex items-center space-x-1">
                                            <span>⏱️</span>
                                            <span>Response time: 6s</span>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="ai-settings-page" class="page-content hidden">
                    <div class="space-y-8">
                        <div>
                            <h1 class="text-3xl font-bold text-gray-900">AI Agent Settings</h1>
                            <p class="text-gray-600 mt-2">Configure knowledge base and intervention rules</p>
                        </div>
                        <div class="bg-white border border-gray-200 rounded-lg p-6 shadow-sm">
                            <h2 class="text-lg font-semibold text-gray-900 mb-4">Knowledge Base Management</h2>
                            <p class="text-gray-600">Manage AI knowledge sources and training data</p>
                        </div>
                    </div>
                </div>

                <!-- Chat Interface Page -->
                <div id="chat-interface-page" class="page-content hidden">
                    <div class="chat-interface-layout flex">
                        <!-- Left Column: Chat Interface (1/4 width) -->
                        <div class="w-1/4 bg-white border-r border-gray-200 flex flex-col h-full">
                            <!-- Chat Header -->
                            <div class="border-b border-gray-200 flex items-center pl-4" style="height: 60px;">
                                <div class="flex items-center">
                                    <svg width="64" height="64" viewBox="0 0 48 53" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <g filter="url(#filter0_d_12659_24476)">
                                                <path d="M26.2096 14H5.71977C5.26682 14 4.8328 14.1746 4.51497 14.4847L0.34033 18.558C-0.115914 19.0031 -0.113072 19.7186 0.346695 20.1604L15.0466 34.2859C15.5749 34.7936 16.4315 34.7936 16.9598 34.2859L31.6533 20.1665C32.1156 19.7223 32.1156 19.0021 31.6533 18.5579L27.4053 14.4759C27.0882 14.1712 26.6581 14 26.2096 14Z" fill="url(#paint0_linear_12659_24476)"/>
                                            </g>
                                            <g clip-path="url(#paint1_angular_12659_24476_clip_path)" data-figma-skip-parse="true"><g transform="matrix(6.51759e-10 0.00541953 -0.00541953 6.51759e-10 16.0873 23.9141)"><foreignObject x="-1073.82" y="-1073.82" width="2147.64" height="2147.64"><div xmlns="http://www.w3.org/1999/xhtml" style="background:conic-gradient(from 90deg,rgba(115, 195, 230, 1) 0deg,rgba(255, 255, 255, 1) 270deg,rgba(251, 155, 255, 1) 288deg,rgba(115, 195, 230, 1) 360deg);height:100%;width:100%;opacity:1"></div></foreignObject></g></g><path d="M15.6198 18.9325C15.7507 18.5785 16.2514 18.5785 16.3823 18.9325L17.2589 21.3013C17.506 21.969 18.0324 22.4954 18.7001 22.7425L21.0689 23.619C21.4229 23.75 21.4229 24.2506 21.0689 24.3816L18.7001 25.2582C18.0324 25.5052 17.506 26.0317 17.2589 26.6993L16.3823 29.0682C16.2514 29.4221 15.7507 29.4221 15.6198 29.0682L14.7432 26.6993C14.4962 26.0317 13.9697 25.5052 13.302 25.2582L10.9332 24.3816C10.5792 24.2506 10.5792 23.75 10.9332 23.619L13.302 22.7425C13.9697 22.4954 14.4962 21.969 14.7432 21.3013L15.6198 18.9325Z" data-figma-gradient-fill="{&quot;type&quot;:&quot;GRADIENT_ANGULAR&quot;,&quot;stops&quot;:[{&quot;color&quot;:{&quot;r&quot;:0.45098039507865906,&quot;g&quot;:0.76470589637756348,&quot;b&quot;:0.90196079015731812,&quot;a&quot;:1.0},&quot;position&quot;:0.0},{&quot;color&quot;:{&quot;r&quot;:1.0,&quot;g&quot;:1.0,&quot;b&quot;:1.0,&quot;a&quot;:1.0},&quot;position&quot;:0.750},{&quot;color&quot;:{&quot;r&quot;:0.98703992366790771,&quot;g&quot;:0.61119663715362549,&quot;b&quot;:1.0,&quot;a&quot;:1.0},&quot;position&quot;:0.80000001192092896}],&quot;stopsVar&quot;:[{&quot;color&quot;:{&quot;r&quot;:0.45098039507865906,&quot;g&quot;:0.76470589637756348,&quot;b&quot;:0.90196079015731812,&quot;a&quot;:1.0},&quot;position&quot;:0.0},{&quot;color&quot;:{&quot;r&quot;:1.0,&quot;g&quot;:1.0,&quot;b&quot;:1.0,&quot;a&quot;:1.0},&quot;position&quot;:0.750},{&quot;color&quot;:{&quot;r&quot;:0.98703992366790771,&quot;g&quot;:0.61119663715362549,&quot;b&quot;:1.0,&quot;a&quot;:1.0},&quot;position&quot;:0.80000001192092896}],&quot;transform&quot;:{&quot;m00&quot;:1.3035175925324438e-06,&quot;m01&quot;:-10.839065551757812,&quot;m02&quot;:21.506788253784180,&quot;m10&quot;:10.839068412780762,&quot;m11&quot;:1.3035171377850929e-06,&quot;m12&quot;:18.494516372680664},&quot;opacity&quot;:1.0,&quot;blendMode&quot;:&quot;NORMAL&quot;,&quot;visible&quot;:true}"/>
                                            <g clip-path="url(#paint2_angular_12659_24476_clip_path)" data-figma-skip-parse="true"><g transform="matrix(3.76233e-10 0.00312847 -0.00312847 3.76233e-10 21.0416 18.9879)"><foreignObject x="-1127.87" y="-1127.87" width="2255.74" height="2255.74"><div xmlns="http://www.w3.org/1999/xhtml" style="background:conic-gradient(from 90deg,rgba(115, 195, 230, 1) 0deg,rgba(255, 255, 255, 1) 270deg,rgba(251, 155, 255, 1) 288deg,rgba(115, 195, 230, 1) 360deg);height:100%;width:100%;opacity:1"></div></foreignObject></g></g><path d="M20.7717 16.1122C20.8473 15.9079 21.1363 15.9079 21.2119 16.1122L21.7179 17.4797C21.8605 17.8651 22.1644 18.169 22.5498 18.3116L23.9173 18.8176C24.1216 18.8932 24.1216 19.1822 23.9173 19.2578L22.5498 19.7638C22.1644 19.9064 21.8605 20.2103 21.7179 20.5957L21.2119 21.9632C21.1363 22.1675 20.8473 22.1675 20.7717 21.9632L20.2657 20.5957C20.1231 20.2103 19.8192 19.9064 19.4338 19.7638L18.0663 19.2578C17.862 19.1822 17.862 18.8932 18.0663 18.8176L19.4338 18.3116C19.8192 18.169 20.1231 17.8651 20.2657 17.4797L20.7717 16.1122Z" data-figma-gradient-fill="{&quot;type&quot;:&quot;GRADIENT_ANGULAR&quot;,&quot;stops&quot;:[{&quot;color&quot;:{&quot;r&quot;:0.45098039507865906,&quot;g&quot;:0.76470589637756348,&quot;b&quot;:0.90196079015731812,&quot;a&quot;:1.0},&quot;position&quot;:0.0},{&quot;color&quot;:{&quot;r&quot;:1.0,&quot;g&quot;:1.0,&quot;b&quot;:1.0,&quot;a&quot;:1.0},&quot;position&quot;:0.750},{&quot;color&quot;:{&quot;r&quot;:0.98703992366790771,&quot;g&quot;:0.61119663715362549,&quot;b&quot;:1.0,&quot;a&quot;:1.0},&quot;position&quot;:0.80000001192092896}],&quot;stopsVar&quot;:[{&quot;color&quot;:{&quot;r&quot;:0.45098039507865906,&quot;g&quot;:0.76470589637756348,&quot;b&quot;:0.90196079015731812,&quot;a&quot;:1.0},&quot;position&quot;:0.0},{&quot;color&quot;:{&quot;r&quot;:1.0,&quot;g&quot;:1.0,&quot;b&quot;:1.0,&quot;a&quot;:1.0},&quot;position&quot;:0.750},{&quot;color&quot;:{&quot;r&quot;:0.98703992366790771,&quot;g&quot;:0.61119663715362549,&quot;b&quot;:1.0,&quot;a&quot;:1.0},&quot;position&quot;:0.80000001192092896}],&quot;transform&quot;:{&quot;m00&quot;:7.5246691721986281e-07,&quot;m01&quot;:-6.2569456100463867,&quot;m02&quot;:24.170030593872070,&quot;m10&quot;:6.2569460868835449,&quot;m11&quot;:7.5246663300276850e-07,&quot;m12&quot;:15.859420776367188},&quot;opacity&quot;:1.0,&quot;blendMode&quot;:&quot;NORMAL&quot;,&quot;visible&quot;:true}"/>
                                            <defs>
                                                <filter id="filter0_d_12659_24476" x="-16" y="0" width="64" height="52.667" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                                                    <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                                                    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                                                    <feOffset dy="2"/>
                                                    <feGaussianBlur stdDeviation="8"/>
                                                    <feComposite in2="hardAlpha" operator="out"/>
                                                    <feColorMatrix type="matrix" values="0 0 0 0 0.639216 0 0 0 0 0.478431 0 0 0 0 0.992157 0 0 0 0.33 0"/>
                                                    <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_12659_24476"/>
                                                    <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_12659_24476" result="shape"/>
                                                </filter>
                                                <clipPath id="paint1_angular_12659_24476_clip_path"><path d="M15.6198 18.9325C15.7507 18.5785 16.2514 18.5785 16.3823 18.9325L17.2589 21.3013C17.506 21.969 18.0324 22.4954 18.7001 22.7425L21.0689 23.619C21.4229 23.75 21.4229 24.2506 21.0689 24.3816L18.7001 25.2582C18.0324 25.5052 17.506 26.0317 17.2589 26.6993L16.3823 29.0682C16.2514 29.4221 15.7507 29.4221 15.6198 29.0682L14.7432 26.6993C14.4962 26.0317 13.9697 25.5052 13.302 25.2582L10.9332 24.3816C10.5792 24.2506 10.5792 23.75 10.9332 23.619L13.302 22.7425C13.9697 22.4954 14.4962 21.969 14.7432 21.3013L15.6198 18.9325Z"/></clipPath><clipPath id="paint2_angular_12659_24476_clip_path"><path d="M20.7717 16.1122C20.8473 15.9079 21.1363 15.9079 21.2119 16.1122L21.7179 17.4797C21.8605 17.8651 22.1644 18.169 22.5498 18.3116L23.9173 18.8176C24.1216 18.8932 24.1216 19.1822 23.9173 19.2578L22.5498 19.7638C22.1644 19.9064 21.8605 20.2103 21.7179 20.5957L21.2119 21.9632C21.1363 22.1675 20.8473 22.1675 20.7717 21.9632L20.2657 20.5957C20.1231 20.2103 19.8192 19.9064 19.4338 19.7638L18.0663 19.2578C17.862 19.1822 17.862 18.8932 18.0663 18.8176L19.4338 18.3116C19.8192 18.169 20.1231 17.8651 20.2657 17.4797L20.7717 16.1122Z"/></clipPath><linearGradient id="paint0_linear_12659_24476" x1="32" y1="14" x2="1.07604" y2="36.383" gradientUnits="userSpaceOnUse">
                                                    <stop stop-color="#A37AFD"/>
                                                    <stop offset="1" stop-color="#0095FF"/>
                                                </linearGradient>
                                            </defs>
                                        </svg>
                                    <div style="margin-left: -10px;">
                                        <h3 class="font-bold text-lg text-gray-900">Service AI</h3>
                                    </div>
                                </div>
                            </div>

                            <!-- Chat Messages -->
                            <div id="chat-messages" class="flex-1 overflow-y-auto p-4 space-y-4">
                                <!-- Messages will be dynamically added here -->
                            </div>


                            <!-- Chat Input -->
                            <div class="p-4">
                                <div class="relative bg-gray-50 border border-gray-200 rounded-xl" style="padding: 16px 16px 28px 16px;">
                                    <!-- Input Field -->
                                    <input
                                        type="text"
                                        id="chat-input"
                                        placeholder="Send a message"
                                        class="w-full bg-transparent border-0 text-gray-600 placeholder-gray-400 focus:outline-none focus:ring-0 pr-12"
                                    />

                                    <!-- Send Button -->
                                    <button
                                        id="chat-send-btn"
                                        class="absolute bottom-5 right-4 bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-lg transition-colors duration-200"
                                    >
                                        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Right Column: Dynamic Content (3/4 width) -->
                        <div class="flex-1 bg-gray-50 flex flex-col h-full">
                            <div id="chat-content-area" class="flex-1 p-6">
                                <!-- Welcome State -->
                                <div id="welcome-state" class="h-full flex items-center justify-center">
                                    <div class="text-center">
                                        <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                            <svg class="w-8 h-8 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd" d="M18 13V5a2 2 0 00-2-2H4a2 2 0 00-2 2v8a2 2 0 002 2h3l3 3 3-3h3a2 2 0 002-2zM5 7a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1zm1 3a1 1 0 100 2h3a1 1 0 100-2H6z" clip-rule="evenodd"/>
                                            </svg>
                                        </div>
                                        <h3 class="text-lg font-semibold text-gray-900 mb-2">Start a conversation</h3>
                                        <p class="text-gray-600">Ask Service AI about customers, issues, or any support-related questions.</p>
                                    </div>
                                </div>

                                <!-- Customer Profile View (hidden by default) -->
                                <div id="customer-profile-view" class="hidden h-full">
                                    <!-- Customer profile content will be loaded here -->
                                </div>

                                <!-- Conversation View (hidden by default) -->
                                <div id="conversation-view" class="hidden h-full">
                                    <div class="h-full flex flex-col">
                                        <!-- Header -->
                                        <div class="bg-white border-b border-gray-200 p-4">
                                            <div class="flex items-center space-x-3">
                                                <div class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center">
                                                    <span class="text-blue-600 font-semibold text-sm">EP</span>
                                                </div>
                                                <div>
                                                    <h3 class="font-semibold text-gray-900">Emma Parker</h3>
                                                    <p class="text-sm text-green-600">● Online - Gold Member</p>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Chat Messages -->
                                        <div class="flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50">
                                            <!-- Emma's message -->
                                            <div class="flex justify-end">
                                                <div class="bg-blue-500 text-white px-4 py-2 rounded-lg max-w-xs">
                                                    Hi, I'm trying to use the coupon code I received, but it isn't working at checkout.
                                                </div>
                                            </div>

                                            <!-- AI Agent response -->
                                            <div class="flex justify-start">
                                                <div class="bg-white border border-gray-200 px-4 py-2 rounded-lg max-w-md shadow-sm">
                                                    <div class="text-xs text-gray-500 mb-1">AI Agent (Service AI Copilot)</div>
                                                    I'm sorry about that, Emma. I see the coupon you're using has expired. Let me take care of this for you — I've just generated a brand-new 25% off coupon you can use right away: TREASURE25.
                                                </div>
                                            </div>

                                            <!-- Emma's response -->
                                            <div class="flex justify-end">
                                                <div class="bg-blue-500 text-white px-4 py-2 rounded-lg max-w-xs">
                                                    Oh great, thank you!
                                                </div>
                                            </div>

                                            <!-- AI Agent second response -->
                                            <div class="flex justify-start">
                                                <div class="bg-white border border-gray-200 px-4 py-2 rounded-lg max-w-md shadow-sm">
                                                    <div class="text-xs text-gray-500 mb-1">AI Agent (Alex)</div>
                                                    Since you're a Gold Member and a loyal customer, I've also added a $15 credit to your account as a goodwill gesture. You'll see it automatically applied to your next purchase.
                                                </div>
                                            </div>

                                            <!-- Emma's response -->
                                            <div class="flex justify-end">
                                                <div class="bg-blue-500 text-white px-4 py-2 rounded-lg max-w-xs">
                                                    Wow, that's really thoughtful. Appreciate the quick help!
                                                </div>
                                            </div>

                                            <!-- AI Agent final response -->
                                            <div class="flex justify-start">
                                                <div class="bg-white border border-gray-200 px-4 py-2 rounded-lg max-w-md shadow-sm">
                                                    <div class="text-xs text-gray-500 mb-1">AI Agent (Alex)</div>
                                                    Of course, Emma. You're all set now — your new coupon and credit are active. Thanks for being such a valued member of our community.
                                                </div>
                                            </div>

                                            <!-- Approval Notice -->
                                            <div class="flex justify-center">
                                                <div class="bg-yellow-50 border-2 border-yellow-200 px-4 py-3 rounded-lg max-w-md">
                                                    <div class="flex items-center space-x-2">
                                                        <div class="w-5 h-5 bg-yellow-500 rounded-full flex items-center justify-center">
                                                            <span class="text-white text-xs">!</span>
                                                        </div>
                                                        <div class="text-sm">
                                                            <div class="font-semibold text-yellow-800">Approval Required</div>
                                                            <div class="text-yellow-700">$15 credit exceeds autonomy limit</div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Approval Modal -->
                <div id="approval-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center">
                    <div class="bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto">
                        <div class="border-b border-gray-200 px-6 py-4">
                            <div class="flex items-center justify-between">
                                <h3 class="text-lg font-semibold text-gray-900">Approval Request</h3>
                                <button id="close-modal" class="text-gray-400 hover:text-gray-600">
                                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                                    </svg>
                                </button>
                            </div>
                        </div>

                        <div class="px-6 py-4">
                            <div class="space-y-4">
                                <!-- Customer Info -->
                                <div class="flex items-center space-x-3 p-4 bg-gray-50 rounded-lg">
                                    <div class="w-12 h-12 rounded-full flex items-center justify-center text-white font-semibold" style="background-color: #3068DF;">
                                        E
                                    </div>
                                    <div>
                                        <h4 class="font-semibold text-gray-900">Emma Parker</h4>
                                        <p class="text-sm text-gray-500">Gold Member • Treasure Apparel</p>
                                    </div>
                                </div>

                                <!-- Issue Description -->
                                <div>
                                    <h4 class="font-medium text-gray-900 mb-2">Issue: Coupon code 'FALL20' failed at checkout</h4>
                                    <p class="text-sm text-gray-600">Customer is trying to use an expired coupon code during checkout. AI analysis suggests approving the extension based on customer loyalty tier.</p>
                                </div>

                                <!-- AI Analysis -->
                                <div class="grid grid-cols-2 gap-4">
                                    <div class="bg-gray-50 rounded-lg p-4">
                                        <h5 class="font-medium text-gray-900 mb-2">AI Analysis</h5>
                                        <div class="space-y-2 text-sm">
                                            <div class="flex items-center space-x-2">
                                                <span>🏷️</span>
                                                <span class="text-gray-600">Coupon expired yesterday</span>
                                            </div>
                                            <div class="flex items-center space-x-2">
                                                <span>💎</span>
                                                <span class="text-gray-600">Gold loyalty tier</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="bg-green-50 rounded-lg p-4">
                                        <h5 class="font-medium text-gray-900 mb-2">Recommendation</h5>
                                        <div class="space-y-2 text-sm">
                                            <div class="flex items-start space-x-2">
                                                <span class="font-medium text-black">1.</span>
                                                <span><strong>Extend coupon</strong> - within policy for Gold members</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="border-t border-gray-200 px-6 py-4">
                            <div class="flex space-x-3 justify-end">
                                <button id="deny-btn" class="px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500">
                                    Deny and Take Over
                                </button>
                                <button id="approve-btn" class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500">
                                    Approve
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="integrations-page" class="page-content hidden">
                    <div class="space-y-8">
                        <div>
                            <h1 class="text-3xl font-bold text-gray-900">Integrations</h1>
                            <p class="text-gray-600 mt-2">Connect your favorite tools and services</p>
                        </div>
                        <div class="bg-white border border-gray-200 rounded-lg p-6 shadow-sm">
                            <h2 class="text-lg font-semibold text-gray-900 mb-4">Connected Integrations</h2>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <div class="p-4 border border-gray-200 rounded-lg">
                                    <h3 class="font-medium">Zendesk</h3>
                                    <p class="text-sm text-gray-600">Connected</p>
                                </div>
                                <div class="p-4 border border-gray-200 rounded-lg">
                                    <h3 class="font-medium">Slack</h3>
                                    <p class="text-sm text-gray-600">Connected</p>
                                </div>
                                <div class="p-4 border border-gray-200 rounded-lg">
                                    <h3 class="font-medium">Salesforce</h3>
                                    <p class="text-sm text-red-600">Error</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        function showPage(pageId) {
            // Hide all pages
            document.querySelectorAll('.page-content').forEach(page => {
                page.classList.add('hidden');
            });

            // Show selected page
            let targetPage;
            if (pageId === 'chat-interface') {
                targetPage = document.getElementById('chat-interface-page');
            } else {
                targetPage = document.getElementById(pageId + '-page');

                // If navigating away from chat interface, restore sidebar
                if (isInChatMode && pageId !== 'chat-interface') {
                    exitChatMode();
                }
            }

            if (targetPage) {
                targetPage.classList.remove('hidden');
            }

            // Update navigation active states
            updateNavigationStates(pageId);
        }


        function exitChatMode() {
            isInChatMode = false;
            const sidebar = document.getElementById('expanded-nav');
            if (sidebar) {
                sidebar.classList.remove('sidebar-collapsed');
                sidebar.style.width = ''; // Remove inline style
                console.log('Exited chat mode, sidebar restored');
            }
        }

        function updateNavigationStates(activePageId) {
            // Reset all navigation items to inactive state
            document.querySelectorAll('#expanded-nav a').forEach(item => {
                // Reset to default styles
                item.style.backgroundColor = '';
                item.style.color = '';
                item.style.height = '48px';
                item.style.borderRadius = '';
                item.className = 'flex items-center space-x-3 px-3 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors';

                // Remove any existing left strip
                const existingStrip = item.querySelector('.absolute');
                if (existingStrip) {
                    existingStrip.remove();
                }

                // Remove bold from text
                const textSpan = item.querySelector('span');
                if (textSpan) {
                    textSpan.classList.remove('font-bold', 'font-medium');
                }
            });

            // Set active state based on page
            const navMappings = {
                'home': 'Home',
                'customers': 'Customers',
                'conversations': 'Conversations',
                'ai-settings': 'AI Agent Settings',
                'integrations': 'Integrations'
            };

            // Find and highlight the active navigation item
            const activeNavText = navMappings[activePageId];
            if (activeNavText) {
                document.querySelectorAll('#expanded-nav span').forEach(span => {
                    if (span.textContent === activeNavText) {
                        const navItem = span.closest('a');
                        if (navItem) {
                            // Apply selected state component styling
                            navItem.className = 'flex items-center space-x-3 px-3 transition-colors relative overflow-hidden';
                            navItem.style.height = '48px';
                            navItem.style.backgroundColor = '#F3EEFF';
                            navItem.style.color = '#6F2EFF';
                            navItem.style.borderRadius = '4px';

                            // Selected state styling without purple strip

                            // Make text bold
                            const textSpan = navItem.querySelector('span');
                            if (textSpan) {
                                textSpan.classList.add('font-bold');
                            }
                        }
                    }
                });
            }
        }

        // Animated placeholder functionality
        function initAnimatedPlaceholder() {
            const rotatingWords = ['customers', 'issues', 'conversations', 'knowledge bases', 'analytics', 'workflows'];
            const rotatingText = document.getElementById('rotating-text');
            const textarea = document.getElementById('ai-textarea');
            const placeholder = document.getElementById('animated-placeholder');
            let currentIndex = 0;
            let isTyping = false;

            function typeWord(word) {
                return new Promise((resolve) => {
                    let charIndex = 0;
                    rotatingText.textContent = '';

                    function typeChar() {
                        if (charIndex < word.length) {
                            rotatingText.textContent += word[charIndex];
                            charIndex++;
                            setTimeout(typeChar, 100); // 100ms between characters
                        } else {
                            setTimeout(resolve, 1500); // Wait 1.5s before starting to delete
                        }
                    }
                    typeChar();
                });
            }

            function deleteWord() {
                return new Promise((resolve) => {
                    const currentText = rotatingText.textContent;
                    let charIndex = currentText.length;

                    function deleteChar() {
                        if (charIndex > 0) {
                            rotatingText.textContent = currentText.substring(0, charIndex - 1);
                            charIndex--;
                            setTimeout(deleteChar, 50); // 50ms between deletions (faster)
                        } else {
                            setTimeout(resolve, 300); // Brief pause before typing next word
                        }
                    }
                    deleteChar();
                });
            }

            async function animateText() {
                if (!isTyping && rotatingText) {
                    isTyping = true;

                    while (true) {
                        const word = rotatingWords[currentIndex];
                        await typeWord(word);
                        await deleteWord();
                        currentIndex = (currentIndex + 1) % rotatingWords.length;
                    }
                }
            }

            // Hide placeholder when user types and switch button icon
            if (textarea && placeholder) {
                const voiceIcon = document.getElementById('voice-icon');
                const submitIcon = document.getElementById('submit-icon');
                const voiceSubmitBtn = document.getElementById('voice-submit-btn');

                textarea.addEventListener('input', function() {
                    if (this.value.length > 0) {
                        placeholder.style.display = 'none';
                        // Switch to submit icon when typing
                        if (voiceIcon && submitIcon && voiceSubmitBtn) {
                            voiceIcon.classList.add('hidden');
                            submitIcon.classList.remove('hidden');
                            // Change button to blue background
                            voiceSubmitBtn.style.backgroundColor = '#1957DB';
                            voiceSubmitBtn.style.color = 'white';
                        }
                    } else {
                        placeholder.style.display = 'block';
                        // Switch back to voice icon when empty
                        if (voiceIcon && submitIcon && voiceSubmitBtn) {
                            voiceIcon.classList.remove('hidden');
                            submitIcon.classList.add('hidden');
                            // Reset button to gray background
                            voiceSubmitBtn.style.backgroundColor = '#e5e7eb';
                            voiceSubmitBtn.style.color = '#374151';
                        }
                    }
                });

                textarea.addEventListener('focus', function() {
                    if (this.value.length === 0) {
                        placeholder.style.opacity = '0.5';
                    }
                });

                textarea.addEventListener('blur', function() {
                    if (this.value.length === 0) {
                        placeholder.style.opacity = '1';
                    }
                });
            }

            // Start the typing animation
            animateText();
        }

        // Chat Interface Functions
        let currentChatStep = 0;
        let isInChatMode = false;

        function startChatInterface(initialQuery) {
            console.log('Starting chat interface with query:', initialQuery);
            isInChatMode = true;
            currentChatStep = 0;

            // Show chat interface page
            showPage('chat-interface');

            // Force sidebar collapse immediately
            const sidebar = document.getElementById('expanded-nav');
            console.log('Sidebar element found:', sidebar);
            if (sidebar) {
                console.log('Adding sidebar-collapsed class');
                sidebar.classList.add('sidebar-collapsed');
                // Force immediate layout update
                sidebar.style.width = '60px';
                console.log('Sidebar collapsed, width set to 60px');
                console.log('Sidebar classes:', sidebar.className);
            } else {
                console.error('Sidebar element not found!');
            }

            // Add initial user message
            setTimeout(() => {
                addChatMessage(initialQuery, 'user');

                // Check if query contains Emma Parker
                if (initialQuery.toLowerCase().includes('emma parker')) {
                    handleEmmaParkerFlow();
                } else {
                    // Generic response for other queries
                    setTimeout(() => {
                        addChatMessage("I'm searching for information about '" + initialQuery + "'. Let me help you with that.", 'ai');
                    }, 1000);
                }
            }, 500);
        }

        function addChatMessage(message, sender) {
            const chatMessages = document.getElementById('chat-messages');
            const messageDiv = document.createElement('div');

            if (sender === 'user') {
                messageDiv.className = 'flex justify-end';
                messageDiv.innerHTML = `
                    <div class="bg-gray-200 text-gray-800 px-4 py-2 max-w-xs" style="border-radius: 18px 6px 18px 18px;">
                        ${message}
                    </div>
                `;
            } else {
                messageDiv.className = 'flex justify-start';
                messageDiv.innerHTML = `
                    <div class="text-gray-900 py-2 max-w-md">
                        ${message}
                    </div>
                `;
            }

            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function showAIThinking() {
            // Add thinking process as a chat message
            const chatMessages = document.getElementById('chat-messages');
            const thinkingDiv = document.createElement('div');
            thinkingDiv.className = 'flex justify-start';
            thinkingDiv.style.marginTop = '32px';
            thinkingDiv.id = 'ai-thinking-message';

            thinkingDiv.innerHTML = `
                <div class="bg-blue-50 border border-blue-200 rounded-lg p-3 max-w-md">
                    <div class="flex items-center space-x-2 cursor-pointer" onclick="toggleThinkingSteps()">
                        <div id="thinking-icon" class="w-5 h-5 bg-gradient-to-r from-blue-500 to-purple-600 rounded flex items-center justify-center">
                            <svg class="w-3 h-3 text-white animate-spin" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                            </svg>
                        </div>
                        <span id="thinking-title" class="text-sm font-medium text-blue-800">Accessing Diamond Record...</span>
                        <svg id="thinking-arrow" class="w-4 h-4 text-blue-600 transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                        </svg>
                    </div>
                    <div id="thinking-steps" class="text-xs text-blue-700 mt-2 hidden">
                        <!-- All thinking steps will be stored here when expanded -->
                    </div>
                    <div id="current-step" class="text-xs text-blue-700 mt-1">
                        <!-- Current step being processed -->
                    </div>
                </div>
            `;

            chatMessages.appendChild(thinkingDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;

            // Start the thinking process animation
            animateThinkingSteps();
        }

        function hideAIThinking() {
            // Don't remove the thinking message - keep it in chat after completion
            // This function is now only used to stop the animation
        }

        function animateThinkingSteps() {
            const thinkingSteps = [
                "Accessing Diamond Record...",
                "Searching for Emma Parker...",
                "Found customer profile",
                "Analyzing current status..."
            ];

            const stepsDiv = document.getElementById('thinking-steps');
            const currentStepDiv = document.getElementById('current-step');
            const titleSpan = document.getElementById('thinking-title');
            const iconDiv = document.getElementById('thinking-icon');

            let currentStep = 0;
            const allSteps = []; // Store all steps for the expanded view

            function showNextStep() {
                if (currentStep < thinkingSteps.length) {
                    // Update title with current thinking step
                    titleSpan.textContent = thinkingSteps[currentStep];

                    // Store step for expanded view
                    allSteps.push(thinkingSteps[currentStep]);

                    currentStep++;

                    // Continue to next step after delay
                    if (currentStep < thinkingSteps.length) {
                        setTimeout(showNextStep, 1000);
                    } else {
                        // Thinking complete - update UI
                        completeThinking();
                    }
                }
            }

            function completeThinking() {
                // Stop spinning animation
                iconDiv.querySelector('svg').classList.remove('animate-spin');

                // Update icon to show completion
                iconDiv.innerHTML = `
                    <svg class="w-3 h-3 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                    </svg>
                `;

                // Hide current step display (not used in this implementation)
                currentStepDiv.style.display = 'none';

                // Update title to show collapsed state
                titleSpan.textContent = 'Show thinking';

                // Populate the expandable steps list
                stepsDiv.innerHTML = allSteps.map(step => `<div class="text-blue-600 opacity-75">• ${step}</div>`).join('');
            }

            // Start the animation
            setTimeout(showNextStep, 500);
        }

        function toggleThinkingSteps() {
            const stepsDiv = document.getElementById('thinking-steps');
            const arrow = document.getElementById('thinking-arrow');

            if (stepsDiv.classList.contains('hidden')) {
                // Expand
                stepsDiv.classList.remove('hidden');
                arrow.style.transform = 'rotate(180deg)';
            } else {
                // Collapse
                stepsDiv.classList.add('hidden');
                arrow.style.transform = 'rotate(0deg)';
            }
        }

        function showLoadingThinking() {
            // Add loading thinking process as a chat message
            const chatMessages = document.getElementById('chat-messages');
            const thinkingDiv = document.createElement('div');
            thinkingDiv.className = 'flex justify-start';
            thinkingDiv.style.marginTop = '32px';
            thinkingDiv.id = 'loading-thinking-message';

            thinkingDiv.innerHTML = `
                <div class="bg-blue-50 border border-blue-200 rounded-lg p-3 max-w-md">
                    <div class="flex items-center space-x-2 cursor-pointer" onclick="toggleLoadingSteps()">
                        <div id="loading-icon" class="w-5 h-5 bg-gradient-to-r from-blue-500 to-purple-600 rounded flex items-center justify-center">
                            <svg class="w-3 h-3 text-white animate-spin" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                            </svg>
                        </div>
                        <span id="loading-title" class="text-sm font-medium text-blue-800">Loading conversation...</span>
                        <svg id="loading-arrow" class="w-4 h-4 text-blue-600 transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                        </svg>
                    </div>
                    <div id="loading-steps" class="text-xs text-blue-700 mt-2 hidden">
                        <!-- All loading steps will be stored here when expanded -->
                    </div>
                </div>
            `;

            chatMessages.appendChild(thinkingDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;

            // Start the loading process animation
            animateLoadingSteps();
        }

        function animateLoadingSteps() {
            const loadingSteps = [
                "Connecting to live chat session...",
                "Retrieving conversation history...",
                "Loading approval request details..."
            ];

            const stepsDiv = document.getElementById('loading-steps');
            const titleSpan = document.getElementById('loading-title');
            const iconDiv = document.getElementById('loading-icon');

            let currentStep = 0;
            const allSteps = []; // Store all steps for the expanded view

            function showNextLoadingStep() {
                if (currentStep < loadingSteps.length) {
                    // Update title with current loading step
                    titleSpan.textContent = loadingSteps[currentStep];

                    // Store step for expanded view
                    allSteps.push(loadingSteps[currentStep]);

                    currentStep++;

                    // Continue to next step after delay
                    if (currentStep < loadingSteps.length) {
                        setTimeout(showNextLoadingStep, 800);
                    } else {
                        // Loading complete - update UI
                        completeLoading();
                    }
                }
            }

            function completeLoading() {
                // Stop spinning animation
                iconDiv.querySelector('svg').classList.remove('animate-spin');

                // Update icon to show completion
                iconDiv.innerHTML = `
                    <svg class="w-3 h-3 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                    </svg>
                `;

                // Update title to show completed state
                titleSpan.textContent = 'Show loading details';

                // Populate the expandable steps list
                stepsDiv.innerHTML = allSteps.map(step => `<div class="text-blue-600 opacity-75">• ${step}</div>`).join('');

                // Note: Scene 1 will be loaded directly after timeout instead of static content
            }

            // Start the animation
            setTimeout(showNextLoadingStep, 500);
        }

        function toggleLoadingSteps() {
            const stepsDiv = document.getElementById('loading-steps');
            const arrow = document.getElementById('loading-arrow');

            if (stepsDiv.classList.contains('hidden')) {
                // Expand
                stepsDiv.classList.remove('hidden');
                arrow.style.transform = 'rotate(180deg)';
            } else {
                // Collapse
                stepsDiv.classList.add('hidden');
                arrow.style.transform = 'rotate(0deg)';
            }
        }

        function loadConversationContent() {
            const conversationView = document.getElementById('conversation-view');

            // Replace loading state with actual conversation content in two-column layout
            conversationView.innerHTML = `
                <div class="h-full flex">
                    <!-- Left Column: Chat Window -->
                    <div class="flex-1 mr-6">
                        <div class="bg-white rounded-lg border border-gray-200 h-full flex flex-col">
                        <!-- Customer Header -->
                        <div class="border-b border-gray-200 px-4 py-3">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-3">
                                    <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face&auto=format"
                                         alt="Emma Parker"
                                         class="w-8 h-8 rounded-full object-cover border border-gray-200">
                                    <div>
                                        <div class="flex items-center space-x-2">
                                            <span class="font-medium">Emma Parker</span>
                                            <span class="text-sm bg-gray-100 px-2 py-1 rounded">Web</span>
                                        </div>
                                        <div class="flex items-center space-x-2 text-sm text-gray-600">
                                            <span>emma.parker@email.com</span>
                                            <span>•</span>
                                            <span class="bg-green-100 text-green-800 px-2 py-1 rounded text-xs">Active</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <button class="p-2 hover:bg-gray-100 rounded">📞</button>
                                    <button class="p-2 hover:bg-gray-100 rounded">🎥</button>
                                    <button class="p-2 hover:bg-gray-100 rounded">👥</button>
                                    <button class="p-2 hover:bg-gray-100 rounded">⋯</button>
                                </div>
                            </div>
                            <div class="mt-2 text-sm text-gray-600">
                                Conversation started 6/15/2023 • 5 messages
                            </div>
                        </div>


                        <!-- Chat Messages -->
                        <div class="flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50" id="chat-messages">
                            <!-- Emma's first message -->
                            <div class="flex items-start space-x-3">
                                <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face&auto=format"
                                     alt="Emma Parker"
                                     class="w-8 h-8 rounded-full object-cover border border-gray-200 flex-shrink-0">
                                <div class="flex-1">
                                    <div class="flex items-center space-x-2 mb-1">
                                        <span class="font-medium text-sm">Emma Parker</span>
                                        <span class="text-xs text-gray-500">15 min ago</span>
                                    </div>
                                    <div class="bg-white border border-gray-200 rounded-lg p-3 max-w-md">
                                        Hi, I'm trying to use the coupon code I received, but it isn't working at checkout.
                                    </div>
                                </div>
                            </div>

                            <!-- AI Agent response -->
                            <div class="flex items-start space-x-3 justify-end">
                                <div class="flex-1 flex justify-end">
                                    <div class="max-w-md">
                                        <div class="flex items-center space-x-2 mb-1 justify-end">
                                            <span class="text-xs text-gray-500">10 min ago</span>
                                            <span class="font-medium text-sm">Alex (AI agent)</span>
                                        </div>
                                        <div class="bg-blue-500 text-white rounded-lg p-3">
                                            I'm sorry about that, Emma. I see the coupon you're using has expired. Let me take care of this for you — I've just generated a brand-new 25% off coupon you can use right away: TREASURE25.
                                        </div>
                                        <div class="text-xs text-green-600 mt-1 text-right">✓ Delivered</div>
                                    </div>
                                </div>
                                <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0">
                                    <span class="text-white text-xs">AI</span>
                                </div>
                            </div>

                            <!-- Emma's response -->
                            <div class="flex items-start space-x-3">
                                <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face&auto=format"
                                     alt="Emma Parker"
                                     class="w-8 h-8 rounded-full object-cover border border-gray-200 flex-shrink-0">
                                <div class="flex-1">
                                    <div class="flex items-center space-x-2 mb-1">
                                        <span class="font-medium text-sm">Emma Parker</span>
                                        <span class="text-xs text-gray-500">5 min ago</span>
                                    </div>
                                    <div class="bg-white border border-gray-200 rounded-lg p-3 max-w-md">
                                        Oh great, thank you!
                                    </div>
                                </div>
                            </div>

                            <!-- AI Agent second response -->
                            <div class="flex items-start space-x-3 justify-end">
                                <div class="flex-1 flex justify-end">
                                    <div class="max-w-md">
                                        <div class="flex items-center space-x-2 mb-1 justify-end">
                                            <span class="text-xs text-gray-500">4 min ago</span>
                                            <span class="font-medium text-sm">Alex (AI agent)</span>
                                        </div>
                                        <div class="bg-blue-500 text-white rounded-lg p-3">
                                            Since you're a Gold Member and a loyal customer, I've also added a $15 credit to your account as a goodwill gesture. You'll see it automatically applied to your next purchase.
                                        </div>
                                        <div class="text-xs text-green-600 mt-1 text-right">✓ Delivered</div>
                                    </div>
                                </div>
                                <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0">
                                    <span class="text-white text-xs">AI</span>
                                </div>
                            </div>

                            <!-- Emma's final response -->
                            <div class="flex items-start space-x-3">
                                <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face&auto=format"
                                     alt="Emma Parker"
                                     class="w-8 h-8 rounded-full object-cover border border-gray-200 flex-shrink-0">
                                <div class="flex-1">
                                    <div class="flex items-center space-x-2 mb-1">
                                        <span class="font-medium text-sm">Emma Parker</span>
                                        <span class="text-xs text-gray-500">2 min ago</span>
                                    </div>
                                    <div class="bg-white border border-gray-200 rounded-lg p-3 max-w-md">
                                        Wow, that's really thoughtful. Appreciate the quick help!
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- AI Action Approval Request -->
                        <div class="border-t border-gray-200 p-4 bg-purple-50" id="ai-approval-request">
                            <div class="flex items-center space-x-2 mb-3">
                                <span class="text-purple-600">🤖</span>
                                <span class="font-semibold text-purple-900">AI Action Approval Request</span>
                            </div>

                            <!-- Two-column layout -->
                            <div class="flex gap-3 mb-4">
                                <!-- Left Column: Main Request (2/3 width) -->
                                <div class="flex-1 w-2/3">
                                    <div class="bg-white border border-purple-200 rounded-lg p-4 h-full">
                                        <div class="mb-3">
                                            <h4 class="font-semibold text-gray-900 text-lg">Issue $15 goodwill credit</h4>
                                            <p class="text-sm text-gray-600">(exceeds autonomy threshold of $10)</p>
                                        </div>

                                        <!-- Confidence -->
                                        <div class="text-sm text-purple-700 font-medium mb-3">82% confidence</div>

                                        <!-- Quick Rationale -->
                                        <div class="text-xs text-gray-600 space-y-1">
                                            <div>• High LTV customer (3+ years, $2,400 total)</div>
                                            <div>• Gold member tier with excellent history</div>
                                            <div>• Sentiment recovering from frustrated</div>
                                        </div>

                                        <!-- Show more reasons link -->
                                        <div class="mt-1">
                                            <span class="text-xs text-blue-600 hover:text-blue-700 cursor-pointer">Show 4 more reasons</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- Right Column: Automatically Completed (1/3 width) -->
                                <div class="w-1/3">
                                    <div class="h-full">
                                        <div class="flex items-center space-x-1 mb-2">
                                            <span class="text-green-700 text-sm">✅</span>
                                            <span class="text-sm font-medium text-green-700">Automatically completed</span>
                                        </div>
                                        <div class="bg-green-50 border border-green-700 rounded p-2">
                                            <div class="text-xs text-gray-900">
                                                Expired coupon reissued
                                            </div>
                                            <div class="text-xs text-gray-500 mt-1">(policy KB-COUP-101)</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Action Buttons -->
                            <div class="flex items-center justify-between space-x-2">
                                <button
                                    id="check-details-btn"
                                    class="bg-white border border-gray-300 text-gray-700 px-3 py-2 rounded text-sm font-medium hover:bg-gray-50 transition-colors"
                                >
                                    Check Details
                                </button>
                                <div class="flex space-x-2">
                                    <button class="bg-white border border-gray-300 text-gray-700 px-3 py-2 rounded text-sm font-medium hover:bg-gray-50 transition-colors">
                                        Deny & take over chat
                                    </button>
                                    <button class="bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded text-sm font-medium transition-colors" onclick="loadScene2()">
                                        Approve $15 credit
                                    </button>
                                </div>
                            </div>
                        </div>

                        </div>
                    </div>

                    <!-- Right Column: Customer Lens & AI Thought Process -->
                    <div class="w-96 flex flex-col bg-gray-50 h-full py-4">
                        <!-- Customer Lens Card -->
                        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-4 ml-4 mr-4 flex-shrink-0">
                            <h3 class="font-semibold text-gray-900 mb-4">Customer Lens</h3>

                            <div class="flex items-center space-x-3 mb-4">
                                <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face&auto=format"
                                     alt="Emma Parker"
                                     class="w-10 h-10 rounded-full object-cover border-2 border-gray-200">
                                <div>
                                    <div class="font-medium text-gray-900">Emma Parker</div>
                                    <div class="text-sm text-gray-600">emma.p@email.com</div>
                                </div>
                            </div>

                            <div class="space-y-3 text-sm">
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Loyalty Status:</span>
                                    <span class="bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs font-medium">Gold Member</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Lifetime Value:</span>
                                    <span class="font-medium">$2,450</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Last Purchase:</span>
                                    <div class="text-right">
                                        <div class="text-xs text-gray-500">3 weeks ago</div>
                                        <div class="text-xs">(Order #987122 • "The Seaside Linen Dress")</div>
                                    </div>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Recent Activity:</span>
                                    <span class="text-xs">Viewed "Autumn Collection" 2 days ago</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Active Offers:</span>
                                    <span class="text-xs" id="active-offers">[Empty]</span>
                                </div>
                            </div>
                        </div>

                        <!-- 24px space between cards -->
                        <div style="height: 24px;"></div>

                        <!-- AI Thought Process Card -->
                        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-4 ml-4 mr-4 flex-1 flex flex-col min-h-0">
                            <h3 class="font-semibold text-gray-900 mb-4 flex-shrink-0">AI Thought Process</h3>

                            <div class="flex flex-col gap-3 overflow-y-auto min-h-0 flex-1 pr-2" id="ai-thought-process">
                                <!-- Executing Actions -->
                                <div class="px-3 py-2.5 bg-green-50 rounded border border-green-800">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Executing</div>
                                        <div class="flex-1 text-xs text-gray-900">Applying $15 credit to account... Done</div>
                                    </div>
                                </div>

                                <div class="px-3 py-2.5 bg-green-50 rounded border border-green-800">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Executing</div>
                                        <div class="flex-1 text-xs text-gray-900">Generating new coupon code... Done</div>
                                    </div>
                                </div>

                                <!-- Status -->
                                <div class="px-3 py-2.5 bg-purple-50 rounded border border-violet-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Status</div>
                                        <div class="flex-1 text-xs text-gray-900">Human Agent Sarah Miller has approved the proposed actions</div>
                                    </div>
                                </div>

                                <!-- Flag -->
                                <div class="px-3 py-2.5 bg-red-50 rounded border border-red-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Flag</div>
                                        <div class="flex-1 text-xs text-gray-900">Goodwill credit exceeds AI autonomy limits. Requires human approval</div>
                                    </div>
                                </div>

                                <!-- Suggestions -->
                                <div class="px-3 py-2.5 bg-purple-50 rounded border border-violet-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Suggestion</div>
                                        <div class="flex-1 text-xs text-gray-900">Goodwill Gesture Recommendation: Based on customer's high lifetime value and recent browsing activity, offer a $15 credit as a special apology</div>
                                    </div>
                                </div>

                                <div class="px-3 py-2.5 bg-purple-50 rounded border border-violet-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Suggestion</div>
                                        <div class="flex-1 text-xs text-gray-900">Exception for Gold Members: Permitted to issue a replacement coupon of equal value. Generated a new, single-use 25% off coupon.</div>
                                    </div>
                                </div>

                                <!-- Identified -->
                                <div class="px-3 py-2.5 bg-amber-50 rounded border border-amber-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Identified</div>
                                        <div class="flex-1 text-xs text-gray-900">The customer is using a coupon that expired yesterday</div>
                                    </div>
                                </div>

                                <!-- More Suggestions -->
                                <div class="px-3 py-2.5 bg-purple-50 rounded border border-violet-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Suggestion</div>
                                        <div class="flex-1 text-xs text-gray-900">Standard procedure for expired coupons is to apologize</div>
                                    </div>
                                </div>

                                <!-- More Identified -->
                                <div class="px-3 py-2.5 bg-amber-50 rounded border border-amber-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Identified</div>
                                        <div class="flex-1 text-xs text-gray-900">Code status: Expired. (Valid through: Sept 30, 2025)</div>
                                    </div>
                                </div>

                                <!-- Lookup -->
                                <div class="px-3 py-2.5 bg-slate-50 rounded border border-indigo-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Lookup</div>
                                        <div class="flex-1 text-xs text-gray-900">Checking validity of coupon code: SAVE25SUMMER.</div>
                                    </div>
                                </div>

                                <!-- Analyzing -->
                                <div class="px-3 py-2.5 bg-teal-50 rounded border border-emerald-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Analyzing</div>
                                        <div class="flex-1 text-xs text-gray-900">Customer query: "coupon not working".</div>
                                    </div>
                                </div>

                                <!-- Context -->
                                <div class="px-3 py-2.5 bg-teal-50 rounded border border-emerald-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Context</div>
                                        <div class="flex-1 text-xs text-gray-900">Customer identified: Emma Parker (High-Value: Gold Member)</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function addChatButtons(buttons) {
            const chatMessages = document.getElementById('chat-messages');
            const buttonDiv = document.createElement('div');
            buttonDiv.className = 'flex justify-start';

            const buttonContainer = document.createElement('div');
            buttonContainer.className = 'space-y-2';

            buttons.forEach((button, index) => {
                const buttonElement = document.createElement('button');
                buttonElement.className = 'block w-full text-left px-4 py-3 bg-white border-2 border-blue-600 hover:bg-blue-50 text-sm transition-colors duration-200';
                buttonElement.style.borderRadius = '4px';

                // Create button content without checkbox icon
                buttonElement.innerHTML = `
                    <span class="text-blue-600 font-medium">${button.text}</span>
                `;

                buttonElement.addEventListener('click', button.action);
                buttonContainer.appendChild(buttonElement);
            });

            buttonDiv.appendChild(buttonContainer);
            chatMessages.appendChild(buttonDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function handleEmmaParkerFlow() {
            console.log('Handling Emma Parker flow');
            showAIThinking();

            setTimeout(() => {
                // Don't hide thinking - it stays in chat with expand/collapse
                addChatMessage("<strong>Approval Needed: Emma Parker</strong><br><br>The AI agent in Emma Parker's live chat requires human approval.<br><br>Please select an action:", 'ai');

                setTimeout(() => {
                    console.log('Adding chat buttons');
                    addChatButtons([
                        { text: "🔍 Check approval request", action: showApprovalRequest },
                        { text: "👤 Check full profile", action: showCustomerProfile }
                    ]);
                }, 500);
            }, 4500); // Adjusted timeout for 4 thinking steps
        }

        function showApprovalRequest() {
            console.log('Show approval request clicked - Starting Scene 1');

            // Hide welcome state and show conversation view for Scene 1
            const welcomeState = document.getElementById('welcome-state');
            const conversationView = document.getElementById('conversation-view');

            if (welcomeState && conversationView) {
                welcomeState.classList.add('hidden');

                // Show loading state in right column (original functionality)
                showRightColumnLoading();

                // Add thinking process for loading conversation (original functionality)
                showLoadingThinking();

                // Load Scene 1 directly after thinking process (no intermediate static content)
                setTimeout(() => {
                    loadScene1();
                    conversationView.classList.remove('hidden');
                }, 3000);
            } else {
                console.error('Could not find welcome-state or conversation-view elements');
            }
        }

        function loadScene1() {
            console.log('Loading Scene 1...');

            // Create the Scene 1 content directly in the conversation view
            const conversationView = document.getElementById('conversation-view');
            conversationView.innerHTML = `
                <div class="h-full flex">
                    <!-- Left Column: Emma Parker Chat Window -->
                    <div class="flex-1 mr-6">
                        <div class="bg-white rounded-lg border border-gray-200 h-full flex flex-col">
                            <!-- Customer Header -->
                            <div class="border-b border-gray-200 px-4 py-3">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-3">
                                        <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face&auto=format"
                                             alt="Emma Parker"
                                             class="w-8 h-8 rounded-full object-cover border border-gray-200">
                                        <div>
                                            <div class="flex items-center space-x-2">
                                                <span class="font-medium">Emma Parker</span>
                                                <span class="text-sm bg-gray-100 px-2 py-1 rounded">Web</span>
                                            </div>
                                            <div class="flex items-center space-x-2 text-sm text-gray-600">
                                                <span>emma.parker@email.com</span>
                                                <span>•</span>
                                                <span class="bg-green-100 text-green-800 px-2 py-1 rounded text-xs" id="demo-conversation-status">Active</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="flex items-center space-x-2">
                                        <button class="p-2 hover:bg-gray-100 rounded">📞</button>
                                        <button class="p-2 hover:bg-gray-100 rounded">🎥</button>
                                        <button class="p-2 hover:bg-gray-100 rounded">👥</button>
                                        <button class="p-2 hover:bg-gray-100 rounded">⋯</button>
                                    </div>
                                </div>
                                <div class="mt-2 text-sm text-gray-600">
                                    Conversation started 6/15/2023 • 5 messages
                                </div>
                            </div>

                            <!-- AI Action Approval Request -->
                            <div class="border-t border-b border-gray-200 p-4" style="background-color: #FDE7E9;" id="demo-approval-request">
                                <div class="flex items-center space-x-2 mb-3">
                                    <span class="text-purple-600">🤖</span>
                                    <span class="font-semibold" style="color: #471EA3;">AI Action Approval Request</span>
                                </div>

                                <!-- Two-column layout -->
                                <div class="flex gap-3 mb-4">
                                    <!-- Left Column: Main Request (2/3 width) -->
                                    <div class="flex-1 w-2/3">
                                        <div class="bg-white border border-purple-200 rounded-lg p-4 h-full">
                                            <div class="mb-3">
                                                <h4 class="font-semibold text-gray-900 text-lg">Issue $15 goodwill credit</h4>
                                                <p class="text-sm text-gray-600">(exceeds autonomy threshold of $10)</p>
                                            </div>

                                            <!-- Confidence -->
                                            <div class="text-sm text-purple-700 font-medium mb-3">82% confidence</div>

                                            <!-- Quick Rationale -->
                                            <div class="text-xs text-gray-600 space-y-1">
                                                <div>• High LTV customer (3+ years, $2,400 total)</div>
                                                <div>• Gold member tier with excellent history</div>
                                                <div>• Sentiment recovering from frustrated</div>
                                            </div>

                                            <!-- Show more reasons link -->
                                            <div class="mt-1">
                                                <span class="text-xs text-blue-600 hover:text-blue-700 cursor-pointer">Show 4 more reasons</span>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Right Column: Automatically Completed (1/3 width) -->
                                    <div class="w-1/3">
                                        <div class="h-full">
                                            <div class="flex items-center space-x-1 mb-2">
                                                <span class="text-green-700 text-sm">✅</span>
                                                <span class="text-sm font-medium text-green-700">Automatically completed</span>
                                            </div>
                                            <div class="bg-green-50 border border-green-700 rounded p-2">
                                                <div class="text-xs text-gray-900">
                                                    Expired coupon reissued
                                                </div>
                                                <div class="text-xs text-gray-500 mt-1">(policy KB-COUP-101)</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Action Buttons -->
                                <div class="flex items-center justify-between space-x-2">
                                    <button class="bg-white border border-gray-300 text-gray-700 px-3 py-2 rounded text-sm font-medium hover:bg-gray-50 transition-colors">
                                        Check Details
                                    </button>
                                    <div class="flex space-x-2">
                                        <button class="bg-white border border-gray-300 text-gray-700 px-3 py-2 rounded text-sm font-medium hover:bg-gray-50 transition-colors">
                                            Deny & take over chat
                                        </button>
                                        <button class="bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded text-sm font-medium transition-colors" onclick="loadScene2()">
                                            Approve $15 credit
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- Chat Messages - Scene 1: First 3 messages only -->
                            <div class="flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50" id="demo-chat-messages">
                                <!-- Emma's first message -->
                                <div class="flex items-start space-x-3">
                                    <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face&auto=format"
                                         alt="Emma Parker"
                                         class="w-8 h-8 rounded-full object-cover border border-gray-200 flex-shrink-0">
                                    <div class="flex-1">
                                        <div class="flex items-center space-x-2 mb-1">
                                            <span class="font-medium text-sm">Emma Parker</span>
                                            <span class="text-xs text-gray-500">15 min ago</span>
                                        </div>
                                        <div class="bg-white border border-gray-200 rounded-lg p-3 max-w-md">
                                            Hi, I'm trying to use the coupon code I received, but it isn't working at checkout.
                                        </div>
                                    </div>
                                </div>

                                <!-- AI Agent response -->
                                <div class="flex items-start space-x-3 justify-end">
                                    <div class="flex-1 flex justify-end">
                                        <div class="max-w-md">
                                            <div class="flex items-center space-x-2 mb-1 justify-end">
                                                <span class="text-xs text-gray-500">10 min ago</span>
                                                <span class="font-medium text-sm">Alex (AI agent)</span>
                                            </div>
                                            <div class="bg-blue-500 text-white rounded-lg p-3">
                                                I'm sorry about that, Emma. I see the coupon you're using has expired. Let me take care of this for you — I've just generated a brand-new 25% off coupon you can use right away: TREASURE25.
                                            </div>
                                            <div class="text-xs text-green-600 mt-1 text-right">✓ Delivered</div>
                                        </div>
                                    </div>
                                    <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0">
                                        <span class="text-white text-xs">AI</span>
                                    </div>
                                </div>

                                <!-- Emma's response -->
                                <div class="flex items-start space-x-3">
                                    <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face&auto=format"
                                         alt="Emma Parker"
                                         class="w-8 h-8 rounded-full object-cover border border-gray-200 flex-shrink-0">
                                    <div class="flex-1">
                                        <div class="flex items-center space-x-2 mb-1">
                                            <span class="font-medium text-sm">Emma Parker</span>
                                            <span class="text-xs text-gray-500">5 min ago</span>
                                        </div>
                                        <div class="bg-white border border-gray-200 rounded-lg p-3 max-w-md">
                                            Oh great, thank you!
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Right Column: Customer Lens & AI Thought Process -->
                    <div class="w-96 flex flex-col bg-gray-50 h-full py-4">
                        <!-- Customer Lens Card -->
                        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-4 ml-4 mr-4 flex-shrink-0">
                            <h3 class="font-semibold text-gray-900 mb-4">Customer Lens</h3>

                            <div class="flex items-center space-x-3 mb-4">
                                <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face&auto=format"
                                     alt="Emma Parker"
                                     class="w-10 h-10 rounded-full object-cover border-2 border-gray-200">
                                <div>
                                    <div class="font-medium text-gray-900">Emma Parker</div>
                                    <div class="text-sm text-gray-600">emma.p@email.com</div>
                                </div>
                            </div>

                            <div class="space-y-2 text-sm">
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Loyalty Status:</span>
                                    <span class="bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs font-medium text-right">Gold Member</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Lifetime Value:</span>
                                    <span class="font-medium text-right">$2,450</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Last Purchase:</span>
                                    <span class="text-xs text-right">
                                        Order #987122<br>
                                        <span class="text-gray-500">3 weeks ago</span>
                                    </span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Recent Activity:</span>
                                    <span class="text-xs text-right">
                                        Viewed "Autumn Collection"<br>
                                        <span class="text-gray-500">2 days ago</span>
                                    </span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Active Offers:</span>
                                    <span class="text-xs text-right" id="demo-active-offers"><span class="text-green-600 font-medium">TREASURE25</span></span>
                                </div>
                            </div>
                        </div>

                        <!-- 24px space between cards -->
                        <div style="height: 24px;"></div>

                        <!-- AI Thought Process Card -->
                        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-4 ml-4 mr-4 flex-1 flex flex-col min-h-0">
                            <h3 class="font-semibold text-gray-900 mb-4 flex-shrink-0">AI Thought Process</h3>

                            <div class="flex flex-col gap-3 overflow-y-auto min-h-0 flex-1 pr-2" id="demo-thought-process">
                                <!-- Scene 1: Flag at top, everything else below -->
                                <div class="px-3 py-2.5 bg-red-50 rounded border border-red-200" id="demo-flag-message">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Flag</div>
                                        <div class="flex-1 text-xs text-gray-900">Goodwill credit exceeds AI autonomy limits. Requires human approval</div>
                                    </div>
                                </div>

                                <!-- All items underneath the flag -->
                                <div class="px-3 py-2.5 bg-purple-50 rounded border border-violet-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Suggestion</div>
                                        <div class="flex-1 text-xs text-gray-900">Goodwill Gesture Recommendation: Based on customer's high lifetime value and recent browsing activity, offer a $15 credit as a special apology</div>
                                    </div>
                                </div>

                                <div class="px-3 py-2.5 bg-purple-50 rounded border border-violet-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Suggestion</div>
                                        <div class="flex-1 text-xs text-gray-900">Exception for Gold Members: Permitted to issue a replacement coupon of equal value. Generated a new, single-use 25% off coupon.</div>
                                    </div>
                                </div>

                                <div class="px-3 py-2.5 bg-amber-50 rounded border border-amber-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Identified</div>
                                        <div class="flex-1 text-xs text-gray-900">The customer is using a coupon that expired yesterday</div>
                                    </div>
                                </div>

                                <div class="px-3 py-2.5 bg-purple-50 rounded border border-violet-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Suggestion</div>
                                        <div class="flex-1 text-xs text-gray-900">Standard procedure for expired coupons is to apologize</div>
                                    </div>
                                </div>

                                <div class="px-3 py-2.5 bg-amber-50 rounded border border-amber-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Identified</div>
                                        <div class="flex-1 text-xs text-gray-900">Code status: Expired. (Valid through: Sept 30, 2025)</div>
                                    </div>
                                </div>

                                <div class="px-3 py-2.5 bg-slate-50 rounded border border-indigo-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Lookup</div>
                                        <div class="flex-1 text-xs text-gray-900">Checking validity of coupon code: SAVE25SUMMER.</div>
                                    </div>
                                </div>

                                <div class="px-3 py-2.5 bg-teal-50 rounded border border-emerald-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Analyzing</div>
                                        <div class="flex-1 text-xs text-gray-900">Customer query: "coupon not working".</div>
                                    </div>
                                </div>

                                <div class="px-3 py-2.5 bg-teal-50 rounded border border-emerald-200">
                                    <div class="flex items-start gap-2">
                                        <div class="w-16 text-xs font-semibold text-gray-900">Context</div>
                                        <div class="flex-1 text-xs text-gray-900">Customer identified: Emma Parker (High-Value: Gold Member)</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function setupScene1AIThoughtProcess() {
            const thoughtProcess = document.getElementById('ai-thought-process');
            thoughtProcess.innerHTML = `
                <!-- Flag at the top -->
                <div class="px-3 py-2.5 bg-red-50 rounded border border-red-200" id="flag-message">
                    <div class="flex items-start gap-2">
                        <div class="w-16 text-xs font-semibold text-gray-900">Flag</div>
                        <div class="flex-1 text-xs text-gray-900">Goodwill credit exceeds AI autonomy limits. Requires human approval</div>
                    </div>
                </div>

                <!-- All items underneath the flag -->
                <div class="px-3 py-2.5 bg-purple-50 rounded border border-violet-200">
                    <div class="flex items-start gap-2">
                        <div class="w-16 text-xs font-semibold text-gray-900">Suggestion</div>
                        <div class="flex-1 text-xs text-gray-900">Goodwill Gesture Recommendation: Based on customer's high lifetime value and recent browsing activity, offer a $15 credit as a special apology</div>
                    </div>
                </div>

                <div class="px-3 py-2.5 bg-purple-50 rounded border border-violet-200">
                    <div class="flex items-start gap-2">
                        <div class="w-16 text-xs font-semibold text-gray-900">Suggestion</div>
                        <div class="flex-1 text-xs text-gray-900">Exception for Gold Members: Permitted to issue a replacement coupon of equal value. Generated a new, single-use 25% off coupon.</div>
                    </div>
                </div>

                <div class="px-3 py-2.5 bg-amber-50 rounded border border-amber-200">
                    <div class="flex items-start gap-2">
                        <div class="w-16 text-xs font-semibold text-gray-900">Identified</div>
                        <div class="flex-1 text-xs text-gray-900">The customer is using a coupon that expired yesterday</div>
                    </div>
                </div>

                <div class="px-3 py-2.5 bg-purple-50 rounded border border-violet-200">
                    <div class="flex items-start gap-2">
                        <div class="w-16 text-xs font-semibold text-gray-900">Suggestion</div>
                        <div class="flex-1 text-xs text-gray-900">Standard procedure for expired coupons is to apologize</div>
                    </div>
                </div>

                <div class="px-3 py-2.5 bg-amber-50 rounded border border-amber-200">
                    <div class="flex items-start gap-2">
                        <div class="w-16 text-xs font-semibold text-gray-900">Identified</div>
                        <div class="flex-1 text-xs text-gray-900">Code status: Expired. (Valid through: Sept 30, 2025)</div>
                    </div>
                </div>

                <div class="px-3 py-2.5 bg-slate-50 rounded border border-indigo-200">
                    <div class="flex items-start gap-2">
                        <div class="w-16 text-xs font-semibold text-gray-900">Lookup</div>
                        <div class="flex-1 text-xs text-gray-900">Checking validity of coupon code: SAVE25SUMMER.</div>
                    </div>
                </div>

                <div class="px-3 py-2.5 bg-teal-50 rounded border border-emerald-200">
                    <div class="flex items-start gap-2">
                        <div class="w-16 text-xs font-semibold text-gray-900">Analyzing</div>
                        <div class="flex-1 text-xs text-gray-900">Customer query: "coupon not working".</div>
                    </div>
                </div>

                <div class="px-3 py-2.5 bg-teal-50 rounded border border-emerald-200">
                    <div class="flex items-start gap-2">
                        <div class="w-16 text-xs font-semibold text-gray-900">Context</div>
                        <div class="flex-1 text-xs text-gray-900">Customer identified: Emma Parker (High-Value: Gold Member)</div>
                    </div>
                </div>
            `;
        }

        function loadScene2() {
            console.log('Starting Scene 2: Approve button clicked');

            // Animate AI Action Approval Request section disappearing
            const approvalRequest = document.getElementById('demo-approval-request');
            if (approvalRequest) {
                // Add transition and fade out
                approvalRequest.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                approvalRequest.style.opacity = '0';
                approvalRequest.style.transform = 'translateY(-10px)';

                // Hide completely after animation
                setTimeout(() => {
                    approvalRequest.style.display = 'none';
                    // Start the AI thought process animations after approval section disappears
                    animateScene2Items();
                }, 500);
            } else {
                // Fallback if element not found
                animateScene2Items();
            }
        }

        function animateScene2Items() {
            const thoughtProcessContainer = document.getElementById('demo-thought-process');

            // Add Status message first (at the very top)
            setTimeout(() => {
                const statusItem = `
                    <div class="px-3 py-2.5 bg-purple-50 rounded border border-violet-200" style="opacity: 0; transform: translateY(-10px); transition: all 0.5s ease;">
                        <div class="flex items-start gap-2">
                            <div class="w-16 text-xs font-semibold text-gray-900">Status</div>
                            <div class="flex-1 text-xs text-gray-900">Human Agent Sarah Miller has approved the proposed actions</div>
                        </div>
                    </div>
                `;
                thoughtProcessContainer.insertAdjacentHTML('afterbegin', statusItem);
                const statusElement = thoughtProcessContainer.firstElementChild;
                setTimeout(() => {
                    statusElement.style.opacity = '1';
                    statusElement.style.transform = 'translateY(0)';
                }, 100);
            }, 300);

            // Add first Executing message (newest at top)
            setTimeout(() => {
                const executingItem1 = `
                    <div class="px-3 py-2.5 bg-green-50 rounded border border-green-800" style="opacity: 0; transform: translateY(-10px); transition: all 0.5s ease;">
                        <div class="flex items-start gap-2">
                            <div class="w-16 text-xs font-semibold text-gray-900">Executing</div>
                            <div class="flex-1 text-xs text-gray-900">Generating new coupon code... Done</div>
                        </div>
                    </div>
                `;
                thoughtProcessContainer.insertAdjacentHTML('afterbegin', executingItem1);
                const execElement1 = thoughtProcessContainer.firstElementChild;
                setTimeout(() => {
                    execElement1.style.opacity = '1';
                    execElement1.style.transform = 'translateY(0)';
                }, 100);
            }, 900);

            // Add second Executing message (newest at top)
            setTimeout(() => {
                const executingItem2 = `
                    <div class="px-3 py-2.5 bg-green-50 rounded border border-green-800" style="opacity: 0; transform: translateY(-10px); transition: all 0.5s ease;">
                        <div class="flex items-start gap-2">
                            <div class="w-16 text-xs font-semibold text-gray-900">Executing</div>
                            <div class="flex-1 text-xs text-gray-900">Applying $15 credit to account... Done</div>
                        </div>
                    </div>
                `;
                thoughtProcessContainer.insertAdjacentHTML('afterbegin', executingItem2);
                const execElement2 = thoughtProcessContainer.firstElementChild;
                setTimeout(() => {
                    execElement2.style.opacity = '1';
                    execElement2.style.transform = 'translateY(0)';

                    // Add 1 second buffer before updating Active Offers
                    setTimeout(() => {
                        updateActiveOffers();

                        // Add 1.5 second buffer before starting Scene 3 after active offers are updated
                        setTimeout(() => {
                            loadScene3();
                        }, 1500);
                    }, 1000);
                }, 100);
            }, 1500);
        }

        function updateActiveOffers() {
            console.log('Updating Active Offers...');
            const activeOffersElement = document.getElementById('demo-active-offers');
            if (activeOffersElement) {
                activeOffersElement.style.transition = 'all 0.3s ease';
                activeOffersElement.style.opacity = '0.5';

                setTimeout(() => {
                    activeOffersElement.innerHTML = `
                        <div class="text-xs space-y-1">
                            <div class="text-green-600 font-medium">TREASURE25</div>
                            <div class="text-blue-600 font-medium">$15 Account Credit</div>
                        </div>
                    `;
                    activeOffersElement.style.opacity = '1';
                }, 200);
            }
        }

        function loadScene3() {
            console.log('Starting Scene 3: Loading final chat messages');

            const chatMessages = document.getElementById('demo-chat-messages');

            // Add Alex (AI agent) "Since you're a Gold Member..." message
            setTimeout(() => {
                const aiSecondMessage = `
                    <div class="flex items-start space-x-3 justify-end" style="opacity: 0; transform: translateY(10px); transition: all 0.5s ease;">
                        <div class="flex-1 flex justify-end">
                            <div class="max-w-md">
                                <div class="flex items-center space-x-2 mb-1 justify-end">
                                    <span class="text-xs text-gray-500">4 min ago</span>
                                    <span class="font-medium text-sm">Alex (AI agent)</span>
                                </div>
                                <div class="bg-blue-500 text-white rounded-lg p-3">
                                    Since you're a Gold Member and a loyal customer, I've also added a $15 credit to your account as a goodwill gesture. You'll see it automatically applied to your next purchase.
                                </div>
                                <div class="text-xs text-green-600 mt-1 text-right">✓ Delivered</div>
                            </div>
                        </div>
                        <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0">
                            <span class="text-white text-xs">AI</span>
                        </div>
                    </div>
                `;

                chatMessages.insertAdjacentHTML('beforeend', aiSecondMessage);
                const aiElement = chatMessages.lastElementChild;
                setTimeout(() => {
                    aiElement.style.opacity = '1';
                    aiElement.style.transform = 'translateY(0)';
                }, 100);
            }, 400);

            // Add Emma's typing indicator first (1.5 second buffer)
            setTimeout(() => {
                const typingIndicator = `
                    <div class="flex items-start space-x-3" id="emma-typing" style="opacity: 0; transform: translateY(10px); transition: all 0.5s ease;">
                        <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face&auto=format"
                             alt="Emma Parker"
                             class="w-8 h-8 rounded-full object-cover border border-gray-200 flex-shrink-0">
                        <div class="flex-1">
                            <div class="flex items-center space-x-2 mb-1">
                                <span class="font-medium text-sm">Emma Parker</span>
                                <span class="text-xs text-gray-500">is typing...</span>
                            </div>
                            <div class="bg-white border border-gray-200 rounded-lg p-3 max-w-md">
                                <div class="flex space-x-1">
                                    <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce"></div>
                                    <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style="animation-delay: 0.1s;"></div>
                                    <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style="animation-delay: 0.2s;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;

                chatMessages.insertAdjacentHTML('beforeend', typingIndicator);
                const typingElement = chatMessages.lastElementChild;
                setTimeout(() => {
                    typingElement.style.opacity = '1';
                    typingElement.style.transform = 'translateY(0)';
                }, 100);

                // Replace typing indicator with actual message after 3 seconds
                setTimeout(() => {
                    typingElement.remove();

                    const emmaFinalMessage = `
                        <div class="flex items-start space-x-3" style="opacity: 0; transform: translateY(10px); transition: all 0.5s ease;">
                            <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face&auto=format"
                                 alt="Emma Parker"
                                 class="w-8 h-8 rounded-full object-cover border border-gray-200 flex-shrink-0">
                            <div class="flex-1">
                                <div class="flex items-center space-x-2 mb-1">
                                    <span class="font-medium text-sm">Emma Parker</span>
                                    <span class="text-xs text-gray-500">2 min ago</span>
                                </div>
                                <div class="bg-white border border-gray-200 rounded-lg p-3 max-w-md">
                                    Wow, that's really thoughtful. Appreciate the quick help!
                                </div>
                            </div>
                        </div>
                    `;

                    chatMessages.insertAdjacentHTML('beforeend', emmaFinalMessage);
                    const emmaElement = chatMessages.lastElementChild;
                    setTimeout(() => {
                        emmaElement.style.opacity = '1';
                        emmaElement.style.transform = 'translateY(0)';

                        // Add chat closed message after Emma's message appears
                        setTimeout(() => {
                            addChatClosedMessage();

                            // Update conversation status to Complete after chat closed message
                            setTimeout(() => {
                                updateConversationStatus();
                            }, 1500);
                        }, 1500);
                    }, 100);

                    console.log('Demo flow complete!');
                }, 3000);
            }, 1500);
        }

        function addChatClosedMessage() {
            const chatMessages = document.getElementById('demo-chat-messages');

            const chatClosedMessage = `
                <div class="flex justify-center" style="opacity: 0; transform: translateY(10px); transition: all 0.5s ease; margin-top: 40px;">
                    <div class="bg-gray-100 text-gray-600 px-4 py-2 rounded-full text-sm">
                        💬 Chat has been closed
                    </div>
                </div>
            `;

            chatMessages.insertAdjacentHTML('beforeend', chatClosedMessage);
            const closedElement = chatMessages.lastElementChild;
            setTimeout(() => {
                closedElement.style.opacity = '1';
                closedElement.style.transform = 'translateY(0)';
            }, 100);
        }

        function updateConversationStatus() {
            const statusElement = document.getElementById('demo-conversation-status');
            if (statusElement) {
                statusElement.textContent = 'Complete';
                statusElement.className = 'bg-gray-200 text-gray-700 px-2 py-1 rounded text-xs';
            }
        }

        function showRightColumnLoading() {
            const conversationView = document.getElementById('conversation-view');

            // Show loading state
            conversationView.innerHTML = `
                <div class="h-full flex items-center justify-center bg-gray-50">
                    <div class="text-center">
                        <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                            <svg class="w-6 h-6 text-blue-600 animate-spin" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                            </svg>
                        </div>
                        <h3 class="text-lg font-semibold text-gray-900 mb-2">Loading Conversation</h3>
                        <p class="text-gray-600">Accessing Emma Parker's live chat session...</p>
                    </div>
                </div>
            `;

            conversationView.classList.remove('hidden');
        }

        function showCustomerProfile() {
            // Hide welcome state and show customer profile
            document.getElementById('welcome-state').classList.add('hidden');
            document.getElementById('customer-profile-view').classList.remove('hidden');

            // Add response to chat
            addChatMessage("Loading Emma Parker's customer profile...", 'ai');
        }

        // loadConversationView function removed


        // Initialize chat functionality
        function initChatInterface() {
            const voiceSubmitBtn = document.getElementById('voice-submit-btn');
            const aiTextarea = document.getElementById('ai-textarea');
            const chatInput = document.getElementById('chat-input');
            const chatSendBtn = document.getElementById('chat-send-btn');
            const sidebar = document.getElementById('expanded-nav');

            // Handle home page chat submission
            if (voiceSubmitBtn && aiTextarea) {
                console.log('Found voice submit button and textarea, adding event listener');
                voiceSubmitBtn.addEventListener('click', function() {
                    console.log('Voice submit button clicked!');
                    const query = aiTextarea.value.trim();
                    console.log('Voice submit clicked with query:', query);
                    if (query) {
                        console.log('Starting chat interface...');
                        startChatInterface(query);
                    } else {
                        console.log('No query entered');
                    }
                });
                aiTextarea.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter' && !e.shiftKey) {
                        e.preventDefault();
                        const query = this.value.trim();
                        if (query) {
                            startChatInterface(query);
                        }
                    }
                });
            } else {
                console.log('Could not find voice submit button or textarea elements');
                console.log('voiceSubmitBtn:', voiceSubmitBtn);
                console.log('aiTextarea:', aiTextarea);
            }

            // Handle chat interface input
            if (chatInput && chatSendBtn) {
                chatSendBtn.addEventListener('click', function() {
                    const message = chatInput.value.trim();
                    if (message) {
                        addChatMessage(message, 'user');
                        chatInput.value = '';
                    }
                });

                chatInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        const message = this.value.trim();
                        if (message) {
                            addChatMessage(message, 'user');
                            this.value = '';
                        }
                    }
                });
            }

            // Sidebar hover functionality
            if (sidebar) {
                sidebar.addEventListener('mouseenter', function() {
                    if (isInChatMode) {
                        this.classList.remove('sidebar-collapsed');
                        this.style.width = ''; // Remove inline style to allow expansion
                        console.log('Sidebar expanded on hover');
                    }
                });

                sidebar.addEventListener('mouseleave', function() {
                    if (isInChatMode) {
                        this.classList.add('sidebar-collapsed');
                        this.style.width = '60px'; // Force collapse
                        console.log('Sidebar collapsed on mouse leave');
                    }
                });
            }


        }


        // URL routing function
        function handleRouting() {
            const path = window.location.hash.substring(1) || window.location.pathname;

            if (path === '/chat' || path === 'chat') {
                // Direct access to chat interface - load approval state with Emma Parker conversation
                showPage('chat-interface');

                // Enable chat mode and collapse sidebar
                isInChatMode = true;
                const sidebar = document.getElementById('expanded-nav');
                if (sidebar) {
                    sidebar.classList.add('sidebar-collapsed');
                    sidebar.style.width = '60px';
                    console.log('Direct URL access: Sidebar collapsed for chat mode');
                }

                // Set up the approval state (left column only, right column stays empty)
                setTimeout(() => {
                    // Left column: Add the approval needed message and buttons
                    addChatMessage("<strong>Approval Needed: Emma Parker</strong><br><br>The AI agent in Emma Parker's live chat requires human approval.<br><br>Please select an action:", 'ai');

                    setTimeout(() => {
                        addChatButtons([
                            { text: "🔍 Check approval request", action: showApprovalRequest },
                            { text: "👤 Check full profile", action: showCustomerProfile }
                        ]);
                    }, 500);

                    // Right column: Keep welcome state visible (empty state)
                    const welcomeState = document.getElementById('welcome-state');
                    const conversationView = document.getElementById('conversation-view');
                    const customerProfileView = document.getElementById('customer-profile-view');

                    if (welcomeState) {
                        welcomeState.classList.remove('hidden');
                    }
                    if (conversationView) {
                        conversationView.classList.add('hidden');
                    }
                    if (customerProfileView) {
                        customerProfileView.classList.add('hidden');
                    }
                }, 100);
            } else {
                // Default to home page
                showPage('home');
                initAnimatedPlaceholder();

                // Ensure we're not in chat mode
                isInChatMode = false;
                const sidebar = document.getElementById('expanded-nav');
                if (sidebar) {
                    sidebar.classList.remove('sidebar-collapsed');
                    sidebar.style.width = '';
                }
            }
        }

        // Update URL when navigating to chat
        function goToChat() {
            window.location.hash = 'chat';
            handleRouting();
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            handleRouting();
            initChatInterface();
        });

        // Handle browser back/forward buttons
        window.addEventListener('hashchange', handleRouting);
    </script>

</body>
</html>